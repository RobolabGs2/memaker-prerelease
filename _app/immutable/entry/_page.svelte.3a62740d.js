var Wo=Object.defineProperty;var Vo=(r,e,t)=>e in r?Wo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Re=(r,e,t)=>(Vo(r,typeof e!="symbol"?e+"":e,t),t);import{S as $e,i as we,s as ve,C as Be,J as le,K as ws,e as Ze,L as ys,m as ae,h as S,M as jn,b as G,G as X,D as xe,E as Me,F as ze,N as Oe,g as w,d as E,O as $n,P as ii,Q as ke,y as N,z as B,A as x,R as Ge,B as M,k as ne,l as re,n as W,T as Wn,U as tt,V as Pe,W as st,X as Se,v as je,f as We,Y as Zo,Z as wt,o as ln,a as fe,c as ce,_ as Xo,q as ge,r as be,$ as bn,p as dt,a0 as qo,a1 as Yo,H as Qe,w as Te,u as ot,a2 as Dt,a3 as ut,a4 as Ie,a5 as Ce,a6 as ft,I as Ct,t as yr}from"../chunks/index.0bb775c6.js";import{w as Kn}from"../chunks/index.0cddb539.js";var si={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function oi(r,e,t){const n=r.slice();return n[9]=e[t][0],n[10]=e[t][1],n}function mr(r){let e,t=[r[10]],n={};for(let i=0;i<t.length;i+=1)n=le(n,t[i]);return{c(){e=ws(r[9]),this.h()},l(i){e=ys(i,r[9],{}),ae(e).forEach(S),this.h()},h(){jn(e,n)},m(i,s){G(i,e,s)},p(i,s){n=Oe(t,[s&16&&i[10]]),jn(e,n)},d(i){i&&S(e)}}}function ai(r){let e=r[9],t,n=r[9]&&mr(r);return{c(){n&&n.c(),t=Ze()},l(i){n&&n.l(i),t=Ze()},m(i,s){n&&n.m(i,s),G(i,t,s)},p(i,s){i[9]?e?ve(e,i[9])?(n.d(1),n=mr(i),n.c(),n.m(t.parentNode,t)):n.p(i,s):(n=mr(i),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=i[9]},d(i){i&&S(t),n&&n.d(i)}}}function Ko(r){let e,t,n,i,s=r[4],o=[];for(let c=0;c<s.length;c+=1)o[c]=ai(oi(r,s,c));const a=r[8].default,l=Be(a,r,r[7],null);let u=[si,r[5],{width:r[2]},{height:r[2]},{stroke:r[1]},{"stroke-width":r[3]},{class:n=`tabler-icon tabler-icon-${r[0]} ${r[6].class??""}`}],f={};for(let c=0;c<u.length;c+=1)f=le(f,u[c]);return{c(){e=ws("svg");for(let c=0;c<o.length;c+=1)o[c].c();t=Ze(),l&&l.c(),this.h()},l(c){e=ys(c,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var h=ae(e);for(let m=0;m<o.length;m+=1)o[m].l(h);t=Ze(),l&&l.l(h),h.forEach(S),this.h()},h(){jn(e,f)},m(c,h){G(c,e,h);for(let m=0;m<o.length;m+=1)o[m].m(e,null);X(e,t),l&&l.m(e,null),i=!0},p(c,[h]){if(h&16){s=c[4];let m;for(m=0;m<s.length;m+=1){const d=oi(c,s,m);o[m]?o[m].p(d,h):(o[m]=ai(d),o[m].c(),o[m].m(e,t))}for(;m<o.length;m+=1)o[m].d(1);o.length=s.length}l&&l.p&&(!i||h&128)&&xe(l,a,c,c[7],i?ze(a,c[7],h,null):Me(c[7]),null),jn(e,f=Oe(u,[si,h&32&&c[5],(!i||h&4)&&{width:c[2]},(!i||h&4)&&{height:c[2]},(!i||h&2)&&{stroke:c[1]},(!i||h&8)&&{"stroke-width":c[3]},(!i||h&65&&n!==(n=`tabler-icon tabler-icon-${c[0]} ${c[6].class??""}`))&&{class:n}]))},i(c){i||(w(l,c),i=!0)},o(c){E(l,c),i=!1},d(c){c&&S(e),$n(o,c),l&&l.d(c)}}}function Jo(r,e,t){const n=["name","color","size","stroke","iconNode"];let i=ii(e,n),{$$slots:s={},$$scope:o}=e,{name:a}=e,{color:l="currentColor"}=e,{size:u=24}=e,{stroke:f=2}=e,{iconNode:c}=e;return r.$$set=h=>{t(6,e=le(le({},e),ke(h))),t(5,i=ii(e,n)),"name"in h&&t(0,a=h.name),"color"in h&&t(1,l=h.color),"size"in h&&t(2,u=h.size),"stroke"in h&&t(3,f=h.stroke),"iconNode"in h&&t(4,c=h.iconNode),"$$scope"in h&&t(7,o=h.$$scope)},e=ke(e),[a,l,u,f,c,i,e,o,s]}class Qo extends $e{constructor(e){super(),we(this,e,Jo,Ko,ve,{name:0,color:1,size:2,stroke:3,iconNode:4})}}const He=Qo;function ea(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function ta(r){let e,t;const n=[{name:"align-box-bottom-center"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[ea]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function na(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M9 15v2"}],["path",{d:"M12 11v6"}],["path",{d:"M15 13v4"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class ra extends $e{constructor(e){super(),we(this,e,na,ta,ve,{})}}const ia=ra;function sa(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function oa(r){let e,t;const n=[{name:"align-box-center-middle"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[sa]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function aa(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M11 15h2"}],["path",{d:"M9 12h6"}],["path",{d:"M10 9h4"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class la extends $e{constructor(e){super(),we(this,e,aa,oa,ve,{})}}const ua=la;function fa(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function ca(r){let e,t;const n=[{name:"align-box-top-center"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[fa]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ha(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M9 9v-2"}],["path",{d:"M12 13v-6"}],["path",{d:"M15 11v-4"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class ma extends $e{constructor(e){super(),we(this,e,ha,ca,ve,{})}}const da=ma;function pa(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function _a(r){let e,t;const n=[{name:"align-center"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[pa]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ga(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M8 12l8 0"}],["path",{d:"M6 18l12 0"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class ba extends $e{constructor(e){super(),we(this,e,ga,_a,ve,{})}}const va=ba;function $a(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function wa(r){let e,t;const n=[{name:"align-left"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[$a]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ya(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l10 0"}],["path",{d:"M4 18l14 0"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Ea extends $e{constructor(e){super(),we(this,e,ya,wa,ve,{})}}const ka=Ea;function Aa(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Ta(r){let e,t;const n=[{name:"align-right"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Aa]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Sa(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M10 12l10 0"}],["path",{d:"M6 18l14 0"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Ia extends $e{constructor(e){super(),we(this,e,Sa,Ta,ve,{})}}const Ca=Ia;function Fa(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Ra(r){let e,t;const n=[{name:"arrow-down"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Fa]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Pa(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M18 13l-6 6"}],["path",{d:"M6 13l6 6"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Na extends $e{constructor(e){super(),we(this,e,Pa,Ra,ve,{})}}const Ba=Na;function xa(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Ma(r){let e,t;const n=[{name:"arrow-up"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[xa]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function za(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M18 11l-6 -6"}],["path",{d:"M6 11l6 -6"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Ua extends $e{constructor(e){super(),we(this,e,za,Ma,ve,{})}}const Da=Ua;function La(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Oa(r){let e,t;const n=[{name:"bold"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[La]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Ga(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Ha extends $e{constructor(e){super(),we(this,e,Ga,Oa,ve,{})}}const ja=Ha;function Wa(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Va(r){let e,t;const n=[{name:"box-align-bottom"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Wa]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Za(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M4 14h16v5a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1v-5z"}],["path",{d:"M4 9v.01"}],["path",{d:"M4 4v.01"}],["path",{d:"M9 4v.01"}],["path",{d:"M15 4v.01"}],["path",{d:"M20 4v.01"}],["path",{d:"M20 9v.01"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Xa extends $e{constructor(e){super(),we(this,e,Za,Va,ve,{})}}const qa=Xa;function Ya(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Ka(r){let e,t;const n=[{name:"box-align-top"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Ya]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Ja(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M4 9.505h16v-5a1 1 0 0 0 -1 -1h-14a1 1 0 0 0 -1 1v5z"}],["path",{d:"M4 14.505v-.01"}],["path",{d:"M4 19.505v-.01"}],["path",{d:"M9 19.505v-.01"}],["path",{d:"M15 19.505v-.01"}],["path",{d:"M20 19.505v-.01"}],["path",{d:"M20 14.505v-.01"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Qa extends $e{constructor(e){super(),we(this,e,Ja,Ka,ve,{})}}const el=Qa;function tl(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function nl(r){let e,t;const n=[{name:"brand-github-filled"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[tl]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function rl(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M5.315 2.1c.791 -.113 1.9 .145 3.333 .966l.272 .161l.16 .1l.397 -.083a13.3 13.3 0 0 1 4.59 -.08l.456 .08l.396 .083l.161 -.1c1.385 -.84 2.487 -1.17 3.322 -1.148l.164 .008l.147 .017l.076 .014l.05 .011l.144 .047a1 1 0 0 1 .53 .514a5.2 5.2 0 0 1 .397 2.91l-.047 .267l-.046 .196l.123 .163c.574 .795 .93 1.728 1.03 2.707l.023 .295l.007 .272c0 3.855 -1.659 5.883 -4.644 6.68l-.245 .061l-.132 .029l.014 .161l.008 .157l.004 .365l-.002 .213l-.003 3.834a1 1 0 0 1 -.883 .993l-.117 .007h-6a1 1 0 0 1 -.993 -.883l-.007 -.117v-.734c-1.818 .26 -3.03 -.424 -4.11 -1.878l-.535 -.766c-.28 -.396 -.455 -.579 -.589 -.644l-.048 -.019a1 1 0 0 1 .564 -1.918c.642 .188 1.074 .568 1.57 1.239l.538 .769c.76 1.079 1.36 1.459 2.609 1.191l.001 -.678l-.018 -.168a5.03 5.03 0 0 1 -.021 -.824l.017 -.185l.019 -.12l-.108 -.024c-2.976 -.71 -4.703 -2.573 -4.875 -6.139l-.01 -.31l-.004 -.292a5.6 5.6 0 0 1 .908 -3.051l.152 -.222l.122 -.163l-.045 -.196a5.2 5.2 0 0 1 .145 -2.642l.1 -.282l.106 -.253a1 1 0 0 1 .529 -.514l.144 -.047l.154 -.03z","stroke-width":"0",fill:"currentColor"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class il extends $e{constructor(e){super(),we(this,e,rl,nl,ve,{})}}const sl=il;function ol(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function al(r){let e,t;const n=[{name:"brand-vk"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[ol]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ll(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M14 19h-4a8 8 0 0 1 -8 -8v-5h4v5a4 4 0 0 0 4 4h0v-9h4v4.5l.03 0a4.531 4.531 0 0 0 3.97 -4.496h4l-.342 1.711a6.858 6.858 0 0 1 -3.658 4.789h0a5.34 5.34 0 0 1 3.566 4.111l.434 2.389h0h-4a4.531 4.531 0 0 0 -3.97 -4.496v4.5z"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class ul extends $e{constructor(e){super(),we(this,e,ll,al,ve,{})}}const fl=ul;function cl(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function hl(r){let e,t;const n=[{name:"chevron-down"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[cl]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ml(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M6 9l6 6l6 -6"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class dl extends $e{constructor(e){super(),we(this,e,ml,hl,ve,{})}}const pl=dl;function _l(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function gl(r){let e,t;const n=[{name:"copy"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[_l]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function bl(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}],["path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class vl extends $e{constructor(e){super(),we(this,e,bl,gl,ve,{})}}const Es=vl;function $l(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function wl(r){let e,t;const n=[{name:"device-floppy"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[$l]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function yl(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}],["path",{d:"M14 4l0 4l-6 0l0 -4"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class El extends $e{constructor(e){super(),we(this,e,yl,wl,ve,{})}}const kl=El;function Al(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Tl(r){let e,t;const n=[{name:"help"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Al]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Sl(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}],["path",{d:"M12 17l0 .01"}],["path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Il extends $e{constructor(e){super(),we(this,e,Sl,Tl,ve,{})}}const Cl=Il;function Fl(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Rl(r){let e,t;const n=[{name:"history"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Fl]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Pl(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M12 8l0 4l2 2"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Nl extends $e{constructor(e){super(),we(this,e,Pl,Rl,ve,{})}}const Bl=Nl;function xl(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Ml(r){let e,t;const n=[{name:"info-circle"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[xl]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function zl(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}],["path",{d:"M12 9h.01"}],["path",{d:"M11 12h1v4h1"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Ul extends $e{constructor(e){super(),we(this,e,zl,Ml,ve,{})}}const Dl=Ul;function Ll(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Ol(r){let e,t;const n=[{name:"italic"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Ll]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Gl(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M11 5l6 0"}],["path",{d:"M7 19l6 0"}],["path",{d:"M14 5l-4 14"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Hl extends $e{constructor(e){super(),we(this,e,Gl,Ol,ve,{})}}const jl=Hl;function Wl(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Vl(r){let e,t;const n=[{name:"line-height"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Wl]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Zl(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M3 8l3 -3l3 3"}],["path",{d:"M3 16l3 3l3 -3"}],["path",{d:"M6 5l0 14"}],["path",{d:"M13 6l7 0"}],["path",{d:"M13 12l7 0"}],["path",{d:"M13 18l7 0"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Xl extends $e{constructor(e){super(),we(this,e,Zl,Vl,ve,{})}}const ql=Xl;function Yl(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Kl(r){let e,t;const n=[{name:"minus"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Yl]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Jl(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M5 12l14 0"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Ql extends $e{constructor(e){super(),we(this,e,Jl,Kl,ve,{})}}const eu=Ql;function tu(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function nu(r){let e,t;const n=[{name:"new-section"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[tu]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function ru(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M9 12l6 0"}],["path",{d:"M12 9l0 6"}],["path",{d:"M4 6v-1a1 1 0 0 1 1 -1h1m5 0h2m5 0h1a1 1 0 0 1 1 1v1m0 5v2m0 5v1a1 1 0 0 1 -1 1h-1m-5 0h-2m-5 0h-1a1 1 0 0 1 -1 -1v-1m0 -5v-2m0 -5"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class iu extends $e{constructor(e){super(),we(this,e,ru,nu,ve,{})}}const ks=iu;function su(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function ou(r){let e,t;const n=[{name:"photo-down"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[su]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function au(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4"}],["path",{d:"M14 14l1 -1c.653 -.629 1.413 -.815 2.13 -.559"}],["path",{d:"M19 16v6"}],["path",{d:"M22 19l-3 3l-3 -3"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class lu extends $e{constructor(e){super(),we(this,e,au,ou,ve,{})}}const uu=lu;function fu(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function cu(r){let e,t;const n=[{name:"photo-up"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[fu]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function hu(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l3.5 3.5"}],["path",{d:"M14 14l1 -1c.679 -.653 1.473 -.829 2.214 -.526"}],["path",{d:"M19 22v-6"}],["path",{d:"M22 19l-3 -3l-3 3"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class mu extends $e{constructor(e){super(),we(this,e,hu,cu,ve,{})}}const du=mu;function pu(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function _u(r){let e,t;const n=[{name:"photo"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[pu]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function gu(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class bu extends $e{constructor(e){super(),we(this,e,gu,_u,ve,{})}}const vu=bu;function $u(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function wu(r){let e,t;const n=[{name:"plus"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[$u]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function yu(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M5 12l14 0"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Eu extends $e{constructor(e){super(),we(this,e,yu,wu,ve,{})}}const As=Eu;function ku(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Au(r){let e,t;const n=[{name:"rectangle"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[ku]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Tu(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Su extends $e{constructor(e){super(),we(this,e,Tu,Au,ve,{})}}const Iu=Su;function Cu(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Fu(r){let e,t;const n=[{name:"settings"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Cu]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Ru(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Pu extends $e{constructor(e){super(),we(this,e,Ru,Fu,ve,{})}}const Nu=Pu;function Bu(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function xu(r){let e,t;const n=[{name:"trash"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Bu]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Mu(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M4 7l16 0"}],["path",{d:"M10 11l0 6"}],["path",{d:"M14 11l0 6"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class zu extends $e{constructor(e){super(),we(this,e,Mu,xu,ve,{})}}const Uu=zu;function Du(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Lu(r){let e,t;const n=[{name:"upload"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[Du]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Ou(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}],["path",{d:"M7 9l5 -5l5 5"}],["path",{d:"M12 4l0 12"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Gu extends $e{constructor(e){super(),we(this,e,Ou,Lu,ve,{})}}const Hu=Gu;function ju(r){let e;const t=r[2].default,n=Be(t,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&8)&&xe(n,t,i,i[3],e?ze(t,i[3],s,null):Me(i[3]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function Wu(r){let e,t;const n=[{name:"x"},r[1],{iconNode:r[0]}];let i={$$slots:{default:[ju]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)i=le(i,n[s]);return e=new He({props:i}),{c(){N(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,o){x(e,s,o),t=!0},p(s,[o]){const a=o&3?Oe(n,[n[0],o&2&&Ge(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){M(e,s)}}}function Vu(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=[["path",{d:"M18 6l-12 12"}],["path",{d:"M6 6l12 12"}]];return r.$$set=o=>{t(1,e=le(le({},e),ke(o))),"$$scope"in o&&t(3,i=o.$$scope)},e=ke(e),[s,e,n,i]}class Zu extends $e{constructor(e){super(),we(this,e,Vu,Wu,ve,{})}}const Xu=Zu;function qu(r){let e,t,n,i,s,o;const a=r[11].default,l=Be(a,r,r[10],null);return{c(){e=ne("main"),l&&l.c(),this.h()},l(u){e=re(u,"MAIN",{role:!0,tabindex:!0,title:!0,class:!0,style:!0});var f=ae(e);l&&l.l(f),f.forEach(S),this.h()},h(){W(e,"role","button"),W(e,"tabindex",1),W(e,"title",r[4]),W(e,"class",t=Wn(r[2])+" svelte-1nn75kw"),W(e,"style",n=`justify-content:${r[6]};width:${r[8]};${r[9]?`${r[9]};`:""}${r[3]};`),tt(e,"active",r[0]),tt(e,"disabled",r[1]),tt(e,"disablePadding",r[5]),tt(e,"border",r[7])},m(u,f){G(u,e,f),l&&l.m(e,null),i=!0,s||(o=[Pe(e,"click",r[12]),Pe(e,"mousemove",r[13]),Pe(e,"mouseout",r[14]),Pe(e,"mouseover",r[15]),Pe(e,"mouseup",r[16]),Pe(e,"mousedown",r[17]),Pe(e,"mouseenter",r[18]),Pe(e,"mouseleave",r[19]),Pe(e,"touchstart",r[20],{passive:!0}),Pe(e,"touchmove",r[21],{passive:!0}),Pe(e,"touchcancel",r[22],{passive:!0}),Pe(e,"touchend",r[23],{passive:!0}),Pe(e,"keydown",r[24]),Pe(e,"keyup",r[25]),Pe(e,"focus",r[26]),Pe(e,"focusin",r[27]),Pe(e,"focusout",r[28]),Pe(e,"blur",r[29])],s=!0)},p(u,[f]){l&&l.p&&(!i||f&1024)&&xe(l,a,u,u[10],i?ze(a,u[10],f,null):Me(u[10]),null),(!i||f&16)&&W(e,"title",u[4]),(!i||f&4&&t!==(t=Wn(u[2])+" svelte-1nn75kw"))&&W(e,"class",t),(!i||f&840&&n!==(n=`justify-content:${u[6]};width:${u[8]};${u[9]?`${u[9]};`:""}${u[3]};`))&&W(e,"style",n),(!i||f&5)&&tt(e,"active",u[0]),(!i||f&6)&&tt(e,"disabled",u[1]),(!i||f&36)&&tt(e,"disablePadding",u[5]),(!i||f&132)&&tt(e,"border",u[7])},i(u){i||(w(l,u),i=!0)},o(u){E(l,u),i=!1},d(u){u&&S(e),l&&l.d(u),s=!1,st(o)}}}function Yu(r,e,t){let{$$slots:n={},$$scope:i}=e,{active:s=!1}=e,{disabled:o=!1}=e,{type:a="default"}=e,{style:l=""}=e,{title:u=""}=e,{disablePadding:f=!1}=e,{justifyContent:c="center"}=e,{border:h=!0}=e,{width:m="100%"}=e,{height:d=""}=e;function p(z){Se.call(this,r,z)}function g(z){Se.call(this,r,z)}function _(z){Se.call(this,r,z)}function $(z){Se.call(this,r,z)}function k(z){Se.call(this,r,z)}function y(z){Se.call(this,r,z)}function P(z){Se.call(this,r,z)}function C(z){Se.call(this,r,z)}function A(z){Se.call(this,r,z)}function O(z){Se.call(this,r,z)}function L(z){Se.call(this,r,z)}function U(z){Se.call(this,r,z)}function se(z){Se.call(this,r,z)}function F(z){Se.call(this,r,z)}function I(z){Se.call(this,r,z)}function v(z){Se.call(this,r,z)}function q(z){Se.call(this,r,z)}function _e(z){Se.call(this,r,z)}return r.$$set=z=>{"active"in z&&t(0,s=z.active),"disabled"in z&&t(1,o=z.disabled),"type"in z&&t(2,a=z.type),"style"in z&&t(3,l=z.style),"title"in z&&t(4,u=z.title),"disablePadding"in z&&t(5,f=z.disablePadding),"justifyContent"in z&&t(6,c=z.justifyContent),"border"in z&&t(7,h=z.border),"width"in z&&t(8,m=z.width),"height"in z&&t(9,d=z.height),"$$scope"in z&&t(10,i=z.$$scope)},[s,o,a,l,u,f,c,h,m,d,i,n,p,g,_,$,k,y,P,C,A,O,L,U,se,F,I,v,q,_e]}class nt extends $e{constructor(e){super(),we(this,e,Yu,qu,ve,{active:0,disabled:1,type:2,style:3,title:4,disablePadding:5,justifyContent:6,border:7,width:8,height:9})}}const Ku=r=>({}),li=r=>({}),Ju=r=>({}),ui=r=>({});function fi(r){let e,t,n,i,s,o,a,l,u,f,c=r[4].title&&ci(r);const h=r[5].default,m=Be(h,r,r[8],null);let d=r[4].footer&&mi(r);return{c(){e=ne("button"),t=fe(),n=ne("div"),i=ne("article"),c&&c.c(),s=fe(),o=ne("main"),m&&m.c(),a=fe(),d&&d.c(),this.h()},l(p){e=re(p,"BUTTON",{class:!0}),ae(e).forEach(S),t=ce(p),n=re(p,"DIV",{class:!0});var g=ae(n);i=re(g,"ARTICLE",{class:!0});var _=ae(i);c&&c.l(_),s=ce(_),o=re(_,"MAIN",{class:!0});var $=ae(o);m&&m.l($),$.forEach(S),a=ce(_),d&&d.l(_),_.forEach(S),g.forEach(S),this.h()},h(){W(e,"class","backdrop fixed svelte-1fd19w4"),W(o,"class","svelte-1fd19w4"),W(i,"class","svelte-1fd19w4"),W(n,"class","container fixed svelte-1fd19w4")},m(p,g){G(p,e,g),G(p,t,g),G(p,n,g),X(n,i),c&&c.m(i,null),X(i,s),X(i,o),m&&m.m(o,null),X(i,a),d&&d.m(i,null),l=!0,u||(f=[Pe(e,"click",r[6]),Pe(n,"keypress",r[3])],u=!0)},p(p,g){p[4].title?c?(c.p(p,g),g&16&&w(c,1)):(c=ci(p),c.c(),w(c,1),c.m(i,s)):c&&(je(),E(c,1,1,()=>{c=null}),We()),m&&m.p&&(!l||g&256)&&xe(m,h,p,p[8],l?ze(h,p[8],g,null):Me(p[8]),null),p[4].footer?d?(d.p(p,g),g&16&&w(d,1)):(d=mi(p),d.c(),w(d,1),d.m(i,null)):d&&(je(),E(d,1,1,()=>{d=null}),We())},i(p){l||(w(c),w(m,p),w(d),l=!0)},o(p){E(c),E(m,p),E(d),l=!1},d(p){p&&S(e),p&&S(t),p&&S(n),c&&c.d(),m&&m.d(p),d&&d.d(),u=!1,st(f)}}}function ci(r){let e,t,n;const i=r[5].title,s=Be(i,r,r[8],ui);let o=r[1]&&hi(r);return{c(){e=ne("header"),s&&s.c(),t=fe(),o&&o.c(),this.h()},l(a){e=re(a,"HEADER",{class:!0});var l=ae(e);s&&s.l(l),t=ce(l),o&&o.l(l),l.forEach(S),this.h()},h(){W(e,"class","svelte-1fd19w4")},m(a,l){G(a,e,l),s&&s.m(e,null),X(e,t),o&&o.m(e,null),n=!0},p(a,l){s&&s.p&&(!n||l&256)&&xe(s,i,a,a[8],n?ze(i,a[8],l,Ju):Me(a[8]),ui),a[1]?o?(o.p(a,l),l&2&&w(o,1)):(o=hi(a),o.c(),w(o,1),o.m(e,null)):o&&(je(),E(o,1,1,()=>{o=null}),We())},i(a){n||(w(s,a),w(o),n=!0)},o(a){E(s,a),E(o),n=!1},d(a){a&&S(e),s&&s.d(a),o&&o.d()}}}function hi(r){let e,t;return e=new nt({props:{width:"auto",border:!1,$$slots:{default:[Qu]},$$scope:{ctx:r}}}),e.$on("click",r[7]),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&256&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Qu(r){let e,t;return e=new Xu({}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mi(r){let e,t;const n=r[5].footer,i=Be(n,r,r[8],li);return{c(){e=ne("footer"),i&&i.c(),this.h()},l(s){e=re(s,"FOOTER",{class:!0});var o=ae(e);i&&i.l(o),o.forEach(S),this.h()},h(){W(e,"class","svelte-1fd19w4")},m(s,o){G(s,e,o),i&&i.m(e,null),t=!0},p(s,o){i&&i.p&&(!t||o&256)&&xe(i,n,s,s[8],t?ze(n,s[8],o,Ku):Me(s[8]),li)},i(s){t||(w(i,s),t=!0)},o(s){E(i,s),t=!1},d(s){s&&S(e),i&&i.d(s)}}}function ef(r){let e,t,n=r[0]&&fi(r);return{c(){n&&n.c(),e=Ze()},l(i){n&&n.l(i),e=Ze()},m(i,s){n&&n.m(i,s),G(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=fi(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(je(),E(n,1,1,()=>{n=null}),We())},i(i){t||(w(n),t=!0)},o(i){E(n),t=!1},d(i){n&&n.d(i),i&&S(e)}}}function tf(r,e,t){let{$$slots:n={},$$scope:i}=e;const s=Zo(n);let{open:o=!0}=e,{closable:a=!0}=e;const l=wt();function u(d="cancel"){a&&l("close",{action:d},{cancelable:!0})&&t(0,o=!1)}function f(d){o&&d.key==="Escape"&&u("cancel")}function c(d){o&&(l("paste",{event:d}),d.stopPropagation())}ln(()=>(document.addEventListener("keyup",f),document.addEventListener("paste",c,{capture:!0}),()=>{document.removeEventListener("paste",c),document.removeEventListener("keyup",f)}));const h=()=>u("cancel"),m=()=>u("cancel");return r.$$set=d=>{"open"in d&&t(0,o=d.open),"closable"in d&&t(1,a=d.closable),"$$scope"in d&&t(8,i=d.$$scope)},[o,a,u,f,s,n,h,m,i]}class wn extends $e{constructor(e){super(),we(this,e,tf,ef,ve,{open:0,closable:1})}}const nf=""+new URL("../assets/firefox_copy_helper.d346afe2.webp",import.meta.url).href;function rf(r){let e,t,n,i,s,o,a,l,u,f,c,h,m,d,p,g,_,$;return{c(){e=ne("main"),t=ne("p"),n=ge(`Ваш браузер отключил или не поддерживает копирование изображений из скриптов. Вы можете
			скопировать эту копию фрейма вручную с помощью ПКМ.`),i=fe(),s=ne("img"),a=fe(),l=ne("p"),u=ge("Если это Firefox версии 87 и выше, вы можете включить опцию "),f=ne("span"),c=ge("dom.events.asyncClipboard.clipboardItem"),h=ge(", открыв в новой вкладке страницу "),m=ne("span"),d=ge("about:config"),p=ge(`. Тогда вы перестанете видеть это
			окно, а функционал копирования заработает корректно.`),g=fe(),_=ne("img"),this.h()},l(k){e=re(k,"MAIN",{class:!0});var y=ae(e);t=re(y,"P",{});var P=ae(t);n=be(P,`Ваш браузер отключил или не поддерживает копирование изображений из скриптов. Вы можете
			скопировать эту копию фрейма вручную с помощью ПКМ.`),P.forEach(S),i=ce(y),s=re(y,"IMG",{src:!0,alt:!0,class:!0}),a=ce(y),l=re(y,"P",{});var C=ae(l);u=be(C,"Если это Firefox версии 87 и выше, вы можете включить опцию "),f=re(C,"SPAN",{class:!0});var A=ae(f);c=be(A,"dom.events.asyncClipboard.clipboardItem"),A.forEach(S),h=be(C,", открыв в новой вкладке страницу "),m=re(C,"SPAN",{class:!0});var O=ae(m);d=be(O,"about:config"),O.forEach(S),p=be(C,`. Тогда вы перестанете видеть это
			окно, а функционал копирования заработает корректно.`),C.forEach(S),g=ce(y),_=re(y,"IMG",{src:!0,alt:!0,class:!0}),y.forEach(S),this.h()},h(){bn(s.src,o=r[1])||W(s,"src",o),W(s,"alt","Копия фрейма"),W(s,"class","svelte-1qucpf4"),W(f,"class","svelte-1qucpf4"),W(m,"class","svelte-1qucpf4"),bn(_.src,$=nf)||W(_,"src",$),W(_,"alt","Скриншот страницы about:config"),W(_,"class","svelte-1qucpf4"),W(e,"class","svelte-1qucpf4")},m(k,y){G(k,e,y),X(e,t),X(t,n),X(e,i),X(e,s),X(e,a),X(e,l),X(l,u),X(l,f),X(f,c),X(l,h),X(l,m),X(m,d),X(l,p),X(e,g),X(e,_)},p(k,y){y&2&&!bn(s.src,o=k[1])&&W(s,"src",o)},d(k){k&&S(e)}}}function sf(r){let e;return{c(){e=ge("Ваш браузер не поддерживает копирование")},l(t){e=be(t,"Ваш браузер не поддерживает копирование")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function of(r){let e,t;return e=new wn({props:{open:r[0]!=null,$$slots:{title:[sf],default:[rf]},$$scope:{ctx:r}}}),e.$on("close",r[3]),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const s={};i&1&&(s.open=n[0]!=null),i&18&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function af(r,e,t){let{fallbackBlob:n=null}=e,i=n,s="";Xo(()=>{s&&URL.revokeObjectURL(s)});const o=()=>t(0,n=null);return r.$$set=a=>{"fallbackBlob"in a&&t(0,n=a.fallbackBlob)},r.$$.update=()=>{r.$$.dirty&7&&n!=i&&(s&&URL.revokeObjectURL(s),t(2,i=n),t(1,s=i?URL.createObjectURL(i):""))},[n,s,i,o]}class lf extends $e{constructor(e){super(),we(this,e,af,of,ve,{fallbackBlob:0})}}function di(r,e,t){const n=r.slice();return n[5]=e[t],n}const uf=r=>({tab:r&2}),pi=r=>({tab:r[5]});function _i(r,e,t){const n=r.slice();return n[5]=e[t],n}const ff=r=>({tab:r&2}),gi=r=>({tab:r[5]});function bi(r){let e,t,n,i,s;const o=r[3].default,a=Be(o,r,r[2],gi);function l(){return r[4](r[5])}return{c(){e=ne("section"),a&&a.c(),t=fe(),this.h()},l(u){e=re(u,"SECTION",{class:!0});var f=ae(e);a&&a.l(f),t=ce(f),f.forEach(S),this.h()},h(){W(e,"class","tab svelte-lu853g"),tt(e,"active",r[0]===r[5])},m(u,f){G(u,e,f),a&&a.m(e,null),X(e,t),n=!0,i||(s=Pe(e,"click",l),i=!0)},p(u,f){r=u,a&&a.p&&(!n||f&6)&&xe(a,o,r,r[2],n?ze(o,r[2],f,ff):Me(r[2]),gi),(!n||f&3)&&tt(e,"active",r[0]===r[5])},i(u){n||(w(a,u),n=!0)},o(u){E(a,u),n=!1},d(u){u&&S(e),a&&a.d(u),i=!1,s()}}}function vi(r){let e,t,n;const i=r[3].content,s=Be(i,r,r[2],pi);return{c(){e=ne("section"),s&&s.c(),t=fe(),this.h()},l(o){e=re(o,"SECTION",{class:!0});var a=ae(e);s&&s.l(a),t=ce(a),a.forEach(S),this.h()},h(){W(e,"class","content svelte-lu853g"),tt(e,"hide",r[0]!==r[5])},m(o,a){G(o,e,a),s&&s.m(e,null),X(e,t),n=!0},p(o,a){s&&s.p&&(!n||a&6)&&xe(s,i,o,o[2],n?ze(i,o[2],a,uf):Me(o[2]),pi),(!n||a&3)&&tt(e,"hide",o[0]!==o[5])},i(o){n||(w(s,o),n=!0)},o(o){E(s,o),n=!1},d(o){o&&S(e),s&&s.d(o)}}}function cf(r){let e,t,n,i,s=r[1],o=[];for(let c=0;c<s.length;c+=1)o[c]=bi(_i(r,s,c));const a=c=>E(o[c],1,1,()=>{o[c]=null});let l=r[1],u=[];for(let c=0;c<l.length;c+=1)u[c]=vi(di(r,l,c));const f=c=>E(u[c],1,1,()=>{u[c]=null});return{c(){e=ne("article"),t=ne("header");for(let c=0;c<o.length;c+=1)o[c].c();n=fe();for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=re(c,"ARTICLE",{class:!0});var h=ae(e);t=re(h,"HEADER",{class:!0});var m=ae(t);for(let d=0;d<o.length;d+=1)o[d].l(m);m.forEach(S),n=ce(h);for(let d=0;d<u.length;d+=1)u[d].l(h);h.forEach(S),this.h()},h(){W(t,"class","svelte-lu853g"),W(e,"class","svelte-lu853g")},m(c,h){G(c,e,h),X(e,t);for(let m=0;m<o.length;m+=1)o[m].m(t,null);X(e,n);for(let m=0;m<u.length;m+=1)u[m].m(e,null);i=!0},p(c,[h]){if(h&7){s=c[1];let m;for(m=0;m<s.length;m+=1){const d=_i(c,s,m);o[m]?(o[m].p(d,h),w(o[m],1)):(o[m]=bi(d),o[m].c(),w(o[m],1),o[m].m(t,null))}for(je(),m=s.length;m<o.length;m+=1)a(m);We()}if(h&7){l=c[1];let m;for(m=0;m<l.length;m+=1){const d=di(c,l,m);u[m]?(u[m].p(d,h),w(u[m],1)):(u[m]=vi(d),u[m].c(),w(u[m],1),u[m].m(e,null))}for(je(),m=l.length;m<u.length;m+=1)f(m);We()}},i(c){if(!i){for(let h=0;h<s.length;h+=1)w(o[h]);for(let h=0;h<l.length;h+=1)w(u[h]);i=!0}},o(c){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)E(o[h]);u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)E(u[h]);i=!1},d(c){c&&S(e),$n(o,c),$n(u,c)}}}function hf(r,e,t){let{$$slots:n={},$$scope:i}=e,{tabs:s}=e,{activeTab:o=s[0]}=e;const a=l=>t(0,o=l);return r.$$set=l=>{"tabs"in l&&t(1,s=l.tabs),"activeTab"in l&&t(0,o=l.activeTab),"$$scope"in l&&t(2,i=l.$$scope)},r.$$.update=()=>{r.$$.dirty&3&&(s.includes(o)||t(0,o=s[0]))},[o,s,i,n,a]}class Ts extends $e{constructor(e){super(),we(this,e,hf,cf,ve,{tabs:1,activeTab:0})}}function $i(r,e,t){const n=r.slice();return n[9]=e[t],n[11]=t,n}const mf=r=>({item:r&2,index:r&2}),wi=r=>({item:r[9],index:r[11]});function yi(r,e){let t,n,i,s,o;const a=e[5].default,l=Be(a,e,e[4],wi);function u(){return e[8](e[9])}return{key:r,first:null,c(){t=ne("article"),l&&l.c(),n=fe(),this.h()},l(f){t=re(f,"ARTICLE",{class:!0});var c=ae(t);l&&l.l(c),n=ce(c),c.forEach(S),this.h()},h(){W(t,"class","item svelte-xsb8mb"),tt(t,"active",e[9].id===e[0].id),this.first=t},m(f,c){G(f,t,c),l&&l.m(t,null),X(t,n),i=!0,s||(o=Pe(t,"click",u),s=!0)},p(f,c){e=f,l&&l.p&&(!i||c&18)&&xe(l,a,e,e[4],i?ze(a,e[4],c,mf):Me(e[4]),wi),(!i||c&3)&&tt(t,"active",e[9].id===e[0].id)},i(f){i||(w(l,f),i=!0)},o(f){E(l,f),i=!1},d(f){f&&S(t),l&&l.d(f),s=!1,o()}}}function df(r){let e,t=[],n=new Map,i,s,o,a=r[1];const l=u=>u[9].id;for(let u=0;u<a.length;u+=1){let f=$i(r,a,u),c=l(f);n.set(c,t[u]=yi(c,f))}return{c(){e=ne("main");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=re(u,"MAIN",{style:!0,class:!0});var f=ae(e);for(let c=0;c<t.length;c+=1)t[c].l(f);f.forEach(S),this.h()},h(){dt(e,"height",r[3]),dt(e,"min-height",r[3]),dt(e,"max-height",r[3]),W(e,"class","svelte-xsb8mb"),tt(e,"reverse",r[2])},m(u,f){G(u,e,f);for(let c=0;c<t.length;c+=1)t[c].m(e,null);i=!0,s||(o=[Pe(e,"drop",r[6]),Pe(e,"dragover",r[7])],s=!0)},p(u,[f]){f&19&&(a=u[1],je(),t=qo(t,f,l,1,u,a,n,e,Yo,yi,null,$i),We()),(!i||f&8)&&dt(e,"height",u[3]),(!i||f&8)&&dt(e,"min-height",u[3]),(!i||f&8)&&dt(e,"max-height",u[3]),(!i||f&4)&&tt(e,"reverse",u[2])},i(u){if(!i){for(let f=0;f<a.length;f+=1)w(t[f]);i=!0}},o(u){for(let f=0;f<t.length;f+=1)E(t[f]);i=!1},d(u){u&&S(e);for(let f=0;f<t.length;f+=1)t[f].d();s=!1,st(o)}}}function pf(r,e,t){let{$$slots:n={},$$scope:i}=e,{items:s}=e,{active:o}=e,{reverse:a=!1}=e,{height:l="100%"}=e;function u(h){Se.call(this,r,h)}function f(h){Se.call(this,r,h)}const c=h=>t(0,o=h);return r.$$set=h=>{"items"in h&&t(1,s=h.items),"active"in h&&t(0,o=h.active),"reverse"in h&&t(2,a=h.reverse),"height"in h&&t(3,l=h.height),"$$scope"in h&&t(4,i=h.$$scope)},[o,s,a,l,i,n,u,f,c]}class Er extends $e{constructor(e){super(),we(this,e,pf,df,ve,{items:1,active:0,reverse:2,height:3})}}function _f(r){let e,t,n,i,s,o;return{c(){e=ne("article"),t=ne("canvas"),n=fe(),i=ne("canvas"),this.h()},l(a){e=re(a,"ARTICLE",{class:!0});var l=ae(e);t=re(l,"CANVAS",{class:!0}),ae(t).forEach(S),n=ce(l),i=re(l,"CANVAS",{class:!0}),ae(i).forEach(S),l.forEach(S),this.h()},h(){W(t,"class","svelte-flcf9e"),W(i,"class","svelte-flcf9e"),W(e,"class","svelte-flcf9e")},m(a,l){G(a,e,l),X(e,t),r[4](t),X(e,n),X(e,i),r[5](i),s||(o=[Pe(e,"dragover",r[2]),Pe(e,"drop",r[3])],s=!0)},p:Qe,i:Qe,o:Qe,d(a){a&&S(e),r[4](null),r[5](null),s=!1,st(o)}}}function gf(r,e,t){let{webgl:n}=e,{ui:i}=e;function s(u){Se.call(this,r,u)}function o(u){Se.call(this,r,u)}function a(u){Te[u?"unshift":"push"](()=>{n=u,t(0,n)})}function l(u){Te[u?"unshift":"push"](()=>{i=u,t(1,i)})}return r.$$set=u=>{"webgl"in u&&t(0,n=u.webgl),"ui"in u&&t(1,i=u.ui)},[n,i,s,o,a,l]}class bf extends $e{constructor(e){super(),we(this,e,gf,_f,ve,{webgl:0,ui:1})}}function Ei(r){let e,t;return{c(){e=ne("div"),t=ge(r[0]),this.h()},l(n){e=re(n,"DIV",{class:!0});var i=ae(e);t=be(i,r[0]),i.forEach(S),this.h()},h(){W(e,"class","svelte-1q2eol")},m(n,i){G(n,e,i),X(e,t)},p(n,i){i&1&&ot(t,n[0])},d(n){n&&S(e)}}}function vf(r){let e,t,n;const i=r[3].default,s=Be(i,r,r[2],null);let o=r[0]&&Ei(r);return{c(){e=ne("label"),s&&s.c(),t=fe(),o&&o.c(),this.h()},l(a){e=re(a,"LABEL",{for:!0,class:!0});var l=ae(e);s&&s.l(l),t=ce(l),o&&o.l(l),l.forEach(S),this.h()},h(){W(e,"for",r[1]),W(e,"class","svelte-1q2eol"),tt(e,"error",r[0])},m(a,l){G(a,e,l),s&&s.m(e,null),X(e,t),o&&o.m(e,null),n=!0},p(a,[l]){s&&s.p&&(!n||l&4)&&xe(s,i,a,a[2],n?ze(i,a[2],l,null):Me(a[2]),null),a[0]?o?o.p(a,l):(o=Ei(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null),(!n||l&2)&&W(e,"for",a[1]),(!n||l&1)&&tt(e,"error",a[0])},i(a){n||(w(s,a),n=!0)},o(a){E(s,a),n=!1},d(a){a&&S(e),s&&s.d(a),o&&o.d()}}}function $f(r,e,t){let{$$slots:n={},$$scope:i}=e,{error:s=""}=e,{for:o=void 0}=e;return r.$$set=a=>{"error"in a&&t(0,s=a.error),"for"in a&&t(1,o=a.for),"$$scope"in a&&t(2,i=a.$$scope)},[s,o,i,n]}class qe extends $e{constructor(e){super(),we(this,e,$f,vf,ve,{error:0,for:1})}}function wf(r){let e,t;return e=new eu({}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yf(r){let e,t;return e=new As({}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ef(r){let e,t,n,i,s,o,a,l,u,f,c;return o=new nt({props:{disablePadding:!0,title:r[9],$$slots:{default:[wf]},$$scope:{ctx:r}}}),o.$on("mousedown",r[14]),o.$on("mouseup",r[15]),l=new nt({props:{disablePadding:!0,title:r[9],$$slots:{default:[yf]},$$scope:{ctx:r}}}),l.$on("mousedown",r[16]),l.$on("mouseup",r[17]),{c(){e=ne("main"),t=ne("input"),i=fe(),s=ne("footer"),N(o.$$.fragment),a=fe(),N(l.$$.fragment),this.h()},l(h){e=re(h,"MAIN",{class:!0});var m=ae(e);t=re(m,"INPUT",{class:!0}),i=ce(m),s=re(m,"FOOTER",{class:!0});var d=ae(s);B(o.$$.fragment,d),a=ce(d),B(l.$$.fragment,d),d.forEach(S),m.forEach(S),this.h()},h(){t.value=n=r[0].toString(),W(t,"class","svelte-bxcbqd"),W(s,"class","svelte-bxcbqd"),W(e,"class","svelte-bxcbqd")},m(h,m){G(h,e,m),X(e,t),X(e,i),X(e,s),x(o,s,null),X(s,a),x(l,s,null),u=!0,f||(c=[Pe(t,"input",r[12]),Pe(t,"change",r[13])],f=!0)},p(h,[m]){(!u||m&1&&n!==(n=h[0].toString())&&t.value!==n)&&(t.value=n);const d={};m&1048576&&(d.$$scope={dirty:m,ctx:h}),o.$set(d);const p={};m&1048576&&(p.$$scope={dirty:m,ctx:h}),l.$set(p)},i(h){u||(w(o.$$.fragment,h),w(l.$$.fragment,h),u=!0)},o(h){E(o.$$.fragment,h),E(l.$$.fragment,h),u=!1},d(h){h&&S(e),M(o),M(l),f=!1,st(c)}}}function kf(r,e,t){let{value:n}=e,{min:i=-1/0}=e,{max:s=1/0}=e,{step:o=1}=e,{ctrlMultiplier:a=2}=e,{shiftMultiplier:l=5}=e;const u=wt();let f=-1,c=!1;function h(A){(!A||A.button===0)&&f!==-1&&(clearInterval(f),t(4,c=!1))}function m(A){let O=1;return A.ctrlKey&&(O*=a),A.shiftKey&&(O*=l),O}function d(A){t(0,n=+Math.min(s,Math.max(i,n+A)).toFixed(2)),u("input",n),u("change",n)}function p(A){h(),f=setInterval(()=>{t(4,c=!0),d(A)},150)}ln(()=>(document.addEventListener("mouseup",h),()=>document.removeEventListener("mouseup",h)));const g=`Шаг: ${o}
Ctrl: x${a}
Shift: x${l}`,_=A=>{const O=Number(A.currentTarget.value);if(Number.isNaN(O)){A.currentTarget.value=n.toString();return}t(0,n=Math.min(s,Math.max(i,O))),u("input",n)},$=A=>u("change",Number(A.currentTarget.value)),k=A=>{A.button==0&&p(-m(A)*o)},y=A=>{A.button==0&&(c||d(-m(A)*o))},P=A=>{A.button==0&&p(+m(A)*o)},C=A=>{A.button==0&&(c||d(+m(A)*o))};return r.$$set=A=>{"value"in A&&t(0,n=A.value),"min"in A&&t(1,i=A.min),"max"in A&&t(2,s=A.max),"step"in A&&t(3,o=A.step),"ctrlMultiplier"in A&&t(10,a=A.ctrlMultiplier),"shiftMultiplier"in A&&t(11,l=A.shiftMultiplier)},[n,i,s,o,c,u,m,d,p,g,a,l,_,$,k,y,P,C]}class _t extends $e{constructor(e){super(),we(this,e,kf,Ef,ve,{value:0,min:1,max:2,step:3,ctrlMultiplier:10,shiftMultiplier:11})}}function Af(r){const e=r-1;return e*e*e+1}function ct(r,{delay:e=0,duration:t=400,easing:n=Af}={}){const i=getComputedStyle(r),s=+i.opacity,o=parseFloat(i.height),a=parseFloat(i.paddingTop),l=parseFloat(i.paddingBottom),u=parseFloat(i.marginTop),f=parseFloat(i.marginBottom),c=parseFloat(i.borderTopWidth),h=parseFloat(i.borderBottomWidth);return{delay:e,duration:t,easing:n,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*s};height: ${m*o}px;padding-top: ${m*a}px;padding-bottom: ${m*l}px;margin-top: ${m*u}px;margin-bottom: ${m*f}px;border-top-width: ${m*c}px;border-bottom-width: ${m*h}px;`}}const Tf=r=>({}),ki=r=>({}),Sf=r=>({}),Ai=r=>({});function If(r){let e,t,n;const i=r[8].header,s=Be(i,r,r[13],Ai);return t=new pl({}),{c(){s&&s.c(),e=fe(),N(t.$$.fragment)},l(o){s&&s.l(o),e=ce(o),B(t.$$.fragment,o)},m(o,a){s&&s.m(o,a),G(o,e,a),x(t,o,a),n=!0},p(o,a){s&&s.p&&(!n||a&8192)&&xe(s,i,o,o[13],n?ze(i,o[13],a,Sf):Me(o[13]),Ai)},i(o){n||(w(s,o),w(t.$$.fragment,o),n=!0)},o(o){E(s,o),E(t.$$.fragment,o),n=!1},d(o){s&&s.d(o),o&&S(e),M(t,o)}}}function Ti(r){let e,t,n,i,s,o;const a=r[8].content,l=Be(a,r,r[13],ki);return{c(){e=ne("article"),l&&l.c(),this.h()},l(u){e=re(u,"ARTICLE",{style:!0,class:!0});var f=ae(e);l&&l.l(f),f.forEach(S),this.h()},h(){W(e,"style",t=`max-height:${r[5]}px;width:${r[4]}px;left:${r[7]}px;top:${r[6]}px;`),W(e,"class","svelte-1rlf41s")},m(u,f){G(u,e,f),l&&l.m(e,null),i=!0,s||(o=[Pe(e,"mouseover",r[11]),Pe(e,"mouseout",r[12])],s=!0)},p(u,f){l&&l.p&&(!i||f&8192)&&xe(l,a,u,u[13],i?ze(a,u[13],f,Tf):Me(u[13]),ki),(!i||f&240&&t!==(t=`max-height:${u[5]}px;width:${u[4]}px;left:${u[7]}px;top:${u[6]}px;`))&&W(e,"style",t)},i(u){i||(w(l,u),Dt(()=>{n||(n=ut(e,ct,{duration:150},!0)),n.run(1)}),i=!0)},o(u){E(l,u),n||(n=ut(e,ct,{duration:150},!1)),n.run(0),i=!1},d(u){u&&S(e),l&&l.d(u),u&&n&&n.end(),s=!1,st(o)}}}function Cf(r){let e,t,n,i,s;t=new nt({props:{style:`height:${r[1].height};width:${r[1].width};`,justifyContent:"space-between",$$slots:{default:[If]},$$scope:{ctx:r}}}),t.$on("click",r[9]),t.$on("focusout",r[10]);let o=(r[3]&&!r[0]||r[2])&&Ti(r);return{c(){e=ne("main"),N(t.$$.fragment),n=fe(),o&&o.c(),this.h()},l(a){e=re(a,"MAIN",{style:!0,class:!0});var l=ae(e);B(t.$$.fragment,l),n=ce(l),o&&o.l(l),l.forEach(S),this.h()},h(){W(e,"style",i=`height:${r[1].height};width:${r[1].width};${r[1].main}`),W(e,"class","svelte-1rlf41s")},m(a,l){G(a,e,l),x(t,e,null),X(e,n),o&&o.m(e,null),s=!0},p(a,[l]){const u={};l&2&&(u.style=`height:${a[1].height};width:${a[1].width};`),l&8192&&(u.$$scope={dirty:l,ctx:a}),t.$set(u),a[3]&&!a[0]||a[2]?o?(o.p(a,l),l&13&&w(o,1)):(o=Ti(a),o.c(),w(o,1),o.m(e,null)):o&&(je(),E(o,1,1,()=>{o=null}),We()),(!s||l&2&&i!==(i=`height:${a[1].height};width:${a[1].width};${a[1].main}`))&&W(e,"style",i)},i(a){s||(w(t.$$.fragment,a),w(o),s=!0)},o(a){E(t.$$.fragment,a),E(o),s=!1},d(a){a&&S(e),M(t),o&&o.d()}}}function Ff(r,e,t){let{$$slots:n={},$$scope:i}=e,{hideOnClick:s=!1}=e,{css:o={height:"48px",width:"100%",main:""}}=e,a=!1,l=!1,u=0,f=0,c=0,h=0;const m=_=>{const $=_.currentTarget;if(!$)throw new Error("Not found target for button in drop down");if(!($ instanceof HTMLElement))throw new Error("Target for button is not html element");const k=$.getBoundingClientRect(),y=(visualViewport==null?void 0:visualViewport.height)||720;t(4,u=k.width),t(6,c=k.bottom),t(7,h=k.left),t(5,f=y-c),t(2,a=!a)},d=()=>setTimeout(()=>t(2,a=!1),100),p=()=>t(3,l=!0),g=()=>t(3,l=!1);return r.$$set=_=>{"hideOnClick"in _&&t(0,s=_.hideOnClick),"css"in _&&t(1,o=_.css),"$$scope"in _&&t(13,i=_.$$scope)},[s,o,a,l,u,f,c,h,n,m,d,p,g,i]}class Ss extends $e{constructor(e){super(),we(this,e,Ff,Cf,ve,{hideOnClick:0,css:1})}}const Rf=r=>({item:r&1}),Si=r=>({item:r[0]});function Ii(r,e,t){const n=r.slice();return n[11]=e[t],n}const Pf=r=>({item:r&2}),Ci=r=>({item:r[11]});function Nf(r){let e;return{c(){e=ge(r[0])},l(t){e=be(t,r[0])},m(t,n){G(t,e,n)},p(t,n){n&1&&ot(e,t[0])},d(t){t&&S(e)}}}function Bf(r){let e;const t=r[6].default,n=Be(t,r,r[10],Si),i=n||Nf(r);return{c(){i&&i.c()},l(s){i&&i.l(s)},m(s,o){i&&i.m(s,o),e=!0},p(s,o){n?n.p&&(!e||o&1025)&&xe(n,t,s,s[10],e?ze(t,s[10],o,Rf):Me(s[10]),Si):i&&i.p&&(!e||o&1)&&i.p(s,e?o:-1)},i(s){e||(w(i,s),e=!0)},o(s){E(i,s),e=!1},d(s){i&&i.d(s)}}}function Fi(r){let e,t,n,i,s,o,a,l;function u(...m){return r[9](r[11],...m)}const f=r[6].default,c=Be(f,r,r[10],Ci),h=c||xf(r);return{c(){e=ne("label"),t=ne("input"),i=fe(),h&&h.c(),s=fe(),this.h()},l(m){e=re(m,"LABEL",{class:!0});var d=ae(e);t=re(d,"INPUT",{type:!0,class:!0}),i=ce(d),h&&h.l(d),s=ce(d),d.forEach(S),this.h()},h(){W(t,"type","radio"),t.__value=n=r[11],t.value=t.__value,W(t,"class","svelte-1plfxql"),r[8][0].push(t),W(e,"class","svelte-1plfxql"),tt(e,"active",r[11]===r[0])},m(m,d){G(m,e,d),X(e,t),t.checked=t.__value===r[0],X(e,i),h&&h.m(e,null),X(e,s),o=!0,a||(l=[Pe(t,"change",r[7]),Pe(t,"change",u)],a=!0)},p(m,d){r=m,(!o||d&2&&n!==(n=r[11]))&&(t.__value=n,t.value=t.__value),d&1&&(t.checked=t.__value===r[0]),c?c.p&&(!o||d&1026)&&xe(c,f,r,r[10],o?ze(f,r[10],d,Pf):Me(r[10]),Ci):h&&h.p&&(!o||d&2)&&h.p(r,o?d:-1),(!o||d&3)&&tt(e,"active",r[11]===r[0])},i(m){o||(w(h,m),o=!0)},o(m){E(h,m),o=!1},d(m){m&&S(e),r[8][0].splice(r[8][0].indexOf(t),1),h&&h.d(m),a=!1,st(l)}}}function xf(r){let e=r[11]+"",t;return{c(){t=ge(e)},l(n){t=be(n,e)},m(n,i){G(n,t,i)},p(n,i){i&2&&e!==(e=n[11]+"")&&ot(t,e)},d(n){n&&S(t)}}}function Ri(r){let e,t,n=r[11]!=r[2]&&Fi(r);return{c(){n&&n.c(),e=Ze()},l(i){n&&n.l(i),e=Ze()},m(i,s){n&&n.m(i,s),G(i,e,s),t=!0},p(i,s){i[11]!=i[2]?n?(n.p(i,s),s&6&&w(n,1)):(n=Fi(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(je(),E(n,1,1,()=>{n=null}),We())},i(i){t||(w(n),t=!0)},o(i){E(n),t=!1},d(i){n&&n.d(i),i&&S(e)}}}function Mf(r){let e,t,n=r[1],i=[];for(let o=0;o<n.length;o+=1)i[o]=Ri(Ii(r,n,o));const s=o=>E(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=Ze()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);e=Ze()},m(o,a){for(let l=0;l<i.length;l+=1)i[l].m(o,a);G(o,e,a),t=!0},p(o,a){if(a&1063){n=o[1];let l;for(l=0;l<n.length;l+=1){const u=Ii(o,n,l);i[l]?(i[l].p(u,a),w(i[l],1)):(i[l]=Ri(u),i[l].c(),w(i[l],1),i[l].m(e.parentNode,e))}for(je(),l=n.length;l<i.length;l+=1)s(l);We()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)w(i[a]);t=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)E(i[a]);t=!1},d(o){$n(i,o),o&&S(e)}}}function zf(r){let e,t;return e=new Ss({props:{css:r[3],hideOnClick:r[4],$$slots:{content:[Mf],header:[Bf]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const s={};i&8&&(s.css=n[3]),i&16&&(s.hideOnClick=n[4]),i&1031&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Uf(r,e,t){let{$$slots:n={},$$scope:i}=e,{value:s}=e,{items:o}=e,{placeholder:a=void 0}=e,{css:l={height:"48px",width:"100%",main:""}}=e,{hideOnClick:u=!1}=e;const f=wt(),c=[[]];function h(){s=this.__value,t(0,s)}const m=(d,p)=>{p.currentTarget.checked&&f("change",{value:d})};return r.$$set=d=>{"value"in d&&t(0,s=d.value),"items"in d&&t(1,o=d.items),"placeholder"in d&&t(2,a=d.placeholder),"css"in d&&t(3,l=d.css),"hideOnClick"in d&&t(4,u=d.hideOnClick),"$$scope"in d&&t(10,i=d.$$scope)},[s,o,a,l,u,f,n,h,c,m,i]}class kt extends $e{constructor(e){super(),we(this,e,Uf,zf,ve,{value:0,items:1,placeholder:2,css:3,hideOnClick:4})}}const Df={width:220,height:220},Lf={width:660,height:440},Of={fill:{x:0,y:0},stroke:{x:1,y:0},shadow:{x:2,y:0},gear:{x:0,y:1},redo:{x:1,y:1},undo:{x:2,y:1}},Gf={cell:Df,atlas:Lf,images:Of},Hf=""+new URL("../assets/atlas.27b53d5d.webp",import.meta.url).href;function jf(r){let e,t;return{c(){e=ne("main"),this.h()},l(n){e=re(n,"MAIN",{style:!0,class:!0}),ae(e).forEach(S),this.h()},h(){W(e,"style",t=`
width: ${r[1]}px;
height: ${r[1]}px;
background-image: url(${r[0]});
background-size: ${r[2]}px ${r[3]}px;
background-position: -${r[4]}px ${r[5]}px;
`),W(e,"class","svelte-1b6vt1p")},m(n,i){G(n,e,i)},p(n,[i]){i&63&&t!==(t=`
width: ${n[1]}px;
height: ${n[1]}px;
background-image: url(${n[0]});
background-size: ${n[2]}px ${n[3]}px;
background-position: -${n[4]}px ${n[5]}px;
`)&&W(e,"style",t)},i:Qe,o:Qe,d(n){n&&S(e)}}}function Wf(r,e,t){let{atlasURL:n}=e,{atlasDescription:i}=e,{name:s}=e,{size:o}=e,a,l,u,f,c;return r.$$set=h=>{"atlasURL"in h&&t(0,n=h.atlasURL),"atlasDescription"in h&&t(6,i=h.atlasDescription),"name"in h&&t(7,s=h.name),"size"in h&&t(1,o=h.size)},r.$$.update=()=>{r.$$.dirty&450&&(t(8,a=i.images[s]),t(2,l=i.atlas.width/i.cell.width*o),t(3,u=i.atlas.height/i.cell.height*o),t(4,f=o*a.x),t(5,c=o*a.y))},[n,o,l,u,f,c,i,s,a]}class Vf extends $e{constructor(e){super(),we(this,e,Wf,jf,ve,{atlasURL:0,atlasDescription:6,name:7,size:1})}}function Zf(r){let e,t;const n=r[1].default,i=Be(n,r,r[0],null);return{c(){e=ne("article"),i&&i.c(),this.h()},l(s){e=re(s,"ARTICLE",{class:!0});var o=ae(e);i&&i.l(o),o.forEach(S),this.h()},h(){W(e,"class","svelte-i0r9v3")},m(s,o){G(s,e,o),i&&i.m(e,null),t=!0},p(s,[o]){i&&i.p&&(!t||o&1)&&xe(i,n,s,s[0],t?ze(n,s[0],o,null):Me(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){E(i,s),t=!1},d(s){s&&S(e),i&&i.d(s)}}}function Xf(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class At extends $e{constructor(e){super(),we(this,e,Xf,Zf,ve,{})}}function qf(r){let e,t,n,i;function s(a){r[2](a)}let o={step:r[1]};return r[0].x!==void 0&&(o.value=r[0].x),t=new _t({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",r[3]),{c(){e=ge("x "),N(t.$$.fragment)},l(a){e=be(a,"x "),B(t.$$.fragment,a)},m(a,l){G(a,e,l),x(t,a,l),i=!0},p(a,l){const u={};l&2&&(u.step=a[1]),!n&&l&1&&(n=!0,u.value=a[0].x,Ce(()=>n=!1)),t.$set(u)},i(a){i||(w(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),M(t,a)}}}function Yf(r){let e,t,n,i;function s(a){r[4](a)}let o={step:r[1]};return r[0].y!==void 0&&(o.value=r[0].y),t=new _t({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",r[5]),{c(){e=ge("y "),N(t.$$.fragment)},l(a){e=be(a,"y "),B(t.$$.fragment,a)},m(a,l){G(a,e,l),x(t,a,l),i=!0},p(a,l){const u={};l&2&&(u.step=a[1]),!n&&l&1&&(n=!0,u.value=a[0].y,Ce(()=>n=!1)),t.$set(u)},i(a){i||(w(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),M(t,a)}}}function Kf(r){let e,t,n,i;return e=new qe({props:{$$slots:{default:[qf]},$$scope:{ctx:r}}}),n=new qe({props:{$$slots:{default:[Yf]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment),t=fe(),N(n.$$.fragment)},l(s){B(e.$$.fragment,s),t=ce(s),B(n.$$.fragment,s)},m(s,o){x(e,s,o),G(s,t,o),x(n,s,o),i=!0},p(s,o){const a={};o&67&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const l={};o&67&&(l.$$scope={dirty:o,ctx:s}),n.$set(l)},i(s){i||(w(e.$$.fragment,s),w(n.$$.fragment,s),i=!0)},o(s){E(e.$$.fragment,s),E(n.$$.fragment,s),i=!1},d(s){M(e,s),s&&S(t),M(n,s)}}}function Jf(r){let e,t;return e=new At({props:{$$slots:{default:[Kf]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const s={};i&67&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Qf(r,e,t){let{value:n}=e,{step:i=1}=e;function s(u){r.$$.not_equal(n.x,u)&&(n.x=u,t(0,n))}function o(u){Se.call(this,r,u)}function a(u){r.$$.not_equal(n.y,u)&&(n.y=u,t(0,n))}function l(u){Se.call(this,r,u)}return r.$$set=u=>{"value"in u&&t(0,n=u.value),"step"in u&&t(1,i=u.step)},[n,i,s,o,a,l]}class Jn extends $e{constructor(e){super(),we(this,e,Qf,Jf,ve,{value:0,step:1})}}function ec(r){let e,t,n,i;return{c(){e=ge("Цвет"),t=ne("input"),this.h()},l(s){e=be(s,"Цвет"),t=re(s,"INPUT",{type:!0}),this.h()},h(){W(t,"type","color")},m(s,o){G(s,e,o),G(s,t,o),ft(t,r[0].color),n||(i=[Pe(t,"input",r[2]),Pe(t,"change",r[1])],n=!0)},p(s,o){o&1&&ft(t,s[0].color)},d(s){s&&S(e),s&&S(t),n=!1,st(i)}}}function tc(r){let e,t,n,i;function s(a){r[3](a)}let o={};return r[0].offset!==void 0&&(o.value=r[0].offset),t=new Jn({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",r[4]),{c(){e=ge("Сдвиг"),N(t.$$.fragment)},l(a){e=be(a,"Сдвиг"),B(t.$$.fragment,a)},m(a,l){G(a,e,l),x(t,a,l),i=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].offset,Ce(()=>n=!1)),t.$set(u)},i(a){i||(w(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),M(t,a)}}}function nc(r){let e,t,n,i;function s(a){r[5](a)}let o={min:0,max:1e3};return r[0].blur!==void 0&&(o.value=r[0].blur),t=new _t({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",r[6]),{c(){e=ge("Размытие"),N(t.$$.fragment)},l(a){e=be(a,"Размытие"),B(t.$$.fragment,a)},m(a,l){G(a,e,l),x(t,a,l),i=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].blur,Ce(()=>n=!1)),t.$set(u)},i(a){i||(w(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),M(t,a)}}}function rc(r){let e,t,n,i,s,o;return e=new qe({props:{$$slots:{default:[ec]},$$scope:{ctx:r}}}),n=new qe({props:{$$slots:{default:[tc]},$$scope:{ctx:r}}}),s=new qe({props:{$$slots:{default:[nc]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment),t=fe(),N(n.$$.fragment),i=fe(),N(s.$$.fragment)},l(a){B(e.$$.fragment,a),t=ce(a),B(n.$$.fragment,a),i=ce(a),B(s.$$.fragment,a)},m(a,l){x(e,a,l),G(a,t,l),x(n,a,l),G(a,i,l),x(s,a,l),o=!0},p(a,l){const u={};l&129&&(u.$$scope={dirty:l,ctx:a}),e.$set(u);const f={};l&129&&(f.$$scope={dirty:l,ctx:a}),n.$set(f);const c={};l&129&&(c.$$scope={dirty:l,ctx:a}),s.$set(c)},i(a){o||(w(e.$$.fragment,a),w(n.$$.fragment,a),w(s.$$.fragment,a),o=!0)},o(a){E(e.$$.fragment,a),E(n.$$.fragment,a),E(s.$$.fragment,a),o=!1},d(a){M(e,a),a&&S(t),M(n,a),a&&S(i),M(s,a)}}}function ic(r){let e,t;return e=new At({props:{$$slots:{default:[rc]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const s={};i&129&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sc(r,e,t){let{value:n}=e;function i(f){Se.call(this,r,f)}function s(){n.color=this.value,t(0,n)}function o(f){r.$$.not_equal(n.offset,f)&&(n.offset=f,t(0,n))}function a(f){Se.call(this,r,f)}function l(f){r.$$.not_equal(n.blur,f)&&(n.blur=f,t(0,n))}function u(f){Se.call(this,r,f)}return r.$$set=f=>{"value"in f&&t(0,n=f.value)},[n,i,s,o,a,l,u]}class oc extends $e{constructor(e){super(),we(this,e,sc,ic,ve,{value:0})}}function ac(r){let e,t,n,i;return{c(){e=ge("Цвет"),t=ne("input"),this.h()},l(s){e=be(s,"Цвет"),t=re(s,"INPUT",{type:!0}),this.h()},h(){W(t,"type","color")},m(s,o){G(s,e,o),G(s,t,o),ft(t,r[0].value),n||(i=[Pe(t,"input",r[2]),Pe(t,"change",r[1])],n=!0)},p(s,o){o&1&&ft(t,s[0].value)},d(s){s&&S(e),s&&S(t),n=!1,st(i)}}}function lc(r){let e,t;return e=new qe({props:{$$slots:{default:[ac]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&9&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function uc(r){let e,t;return e=new At({props:{$$slots:{default:[lc]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const s={};i&9&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function fc(r,e,t){let{value:n}=e;function i(o){Se.call(this,r,o)}function s(){n.value=this.value,t(0,n)}return r.$$set=o=>{"value"in o&&t(0,n=o.value)},[n,i,s]}class cc extends $e{constructor(e){super(),we(this,e,fc,uc,ve,{value:0})}}function hc(r){let e;const t=r[3].default,n=Be(t,r,r[5],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&32)&&xe(n,t,i,i[5],e?ze(t,i[5],s,null):Me(i[5]),null)},i(i){e||(w(n,i),e=!0)},o(i){E(n,i),e=!1},d(i){n&&n.d(i)}}}function mc(r){let e,t;return e=new nt({props:{active:r[0],width:r[1],$$slots:{default:[hc]},$$scope:{ctx:r}}}),e.$on("click",r[4]),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const s={};i&1&&(s.active=n[0]),i&2&&(s.width=n[1]),i&32&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function dc(r,e,t){let{$$slots:n={},$$scope:i}=e,{value:s}=e,{width:o=""}=e;const a=wt(),l=()=>a("change",t(0,s=!s));return r.$$set=u=>{"value"in u&&t(0,s=u.value),"width"in u&&t(1,o=u.width),"$$scope"in u&&t(5,i=u.$$scope)},[s,o,a,n,l,i]}class Ln extends $e{constructor(e){super(),we(this,e,dc,mc,ve,{value:0,width:1})}}function pc(r){let e;return{c(){e=ge("Выбрать файл...")},l(t){e=be(t,"Выбрать файл...")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function _c(r){let e,t,n,i,s,o,a;const l=r[5].default,u=Be(l,r,r[4],null),f=u||pc();return{c(){e=ne("label"),f&&f.c(),t=fe(),n=ne("input"),this.h()},l(c){e=re(c,"LABEL",{class:!0});var h=ae(e);f&&f.l(h),t=ce(h),n=re(h,"INPUT",{accept:!0,type:!0,class:!0}),h.forEach(S),this.h()},h(){W(n,"accept",r[0]),W(n,"type","file"),W(n,"class","svelte-187m8cr"),W(e,"class",i=Wn(r[2])+" svelte-187m8cr")},m(c,h){G(c,e,h),f&&f.m(e,null),X(e,t),X(e,n),s=!0,o||(a=Pe(n,"change",r[6]),o=!0)},p(c,[h]){u&&u.p&&(!s||h&16)&&xe(u,l,c,c[4],s?ze(l,c[4],h,null):Me(c[4]),null),(!s||h&1)&&W(n,"accept",c[0]),(!s||h&4&&i!==(i=Wn(c[2])+" svelte-187m8cr"))&&W(e,"class",i)},i(c){s||(w(f,c),s=!0)},o(c){E(f,c),s=!1},d(c){c&&S(e),f&&f.d(c),o=!1,a()}}}function gc(r,e,t){let{$$slots:n={},$$scope:i}=e,{accept:s=void 0}=e,{typeFilter:o=/.*/}=e,{class:a=""}=e;const l=wt(),u=f=>{const c=f.currentTarget.files;if(!c||c.length===0)return;const h=Array.from(c).filter(m=>{var d;return(d=m.type)==null?void 0:d.match(o)});h.length!==0&&(l("change",h),f.currentTarget.value="")};return r.$$set=f=>{"accept"in f&&t(0,s=f.accept),"typeFilter"in f&&t(1,o=f.typeFilter),"class"in f&&t(2,a=f.class),"$$scope"in f&&t(4,i=f.$$scope)},[s,o,a,l,i,n,u]}class kr extends $e{constructor(e){super(),we(this,e,gc,_c,ve,{accept:0,typeFilter:1,class:2})}}function bc(r){let e;return{c(){e=ge("Выберите файл")},l(t){e=be(t,"Выберите файл")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function vc(r){let e,t;return e=new nt({props:{$$slots:{default:[bc]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&32&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $c(r){let e,t,n,i,s,o,a,l;return t=new kr({props:{accept:r[0],typeFilter:r[1],$$slots:{default:[vc]},$$scope:{ctx:r}}}),t.$on("change",r[3]),{c(){e=ne("main"),N(t.$$.fragment),n=fe(),i=ne("span"),s=ge("или перетащите сюда."),this.h()},l(u){e=re(u,"MAIN",{class:!0});var f=ae(e);B(t.$$.fragment,f),n=ce(f),i=re(f,"SPAN",{class:!0});var c=ae(i);s=be(c,"или перетащите сюда."),c.forEach(S),f.forEach(S),this.h()},h(){W(i,"class","svelte-e7qrnw"),W(e,"class","svelte-e7qrnw")},m(u,f){G(u,e,f),x(t,e,null),X(e,n),X(e,i),X(i,s),o=!0,a||(l=[Pe(e,"dragover",wc),Pe(e,"drop",r[2])],a=!0)},p(u,[f]){const c={};f&1&&(c.accept=u[0]),f&2&&(c.typeFilter=u[1]),f&32&&(c.$$scope={dirty:f,ctx:u}),t.$set(c)},i(u){o||(w(t.$$.fragment,u),o=!0)},o(u){E(t.$$.fragment,u),o=!1},d(u){u&&S(e),M(t),a=!1,st(l)}}}const wc=r=>r.preventDefault();function yc(r,e,t){let{accept:n=void 0}=e,{typeFilter:i=/.*/g}=e;const s=wt();function o(l){var c;l.preventDefault();const u=(c=l.dataTransfer)==null?void 0:c.files;if(!u)return;const f=Array.from(u).filter(h=>{var m;return(m=h.type)==null?void 0:m.match(i)});f.length&&s("change",f)}function a(l){Se.call(this,r,l)}return r.$$set=l=>{"accept"in l&&t(0,n=l.accept),"typeFilter"in l&&t(1,i=l.typeFilter)},[n,i,o,a]}class Ec extends $e{constructor(e){super(),we(this,e,yc,$c,ve,{accept:0,typeFilter:1})}}function Pi(r){let e,t,n,i,s,o,a,l;return n=new qe({props:{error:r[1],$$slots:{default:[kc]},$$scope:{ctx:r}}}),{c(){e=ne("section"),t=ne("section"),N(n.$$.fragment),i=fe(),s=ne("section"),o=ne("img"),this.h()},l(u){e=re(u,"SECTION",{class:!0});var f=ae(e);t=re(f,"SECTION",{class:!0});var c=ae(t);B(n.$$.fragment,c),c.forEach(S),i=ce(f),s=re(f,"SECTION",{class:!0});var h=ae(s);o=re(h,"IMG",{src:!0,alt:!0,class:!0}),h.forEach(S),f.forEach(S),this.h()},h(){W(t,"class","svelte-n6jyo5"),bn(o.src,a=r[4])||W(o,"src",a),W(o,"alt",r[5]),W(o,"class","svelte-n6jyo5"),W(s,"class","svelte-n6jyo5"),W(e,"class","preview svelte-n6jyo5")},m(u,f){G(u,e,f),X(e,t),x(n,t,null),X(e,i),X(e,s),X(s,o),l=!0},p(u,f){const c={};f&2&&(c.error=u[1]),f&131110&&(c.$$scope={dirty:f,ctx:u}),n.$set(c),(!l||f&16&&!bn(o.src,a=u[4]))&&W(o,"src",a),(!l||f&32)&&W(o,"alt",u[5])},i(u){l||(w(n.$$.fragment,u),l=!0)},o(u){E(n.$$.fragment,u),l=!1},d(u){u&&S(e),M(n)}}}function kc(r){let e,t,n,i;return{c(){e=ge("Название "),t=ne("input"),this.h()},l(s){e=be(s,"Название "),t=re(s,"INPUT",{class:!0}),this.h()},h(){W(t,"class","svelte-n6jyo5")},m(s,o){G(s,e,o),G(s,t,o),ft(t,r[5]),n||(i=[Pe(t,"input",r[11]),Pe(t,"input",r[12])],n=!0)},p(s,o){o&32&&t.value!==s[5]&&ft(t,s[5])},d(s){s&&S(e),s&&S(t),n=!1,st(i)}}}function Ac(r){let e,t,n,i;e=new Ec({props:{accept:"image/*",typeFilter:/^image\//}}),e.$on("change",r[7]);let s=r[3]&&Pi(r);return{c(){N(e.$$.fragment),t=fe(),s&&s.c(),n=Ze()},l(o){B(e.$$.fragment,o),t=ce(o),s&&s.l(o),n=Ze()},m(o,a){x(e,o,a),G(o,t,a),s&&s.m(o,a),G(o,n,a),i=!0},p(o,a){o[3]?s?(s.p(o,a),a&8&&w(s,1)):(s=Pi(o),s.c(),w(s,1),s.m(n.parentNode,n)):s&&(je(),E(s,1,1,()=>{s=null}),We())},i(o){i||(w(e.$$.fragment,o),w(s),i=!0)},o(o){E(e.$$.fragment,o),E(s),i=!1},d(o){M(e,o),o&&S(t),s&&s.d(o),o&&S(n)}}}function Tc(r){let e,t,n,i,s,o;return t=new At({props:{$$slots:{default:[Ac]},$$scope:{ctx:r}}}),{c(){e=ne("article"),N(t.$$.fragment),n=fe(),i=ne("section"),s=ge(`Добавленные паттерны пропадут между перезагрузками страницы, но их можно сохранить в .meme
			файле.`),this.h()},l(a){e=re(a,"ARTICLE",{class:!0});var l=ae(e);B(t.$$.fragment,l),n=ce(l),i=re(l,"SECTION",{});var u=ae(i);s=be(u,`Добавленные паттерны пропадут между перезагрузками страницы, но их можно сохранить в .meme
			файле.`),u.forEach(S),l.forEach(S),this.h()},h(){W(e,"class","svelte-n6jyo5")},m(a,l){G(a,e,l),x(t,e,null),X(e,n),X(e,i),X(i,s),o=!0},p(a,l){const u={};l&131134&&(u.$$scope={dirty:l,ctx:a}),t.$set(u)},i(a){o||(w(t.$$.fragment,a),o=!0)},o(a){E(t.$$.fragment,a),o=!1},d(a){a&&S(e),M(t)}}}function Sc(r){let e,t;return{c(){e=ne("header"),t=ge("Добавить паттерн"),this.h()},l(n){e=re(n,"HEADER",{slot:!0});var i=ae(e);t=be(i,"Добавить паттерн"),i.forEach(S),this.h()},h(){W(e,"slot","title")},m(n,i){G(n,e,i),X(e,t)},p:Qe,d(n){n&&S(e)}}}function Ic(r){let e;return{c(){e=ge("Отмена")},l(t){e=be(t,"Отмена")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function Cc(r){let e;return{c(){e=ge("Добавить")},l(t){e=be(t,"Добавить")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function Fc(r){let e,t,n,i,s;return t=new nt({props:{width:"128px",type:"danger",$$slots:{default:[Ic]},$$scope:{ctx:r}}}),t.$on("click",r[10]),i=new nt({props:{width:"128px",type:"primary",style:"margin-left:16px;",disabled:!r[5],$$slots:{default:[Cc]},$$scope:{ctx:r}}}),i.$on("click",r[9]),{c(){e=ne("footer"),N(t.$$.fragment),n=fe(),N(i.$$.fragment),this.h()},l(o){e=re(o,"FOOTER",{slot:!0,class:!0});var a=ae(e);B(t.$$.fragment,a),n=ce(a),B(i.$$.fragment,a),a.forEach(S),this.h()},h(){W(e,"slot","footer"),W(e,"class","svelte-n6jyo5")},m(o,a){G(o,e,a),x(t,e,null),X(e,n),x(i,e,null),s=!0},p(o,a){const l={};a&131072&&(l.$$scope={dirty:a,ctx:o}),t.$set(l);const u={};a&32&&(u.disabled=!o[5]),a&131072&&(u.$$scope={dirty:a,ctx:o}),i.$set(u)},i(o){s||(w(t.$$.fragment,o),w(i.$$.fragment,o),s=!0)},o(o){E(t.$$.fragment,o),E(i.$$.fragment,o),s=!1},d(o){o&&S(e),M(t),M(i)}}}function Rc(r){let e,t,n;function i(o){r[13](o)}let s={$$slots:{footer:[Fc],title:[Sc],default:[Tc]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.open=r[0]),e=new wn({props:s}),Te.push(()=>Ie(e,"open",i)),e.$on("close",r[8]),e.$on("paste",r[14]),{c(){N(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,a){x(e,o,a),n=!0},p(o,[a]){const l={};a&131134&&(l.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,l.open=o[0],Ce(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function Pc(r,e,t){let{open:n=!0}=e,{error:i=""}=e,{validateName:s=()=>""}=e,o=null,a="",l="";function u(y){o!=y&&(a&&(URL.revokeObjectURL(a),t(4,a="")),t(3,o=y),o&&(t(4,a=URL.createObjectURL(o)),t(5,l=o.name.substring(0,o.name.lastIndexOf(".")))))}function f(y){var A,O;const P=document.activeElement;if(P instanceof HTMLInputElement||P instanceof HTMLTextAreaElement)return;const C=(A=y.clipboardData)==null?void 0:A.items;if(C)for(let L=0;L<C.length;L++){const U=C[L];if(!((O=U.type)!=null&&O.match(/^image/)))continue;const se=U.getAsFile();se&&u(se);return}}function c(y){u(y.detail[0])}const h=wt();function m(y){var P;if(h("close",{action:"cancel"},{cancelable:!0})){t(0,n=!1);return}(P=y==null?void 0:y.preventDefault)==null||P.call(y)}function d(){if(!o)return;const y=s(l);if(y){t(1,i=y);return}h("submit",{action:"submit",image:o,name:l},{cancelable:!0})&&(t(0,n=!1),t(3,o=null),t(5,l=""),URL.revokeObjectURL(a),t(4,a=""))}ln(()=>()=>{a&&URL.revokeObjectURL(a)});const p=()=>m();function g(){l=this.value,t(5,l)}const _=()=>{t(1,i=s(l))};function $(y){n=y,t(0,n)}const k=y=>f(y.detail.event);return r.$$set=y=>{"open"in y&&t(0,n=y.open),"error"in y&&t(1,i=y.error),"validateName"in y&&t(2,s=y.validateName)},[n,i,s,o,a,l,f,c,m,d,p,g,_,$,k]}class Nc extends $e{constructor(e){super(),we(this,e,Pc,Rc,ve,{open:0,error:1,validateName:2})}}class Bc{constructor(e=new Array){Re(this,"subscribers",new Set);this.patterns=e}subscribe(e){return this.subscribers.add(e),e(this.patterns),()=>{this.subscribers.delete(e)}}addPattern(...e){this.patterns=this.patterns.filter(t=>!e.find(n=>n.name==t.name)),this.patterns.push(...e),this.subscribers.forEach(t=>t(this.patterns))}getTexture(e){const t=this.patterns.find(n=>n.name==e);if(!t)throw new Error(`Not found pattern '${e}'`);return t.textureId}has(e){return this.patterns.find(n=>n.name==e)!=null}delete(e){this.patterns.splice(this.patterns.findIndex(t=>t.name==e),1),this.subscribers.forEach(t=>t(this.patterns))}clear(){this.patterns=[],this.subscribers.forEach(e=>e(this.patterns))}}const vt=new Bc;function xc(r){let e=r[17]+"",t;return{c(){t=ge(e)},l(n){t=be(n,e)},m(n,i){G(n,t,i)},p(n,i){i&131072&&e!==(e=n[17]+"")&&ot(t,e)},d(n){n&&S(t)}}}function Mc(r){let e,t;return e=new As({props:{size:28}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p:Qe,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function zc(r){let e,t,n,i,s,o;function a(u){r[5](u)}let l={items:r[2].map(Bi),$$slots:{default:[xc,({item:u})=>({17:u}),({item:u})=>u?131072:0]},$$scope:{ctx:r}};return r[0].name!==void 0&&(l.value=r[0].name),t=new kt({props:l}),Te.push(()=>Ie(t,"value",a)),s=new nt({props:{width:"fin-content",$$slots:{default:[Mc]},$$scope:{ctx:r}}}),s.$on("click",r[6]),{c(){e=ge("Паттерн "),N(t.$$.fragment),i=fe(),N(s.$$.fragment)},l(u){e=be(u,"Паттерн "),B(t.$$.fragment,u),i=ce(u),B(s.$$.fragment,u)},m(u,f){G(u,e,f),x(t,u,f),G(u,i,f),x(s,u,f),o=!0},p(u,f){const c={};f&4&&(c.items=u[2].map(Bi)),f&393216&&(c.$$scope={dirty:f,ctx:u}),!n&&f&1&&(n=!0,c.value=u[0].name,Ce(()=>n=!1)),t.$set(c);const h={};f&262144&&(h.$$scope={dirty:f,ctx:u}),s.$set(h)},i(u){o||(w(t.$$.fragment,u),w(s.$$.fragment,u),o=!0)},o(u){E(t.$$.fragment,u),E(s.$$.fragment,u),o=!1},d(u){u&&S(e),M(t,u),u&&S(i),M(s,u)}}}function Uc(r){let e,t,n,i;function s(a){r[7](a)}let o={min:-360,max:360,step:.5};return r[0].rotate!==void 0&&(o.value=r[0].rotate),t=new _t({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",r[8]),{c(){e=ge("Поворот "),N(t.$$.fragment)},l(a){e=be(a,"Поворот "),B(t.$$.fragment,a)},m(a,l){G(a,e,l),x(t,a,l),i=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].rotate,Ce(()=>n=!1)),t.$set(u)},i(a){i||(w(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),M(t,a)}}}function Dc(r){let e,t,n,i;function s(a){r[9](a)}let o={};return r[0].shift!==void 0&&(o.value=r[0].shift),t=new Jn({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",r[10]),{c(){e=ge("Сдвиг"),N(t.$$.fragment)},l(a){e=be(a,"Сдвиг"),B(t.$$.fragment,a)},m(a,l){G(a,e,l),x(t,a,l),i=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].shift,Ce(()=>n=!1)),t.$set(u)},i(a){i||(w(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),M(t,a)}}}function Lc(r){let e;return{c(){e=ge("Авто")},l(t){e=be(t,"Авто")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function Oc(r){let e,t,n;return t=new Ln({props:{value:r[0].scale==="font",$$slots:{default:[Lc]},$$scope:{ctx:r}}}),t.$on("change",r[11]),t.$on("change",r[12]),{c(){e=ge("Масштаб "),N(t.$$.fragment)},l(i){e=be(i,"Масштаб "),B(t.$$.fragment,i)},m(i,s){G(i,e,s),x(t,i,s),n=!0},p(i,s){const o={};s&1&&(o.value=i[0].scale==="font"),s&262144&&(o.$$scope={dirty:s,ctx:i}),t.$set(o)},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){E(t.$$.fragment,i),n=!1},d(i){i&&S(e),M(t,i)}}}function Ni(r){let e,t;return e=new At({props:{$$slots:{default:[Gc]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&262145&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Gc(r){let e,t,n;function i(o){r[13](o)}let s={step:.1};return r[0].scale!==void 0&&(s.value=r[0].scale),e=new Jn({props:s}),Te.push(()=>Ie(e,"value",i)),e.$on("change",r[14]),{c(){N(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,a){x(e,o,a),n=!0},p(o,a){const l={};!t&&a&1&&(t=!0,l.value=o[0].scale,Ce(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function Hc(r){let e,t,n,i,s,o,a,l,u,f,c,h;e=new qe({props:{for:"ignore",$$slots:{default:[zc]},$$scope:{ctx:r}}}),n=new qe({props:{$$slots:{default:[Uc]},$$scope:{ctx:r}}}),s=new qe({props:{$$slots:{default:[Dc]},$$scope:{ctx:r}}}),a=new qe({props:{$$slots:{default:[Oc]},$$scope:{ctx:r}}});let m=r[0].scale!=="font"&&Ni(r);function d(g){r[15](g)}let p={validateName:r[3]};return r[1]!==void 0&&(p.open=r[1]),f=new Nc({props:p}),Te.push(()=>Ie(f,"open",d)),f.$on("submit",r[4]),{c(){N(e.$$.fragment),t=fe(),N(n.$$.fragment),i=fe(),N(s.$$.fragment),o=fe(),N(a.$$.fragment),l=fe(),m&&m.c(),u=fe(),N(f.$$.fragment)},l(g){B(e.$$.fragment,g),t=ce(g),B(n.$$.fragment,g),i=ce(g),B(s.$$.fragment,g),o=ce(g),B(a.$$.fragment,g),l=ce(g),m&&m.l(g),u=ce(g),B(f.$$.fragment,g)},m(g,_){x(e,g,_),G(g,t,_),x(n,g,_),G(g,i,_),x(s,g,_),G(g,o,_),x(a,g,_),G(g,l,_),m&&m.m(g,_),G(g,u,_),x(f,g,_),h=!0},p(g,_){const $={};_&262151&&($.$$scope={dirty:_,ctx:g}),e.$set($);const k={};_&262145&&(k.$$scope={dirty:_,ctx:g}),n.$set(k);const y={};_&262145&&(y.$$scope={dirty:_,ctx:g}),s.$set(y);const P={};_&262145&&(P.$$scope={dirty:_,ctx:g}),a.$set(P),g[0].scale!=="font"?m?(m.p(g,_),_&1&&w(m,1)):(m=Ni(g),m.c(),w(m,1),m.m(u.parentNode,u)):m&&(je(),E(m,1,1,()=>{m=null}),We());const C={};!c&&_&2&&(c=!0,C.open=g[1],Ce(()=>c=!1)),f.$set(C)},i(g){h||(w(e.$$.fragment,g),w(n.$$.fragment,g),w(s.$$.fragment,g),w(a.$$.fragment,g),w(m),w(f.$$.fragment,g),h=!0)},o(g){E(e.$$.fragment,g),E(n.$$.fragment,g),E(s.$$.fragment,g),E(a.$$.fragment,g),E(m),E(f.$$.fragment,g),h=!1},d(g){M(e,g),g&&S(t),M(n,g),g&&S(i),M(s,g),g&&S(o),M(a,g),g&&S(l),m&&m.d(g),g&&S(u),M(f,g)}}}function jc(r){let e,t;return e=new At({props:{$$slots:{default:[Hc]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const s={};i&262151&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}const Bi=r=>r.name;function Wc(r,e,t){let n;Ct(r,vt,y=>t(2,n=y));let{value:i}=e;const s=wt();function o(y){return vt.has(y)?"Это имя уже занято":""}function a(y){s("addPattern",y.detail),t(0,i.name=y.detail.name,i)}let l=!1;function u(y){r.$$.not_equal(i.name,y)&&(i.name=y,t(0,i))}const f=()=>t(1,l=!0);function c(y){r.$$.not_equal(i.rotate,y)&&(i.rotate=y,t(0,i))}function h(y){Se.call(this,r,y)}function m(y){r.$$.not_equal(i.shift,y)&&(i.shift=y,t(0,i))}function d(y){Se.call(this,r,y)}const p=y=>t(0,i.scale=y.detail?"font":{x:1,y:1},i);function g(y){Se.call(this,r,y)}function _(y){r.$$.not_equal(i.scale,y)&&(i.scale=y,t(0,i))}function $(y){Se.call(this,r,y)}function k(y){l=y,t(1,l)}return r.$$set=y=>{"value"in y&&t(0,i=y.value)},[i,l,n,o,a,u,f,c,h,m,d,p,g,_,$,k]}class Vc extends $e{constructor(e){super(),we(this,e,Wc,jc,ve,{value:0})}}function Zc(r){let e,t,n,i;return{c(){e=ge("Слева"),t=ne("input"),this.h()},l(s){e=be(s,"Слева"),t=re(s,"INPUT",{type:!0}),this.h()},h(){W(t,"type","color")},m(s,o){G(s,e,o),G(s,t,o),ft(t,r[0].color1),n||(i=[Pe(t,"input",r[5]),Pe(t,"change",r[4])],n=!0)},p(s,o){o&1&&ft(t,s[0].color1)},d(s){s&&S(e),s&&S(t),n=!1,st(i)}}}function Xc(r){let e,t,n,i;return{c(){e=ge("Справа"),t=ne("input"),this.h()},l(s){e=be(s,"Справа"),t=re(s,"INPUT",{type:!0}),this.h()},h(){W(t,"type","color")},m(s,o){G(s,e,o),G(s,t,o),ft(t,r[0].color2),n||(i=[Pe(t,"input",r[6]),Pe(t,"change",r[3])],n=!0)},p(s,o){o&1&&ft(t,s[0].color2)},d(s){s&&S(e),s&&S(t),n=!1,st(i)}}}function qc(r){let e,t,n,i;return{c(){e=ge("Сверху"),t=ne("input"),this.h()},l(s){e=be(s,"Сверху"),t=re(s,"INPUT",{type:!0}),this.h()},h(){W(t,"type","color")},m(s,o){G(s,e,o),G(s,t,o),ft(t,r[0].color3),n||(i=[Pe(t,"input",r[7]),Pe(t,"change",r[2])],n=!0)},p(s,o){o&1&&ft(t,s[0].color3)},d(s){s&&S(e),s&&S(t),n=!1,st(i)}}}function Yc(r){let e,t,n,i;return{c(){e=ge("Снизу"),t=ne("input"),this.h()},l(s){e=be(s,"Снизу"),t=re(s,"INPUT",{type:!0}),this.h()},h(){W(t,"type","color")},m(s,o){G(s,e,o),G(s,t,o),ft(t,r[0].color4),n||(i=[Pe(t,"input",r[8]),Pe(t,"change",r[1])],n=!0)},p(s,o){o&1&&ft(t,s[0].color4)},d(s){s&&S(e),s&&S(t),n=!1,st(i)}}}function Kc(r){let e,t,n,i,s,o,a,l;return e=new qe({props:{$$slots:{default:[Zc]},$$scope:{ctx:r}}}),n=new qe({props:{$$slots:{default:[Xc]},$$scope:{ctx:r}}}),s=new qe({props:{$$slots:{default:[qc]},$$scope:{ctx:r}}}),a=new qe({props:{$$slots:{default:[Yc]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment),t=fe(),N(n.$$.fragment),i=fe(),N(s.$$.fragment),o=fe(),N(a.$$.fragment)},l(u){B(e.$$.fragment,u),t=ce(u),B(n.$$.fragment,u),i=ce(u),B(s.$$.fragment,u),o=ce(u),B(a.$$.fragment,u)},m(u,f){x(e,u,f),G(u,t,f),x(n,u,f),G(u,i,f),x(s,u,f),G(u,o,f),x(a,u,f),l=!0},p(u,f){const c={};f&513&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const h={};f&513&&(h.$$scope={dirty:f,ctx:u}),n.$set(h);const m={};f&513&&(m.$$scope={dirty:f,ctx:u}),s.$set(m);const d={};f&513&&(d.$$scope={dirty:f,ctx:u}),a.$set(d)},i(u){l||(w(e.$$.fragment,u),w(n.$$.fragment,u),w(s.$$.fragment,u),w(a.$$.fragment,u),l=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),E(s.$$.fragment,u),E(a.$$.fragment,u),l=!1},d(u){M(e,u),u&&S(t),M(n,u),u&&S(i),M(s,u),u&&S(o),M(a,u)}}}function Jc(r){let e,t;return e=new At({props:{$$slots:{default:[Kc]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const s={};i&513&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Qc(r,e,t){let{value:n}=e;function i(h){Se.call(this,r,h)}function s(h){Se.call(this,r,h)}function o(h){Se.call(this,r,h)}function a(h){Se.call(this,r,h)}function l(){n.color1=this.value,t(0,n)}function u(){n.color2=this.value,t(0,n)}function f(){n.color3=this.value,t(0,n)}function c(){n.color4=this.value,t(0,n)}return r.$$set=h=>{"value"in h&&t(0,n=h.value)},[n,i,s,o,a,l,u,f,c]}class eh extends $e{constructor(e){super(),we(this,e,Qc,Jc,ve,{value:0})}}function th(r){let e,t,n,i;return{c(){e=ne("textarea"),this.h()},l(s){e=re(s,"TEXTAREA",{rows:!0,class:!0}),ae(e).forEach(S),this.h()},h(){var s,o;e.value=r[1],W(e,"rows",t=((o=(s=r[1])==null?void 0:s.split(`
`))==null?void 0:o.length)||1),W(e,"class","svelte-1g0ox8l")},m(s,o){G(s,e,o),n||(i=Pe(e,"change",r[2]),n=!0)},p(s,[o]){var a,l;o&2&&(e.value=s[1]),o&2&&t!==(t=((l=(a=s[1])==null?void 0:a.split(`
`))==null?void 0:l.length)||1)&&W(e,"rows",t)},i:Qe,o:Qe,d(s){s&&S(e),n=!1,i()}}}function nh(r,e,t){let{value:n}=e,i="";const s=o=>{try{t(0,n=JSON.parse(o.currentTarget.value))}catch(a){console.warn(a)}};return r.$$set=o=>{"value"in o&&t(0,n=o.value)},r.$$.update=()=>{r.$$.dirty&1&&t(1,i=JSON.stringify(n,void 0,4))},[n,i,s]}class Is extends $e{constructor(e){super(),we(this,e,nh,th,ve,{value:0})}}function xi(r){const e=r[0].settings.type;r[19]=e}function rh(r){let e=r[2][r[20]]+"",t;return{c(){t=ge(e)},l(n){t=be(n,e)},m(n,i){G(n,t,i)},p(n,i){i&1048576&&e!==(e=n[2][n[20]]+"")&&ot(t,e)},d(n){n&&S(t)}}}function Mi(r){let e,t;return e=new At({props:{$$slots:{default:[fh]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&2097153&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ih(r){let e,t,n,i,s;function o(l){r[13](l)}let a={};return r[0].settings!==void 0&&(a.value=r[0].settings),t=new Is({props:a}),Te.push(()=>Ie(t,"value",o)),{c(){e=ne("div"),N(t.$$.fragment)},l(l){e=re(l,"DIV",{});var u=ae(e);B(t.$$.fragment,u),u.forEach(S)},m(l,u){G(l,e,u),x(t,e,null),s=!0},p(l,u){const f={};!n&&u&1&&(n=!0,f.value=l[0].settings,Ce(()=>n=!1)),t.$set(f)},i(l){s||(w(t.$$.fragment,l),l&&Dt(()=>{i||(i=ut(e,ct,{},!0)),i.run(1)}),s=!0)},o(l){E(t.$$.fragment,l),l&&(i||(i=ut(e,ct,{},!1)),i.run(0)),s=!1},d(l){l&&S(e),M(t),l&&i&&i.end()}}}function sh(r){let e,t,n,i,s;function o(l){r[12](l)}let a={};return r[0].settings!==void 0&&(a.value=r[0].settings),t=new eh({props:a}),Te.push(()=>Ie(t,"value",o)),{c(){e=ne("div"),N(t.$$.fragment)},l(l){e=re(l,"DIV",{});var u=ae(e);B(t.$$.fragment,u),u.forEach(S)},m(l,u){G(l,e,u),x(t,e,null),s=!0},p(l,u){const f={};!n&&u&1&&(n=!0,f.value=l[0].settings,Ce(()=>n=!1)),t.$set(f)},i(l){s||(w(t.$$.fragment,l),l&&Dt(()=>{i||(i=ut(e,ct,{},!0)),i.run(1)}),s=!0)},o(l){E(t.$$.fragment,l),l&&(i||(i=ut(e,ct,{},!1)),i.run(0)),s=!1},d(l){l&&S(e),M(t),l&&i&&i.end()}}}function oh(r){let e,t,n,i,s;function o(l){r[9](l)}let a={};return r[0].settings!==void 0&&(a.value=r[0].settings),t=new Vc({props:a}),Te.push(()=>Ie(t,"value",o)),t.$on("change",r[10]),t.$on("addPattern",r[11]),{c(){e=ne("div"),N(t.$$.fragment)},l(l){e=re(l,"DIV",{});var u=ae(e);B(t.$$.fragment,u),u.forEach(S)},m(l,u){G(l,e,u),x(t,e,null),s=!0},p(l,u){const f={};!n&&u&1&&(n=!0,f.value=l[0].settings,Ce(()=>n=!1)),t.$set(f)},i(l){s||(w(t.$$.fragment,l),l&&Dt(()=>{i||(i=ut(e,ct,{},!0)),i.run(1)}),s=!0)},o(l){E(t.$$.fragment,l),l&&(i||(i=ut(e,ct,{},!1)),i.run(0)),s=!1},d(l){l&&S(e),M(t),l&&i&&i.end()}}}function ah(r){let e,t,n,i,s;function o(l){r[7](l)}let a={};return r[0].settings!==void 0&&(a.value=r[0].settings),t=new cc({props:a}),Te.push(()=>Ie(t,"value",o)),t.$on("change",r[8]),{c(){e=ne("div"),N(t.$$.fragment)},l(l){e=re(l,"DIV",{});var u=ae(e);B(t.$$.fragment,u),u.forEach(S)},m(l,u){G(l,e,u),x(t,e,null),s=!0},p(l,u){const f={};!n&&u&1&&(n=!0,f.value=l[0].settings,Ce(()=>n=!1)),t.$set(f)},i(l){s||(w(t.$$.fragment,l),l&&Dt(()=>{i||(i=ut(e,ct,{},!0)),i.run(1)}),s=!0)},o(l){E(t.$$.fragment,l),l&&(i||(i=ut(e,ct,{},!1)),i.run(0)),s=!1},d(l){l&&S(e),M(t),l&&i&&i.end()}}}function lh(r){let e,t,n;return t=new _t({props:{min:0,max:100,step:1,value:100-r[0].alpha*100}}),t.$on("change",r[14]),t.$on("input",r[15]),{c(){e=ge("Прозрачность (%) "),N(t.$$.fragment)},l(i){e=be(i,"Прозрачность (%) "),B(t.$$.fragment,i)},m(i,s){G(i,e,s),x(t,i,s),n=!0},p(i,s){const o={};s&1&&(o.value=100-i[0].alpha*100),t.$set(o)},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){E(t.$$.fragment,i),n=!1},d(i){i&&S(e),M(t,i)}}}function uh(r){let e,t,n,i,s;return{c(){e=ge("Тень "),t=ne("input"),this.h()},l(o){e=be(o,"Тень "),t=re(o,"INPUT",{type:!0}),this.h()},h(){W(t,"type","checkbox"),t.checked=n=r[0].shadow!==void 0},m(o,a){G(o,e,a),G(o,t,a),i||(s=[Pe(t,"change",r[16]),Pe(t,"change",r[5])],i=!0)},p(o,a){a&1&&n!==(n=o[0].shadow!==void 0)&&(t.checked=n)},d(o){o&&S(e),o&&S(t),i=!1,st(s)}}}function zi(r){let e,t,n,i;function s(a){r[17](a)}let o={};return r[0].shadow!==void 0&&(o.value=r[0].shadow),t=new oc({props:o}),Te.push(()=>Ie(t,"value",s)),t.$on("change",r[18]),{c(){e=ne("div"),N(t.$$.fragment)},l(a){e=re(a,"DIV",{});var l=ae(e);B(t.$$.fragment,l),l.forEach(S)},m(a,l){G(a,e,l),x(t,e,null),i=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].shadow,Ce(()=>n=!1)),t.$set(u)},i(a){i||(w(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),M(t)}}}function fh(r){xi(r);let e,t,n,i,s,o,a,l,u,f;const c=[ah,oh,sh,ih],h=[];function m(p,g){return p[19]==="color"?0:p[19]==="pattern"?1:p[19]==="gradient4"?2:3}e=m(r),t=h[e]=c[e](r),s=new qe({props:{$$slots:{default:[lh]},$$scope:{ctx:r}}}),a=new qe({props:{$$slots:{default:[uh]},$$scope:{ctx:r}}});let d=r[0].shadow&&zi(r);return{c(){t.c(),n=fe(),i=ne("div"),N(s.$$.fragment),o=fe(),N(a.$$.fragment),l=fe(),d&&d.c()},l(p){t.l(p),n=ce(p),i=re(p,"DIV",{});var g=ae(i);B(s.$$.fragment,g),o=ce(g),B(a.$$.fragment,g),l=ce(g),d&&d.l(g),g.forEach(S)},m(p,g){h[e].m(p,g),G(p,n,g),G(p,i,g),x(s,i,null),X(i,o),x(a,i,null),X(i,l),d&&d.m(i,null),f=!0},p(p,g){xi(p);let _=e;e=m(p),e===_?h[e].p(p,g):(je(),E(h[_],1,1,()=>{h[_]=null}),We(),t=h[e],t?t.p(p,g):(t=h[e]=c[e](p),t.c()),w(t,1),t.m(n.parentNode,n));const $={};g&2097153&&($.$$scope={dirty:g,ctx:p}),s.$set($);const k={};g&2097153&&(k.$$scope={dirty:g,ctx:p}),a.$set(k),p[0].shadow?d?(d.p(p,g),g&1&&w(d,1)):(d=zi(p),d.c(),w(d,1),d.m(i,null)):d&&(je(),E(d,1,1,()=>{d=null}),We())},i(p){f||(w(t),w(s.$$.fragment,p),w(a.$$.fragment,p),w(d),p&&Dt(()=>{u||(u=ut(i,ct,{},!0)),u.run(1)}),f=!0)},o(p){E(t),E(s.$$.fragment,p),E(a.$$.fragment,p),E(d),p&&(u||(u=ut(i,ct,{},!1)),u.run(0)),f=!1},d(p){h[e].d(p),p&&S(n),p&&S(i),M(s),M(a),d&&d.d(),p&&u&&u.end()}}}function ch(r){let e,t,n,i,s;n=new kt({props:{value:r[0].settings.type,items:r[3],$$slots:{default:[rh,({item:a})=>({20:a}),({item:a})=>a?1048576:0]},$$scope:{ctx:r}}}),n.$on("change",r[1]),n.$on("change",r[6]);let o=r[0].settings.type!=="disabled"&&Mi(r);return{c(){e=ne("article"),t=ne("header"),N(n.$$.fragment),i=fe(),o&&o.c(),this.h()},l(a){e=re(a,"ARTICLE",{class:!0});var l=ae(e);t=re(l,"HEADER",{});var u=ae(t);B(n.$$.fragment,u),u.forEach(S),i=ce(l),o&&o.l(l),l.forEach(S),this.h()},h(){W(e,"class","svelte-1b7lwvz")},m(a,l){G(a,e,l),X(e,t),x(n,t,null),X(e,i),o&&o.m(e,null),s=!0},p(a,[l]){const u={};l&1&&(u.value=a[0].settings.type),l&3145728&&(u.$$scope={dirty:l,ctx:a}),n.$set(u),a[0].settings.type!=="disabled"?o?(o.p(a,l),l&1&&w(o,1)):(o=Mi(a),o.c(),w(o,1),o.m(e,null)):o&&(je(),E(o,1,1,()=>{o=null}),We())},i(a){s||(w(n.$$.fragment,a),w(o),s=!0)},o(a){E(n.$$.fragment,a),E(o),s=!1},d(a){a&&S(e),M(n),o&&o.d()}}}function hh(r,e,t){let{value:n}=e,{defaults:i}=e;function s(C){const A=i.find(O=>O.type===C.detail.value);if(!A)throw new Error(`Not found default value for type ${C.detail.value}`);t(0,n.settings=structuredClone(A),n)}const o={disabled:"Выключить",color:"Цвет",pattern:"Паттерн",gradient4:"Градиент (крестовой)"},a=Object.keys(o);function l(C){Se.call(this,r,C)}function u(C){Se.call(this,r,C)}function f(C){r.$$.not_equal(n.settings,C)&&(n.settings=C,t(0,n))}function c(C){Se.call(this,r,C)}function h(C){r.$$.not_equal(n.settings,C)&&(n.settings=C,t(0,n))}function m(C){Se.call(this,r,C)}function d(C){Se.call(this,r,C)}function p(C){r.$$.not_equal(n.settings,C)&&(n.settings=C,t(0,n))}function g(C){r.$$.not_equal(n.settings,C)&&(n.settings=C,t(0,n))}function _(C){Se.call(this,r,C)}const $=C=>{t(0,n.alpha=(100-C.detail)/100,n)},k=C=>{t(0,n.shadow=C.currentTarget.checked?{blur:10,color:"#000000",offset:{x:0,y:0}}:void 0,n)};function y(C){r.$$.not_equal(n.shadow,C)&&(n.shadow=C,t(0,n))}function P(C){Se.call(this,r,C)}return r.$$set=C=>{"value"in C&&t(0,n=C.value),"defaults"in C&&t(4,i=C.defaults)},[n,s,o,a,i,l,u,f,c,h,m,d,p,g,_,$,k,y,P]}class Cs extends $e{constructor(e){super(),we(this,e,hh,ch,ve,{value:0,defaults:4})}}function Yt({italic:r,smallCaps:e,bold:t,family:n},i){return`${r?"italic":"normal"} ${e?"small-caps":"normal"} ${t?"bold":"normal"} ${i}px ${n}`}class Fn{constructor(e){Re(this,"subscribers",new Set);this.value=e}update(e){this.set(e(this.value))}subscribe(e){return e(this.value),this.subscribers.add(e),()=>{this.subscribers.delete(e)}}set(e){this.value=e,this.subscribers.forEach(t=>t(e))}}function sn(r){return JSON.parse(JSON.stringify(r))}const Fs={case:"UPPER",align:"center",baseline:"middle",lineSpacing:-.125,fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1},strokeWidth:14,experimental:{}};function mh(r,e){return e.case=r.case,e.fill=sn(r.fill),e.stroke=sn(r.stroke),e.font=sn(r.font),e}const dh=[{name:"TRUE IMPACT",case:"UPPER",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1}},{name:"post-ironic lobster",case:"lower",fill:{settings:{type:"color",value:"#ffffff"},alpha:1,shadow:{color:"#000000",blur:15,offset:{x:0,y:0}}},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!1,family:"Lobster",italic:!1,smallCaps:!1}},{name:"Arial subtitles",case:"As is",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Arial",italic:!1,smallCaps:!1}},{name:"Arial bold subtitles",case:"As is",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!0,family:"Arial",italic:!1,smallCaps:!1}},{name:"Black Arial",case:"As is",fill:{settings:{type:"color",value:"#000000"},alpha:1},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!1,family:"Arial",italic:!1,smallCaps:!1}},{name:"Black Arial bold",case:"As is",fill:{settings:{type:"color",value:"#000000"},alpha:1},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!0,family:"Arial",italic:!1,smallCaps:!1}}],ph=Kn(dh),_h=Kn(["Impact","Lobster","Arial","Helvetica","Next art","Pacifico","Caveat","Comforter"]);function gh(r=document.fonts){const e=new Array;return r.forEach(t=>e.push(t.load().catch(n=>(console.warn(`Failed load font ${t.family}: ${n.message}`),t)))),Promise.all(e)}function Ui(r,e,t){const n=r.slice();return n[24]=e[t],n}function bh(r){let e,t;return e=new jl({props:{size:16}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p:Qe,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vh(r){let e,t;return e=new ja({props:{size:16}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p:Qe,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function $h(r){let e;return{c(){e=ge("Small Caps")},l(t){e=be(t,"Small Caps")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function wh(r){let e,t;return e=new Ca({}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function yh(r){let e,t;return e=new va({}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Eh(r){let e,t;return e=new ka({}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function kh(r){let e,t,n,i;const s=[Eh,yh,wh],o=[];function a(l,u){return l[23]=="left"?0:l[23]=="center"?1:l[23]=="right"?2:-1}return~(e=a(r))&&(t=o[e]=s[e](r)),{c(){t&&t.c(),n=Ze()},l(l){t&&t.l(l),n=Ze()},m(l,u){~e&&o[e].m(l,u),G(l,n,u),i=!0},p(l,u){let f=e;e=a(l),e!==f&&(t&&(je(),E(o[f],1,1,()=>{o[f]=null}),We()),~e?(t=o[e],t||(t=o[e]=s[e](l),t.c()),w(t,1),t.m(n.parentNode,n)):t=null)},i(l){i||(w(t),i=!0)},o(l){E(t),i=!1},d(l){~e&&o[e].d(l),l&&S(n)}}}function Ah(r){let e,t;return e=new ia({}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Th(r){let e,t;return e=new ua({}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Sh(r){let e,t;return e=new da({}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Ih(r){let e,t,n,i;const s=[Sh,Th,Ah],o=[];function a(l,u){return l[23]=="top"?0:l[23]=="middle"?1:l[23]=="bottom"?2:-1}return~(e=a(r))&&(t=o[e]=s[e](r)),{c(){t&&t.c(),n=Ze()},l(l){t&&t.l(l),n=Ze()},m(l,u){~e&&o[e].m(l,u),G(l,n,u),i=!0},p(l,u){let f=e;e=a(l),e!==f&&(t&&(je(),E(o[f],1,1,()=>{o[f]=null}),We()),~e?(t=o[e],t||(t=o[e]=s[e](l),t.c()),w(t,1),t.m(n.parentNode,n)):t=null)},i(l){i||(w(t),i=!0)},o(l){E(t),i=!1},d(l){~e&&o[e].d(l),l&&S(n)}}}function Ch(r){let e,t;return e=new ql({}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Di(r){let e,t,n,i,s,o,a;return{c(){e=ne("label"),t=ne("input"),n=fe(),i=ge(r[24]),s=fe(),this.h()},l(l){e=re(l,"LABEL",{class:!0});var u=ae(e);t=re(u,"INPUT",{type:!0,style:!0}),n=ce(u),i=be(u,r[24]),s=ce(u),u.forEach(S),this.h()},h(){W(t,"type","radio"),t.__value=r[24],t.value=t.__value,dt(t,"display","none"),r[18][0].push(t),W(e,"class","svelte-ebxik1")},m(l,u){G(l,e,u),X(e,t),t.checked=t.__value===r[4],X(e,n),X(e,i),X(e,s),o||(a=Pe(t,"change",r[17]),o=!0)},p(l,u){u&16&&(t.checked=t.__value===l[4])},d(l){l&&S(e),r[18][0].splice(r[18][0].indexOf(t),1),o=!1,a()}}}function Fh(r){let e,t,n,i,s;function o(f){r[16](f)}let a={min:-1,step:.125};r[4]!==void 0&&(a.value=r[4]),t=new _t({props:a}),Te.push(()=>Ie(t,"value",o));let l=[0,.5,1,1.25],u=[];for(let f=0;f<4;f+=1)u[f]=Di(Ui(r,l,f));return{c(){e=ne("section"),N(t.$$.fragment),i=fe();for(let f=0;f<4;f+=1)u[f].c();this.h()},l(f){e=re(f,"SECTION",{slot:!0,class:!0});var c=ae(e);B(t.$$.fragment,c),i=ce(c);for(let h=0;h<4;h+=1)u[h].l(c);c.forEach(S),this.h()},h(){W(e,"slot","content"),W(e,"class","spacing-values svelte-ebxik1")},m(f,c){G(f,e,c),x(t,e,null),X(e,i);for(let h=0;h<4;h+=1)u[h].m(e,null);s=!0},p(f,c){const h={};if(!n&&c&16&&(n=!0,h.value=f[4],Ce(()=>n=!1)),t.$set(h),c&16){l=[0,.5,1,1.25];let m;for(m=0;m<4;m+=1){const d=Ui(f,l,m);u[m]?u[m].p(d,c):(u[m]=Di(d),u[m].c(),u[m].m(e,null))}for(;m<4;m+=1)u[m].d(1)}},i(f){s||(w(t.$$.fragment,f),s=!0)},o(f){E(t.$$.fragment,f),s=!1},d(f){f&&S(e),M(t),$n(u,f)}}}function Rh(r){let e,t=r[23]+"",n;return{c(){e=ne("section"),n=ge(t),this.h()},l(i){e=re(i,"SECTION",{style:!0});var s=ae(e);n=be(s,t),s.forEach(S),this.h()},h(){dt(e,"font-family",r[23])},m(i,s){G(i,e,s),X(e,n)},p(i,s){s&8388608&&t!==(t=i[23]+"")&&ot(n,t),s&8388608&&dt(e,"font-family",i[23])},d(i){i&&S(e)}}}function Ph(r){let e=r[23]+"",t;return{c(){t=ge(e)},l(n){t=be(n,e)},m(n,i){G(n,t,i)},p(n,i){i&8388608&&e!==(e=n[23]+"")&&ot(t,e)},d(n){n&&S(t)}}}function Nh(r){let e,t,n,i,s,o,a,l,u,f,c,h,m,d,p,g,_,$,k,y,P,C,A,O;function L(Y){r[6](Y)}let U={$$slots:{default:[bh]},$$scope:{ctx:r}};r[0].italic!==void 0&&(U.value=r[0].italic),t=new Ln({props:U}),Te.push(()=>Ie(t,"value",L)),t.$on("change",r[7]);function se(Y){r[8](Y)}let F={$$slots:{default:[vh]},$$scope:{ctx:r}};r[0].bold!==void 0&&(F.value=r[0].bold),s=new Ln({props:F}),Te.push(()=>Ie(s,"value",se)),s.$on("change",r[9]);function I(Y){r[10](Y)}let v={$$slots:{default:[$h]},$$scope:{ctx:r}};r[0].smallCaps!==void 0&&(v.value=r[0].smallCaps),l=new Ln({props:v}),Te.push(()=>Ie(l,"value",I)),l.$on("change",r[11]);function q(Y){r[12](Y)}let _e={items:["left","center","right"],$$slots:{default:[kh,({item:Y})=>({23:Y}),({item:Y})=>Y?8388608:0]},$$scope:{ctx:r}};r[2]!==void 0&&(_e.value=r[2]),c=new kt({props:_e}),Te.push(()=>Ie(c,"value",q)),c.$on("change",r[13]);function z(Y){r[14](Y)}let he={items:["top","middle","bottom"],$$slots:{default:[Ih,({item:Y})=>({23:Y}),({item:Y})=>Y?8388608:0]},$$scope:{ctx:r}};r[3]!==void 0&&(he.value=r[3]),d=new kt({props:he}),Te.push(()=>Ie(d,"value",z)),d.$on("change",r[15]),_=new Ss({props:{css:{height:"48px",main:"min-width:100px",width:"100%"},$$slots:{content:[Fh],header:[Ch]},$$scope:{ctx:r}}});function ee(Y){r[19](Y)}let ye={items:r[5],$$slots:{default:[Rh,({item:Y})=>({23:Y}),({item:Y})=>Y?8388608:0]},$$scope:{ctx:r}};r[0].family!==void 0&&(ye.value=r[0].family),k=new kt({props:ye}),Te.push(()=>Ie(k,"value",ee)),k.$on("change",r[20]);function H(Y){r[21](Y)}let j={items:["As is","UPPER","lower"],$$slots:{default:[Ph,({item:Y})=>({23:Y}),({item:Y})=>Y?8388608:0]},$$scope:{ctx:r}};return r[1]!==void 0&&(j.value=r[1]),C=new kt({props:j}),Te.push(()=>Ie(C,"value",H)),C.$on("change",r[22]),{c(){e=ne("article"),N(t.$$.fragment),i=fe(),N(s.$$.fragment),a=fe(),N(l.$$.fragment),f=fe(),N(c.$$.fragment),m=fe(),N(d.$$.fragment),g=fe(),N(_.$$.fragment),$=fe(),N(k.$$.fragment),P=fe(),N(C.$$.fragment),this.h()},l(Y){e=re(Y,"ARTICLE",{class:!0});var Q=ae(e);B(t.$$.fragment,Q),i=ce(Q),B(s.$$.fragment,Q),a=ce(Q),B(l.$$.fragment,Q),f=ce(Q),B(c.$$.fragment,Q),m=ce(Q),B(d.$$.fragment,Q),g=ce(Q),B(_.$$.fragment,Q),$=ce(Q),B(k.$$.fragment,Q),P=ce(Q),B(C.$$.fragment,Q),Q.forEach(S),this.h()},h(){W(e,"class","svelte-ebxik1")},m(Y,Q){G(Y,e,Q),x(t,e,null),X(e,i),x(s,e,null),X(e,a),x(l,e,null),X(e,f),x(c,e,null),X(e,m),x(d,e,null),X(e,g),x(_,e,null),X(e,$),x(k,e,null),X(e,P),x(C,e,null),O=!0},p(Y,[Q]){const me={};Q&134217728&&(me.$$scope={dirty:Q,ctx:Y}),!n&&Q&1&&(n=!0,me.value=Y[0].italic,Ce(()=>n=!1)),t.$set(me);const ie={};Q&134217728&&(ie.$$scope={dirty:Q,ctx:Y}),!o&&Q&1&&(o=!0,ie.value=Y[0].bold,Ce(()=>o=!1)),s.$set(ie);const Z={};Q&134217728&&(Z.$$scope={dirty:Q,ctx:Y}),!u&&Q&1&&(u=!0,Z.value=Y[0].smallCaps,Ce(()=>u=!1)),l.$set(Z);const Ae={};Q&142606336&&(Ae.$$scope={dirty:Q,ctx:Y}),!h&&Q&4&&(h=!0,Ae.value=Y[2],Ce(()=>h=!1)),c.$set(Ae);const J={};Q&142606336&&(J.$$scope={dirty:Q,ctx:Y}),!p&&Q&8&&(p=!0,J.value=Y[3],Ce(()=>p=!1)),d.$set(J);const Fe={};Q&134217744&&(Fe.$$scope={dirty:Q,ctx:Y}),_.$set(Fe);const De={};Q&32&&(De.items=Y[5]),Q&142606336&&(De.$$scope={dirty:Q,ctx:Y}),!y&&Q&1&&(y=!0,De.value=Y[0].family,Ce(()=>y=!1)),k.$set(De);const Ve={};Q&142606336&&(Ve.$$scope={dirty:Q,ctx:Y}),!A&&Q&2&&(A=!0,Ve.value=Y[1],Ce(()=>A=!1)),C.$set(Ve)},i(Y){O||(w(t.$$.fragment,Y),w(s.$$.fragment,Y),w(l.$$.fragment,Y),w(c.$$.fragment,Y),w(d.$$.fragment,Y),w(_.$$.fragment,Y),w(k.$$.fragment,Y),w(C.$$.fragment,Y),O=!0)},o(Y){E(t.$$.fragment,Y),E(s.$$.fragment,Y),E(l.$$.fragment,Y),E(c.$$.fragment,Y),E(d.$$.fragment,Y),E(_.$$.fragment,Y),E(k.$$.fragment,Y),E(C.$$.fragment,Y),O=!1},d(Y){Y&&S(e),M(t),M(s),M(l),M(c),M(d),M(_),M(k),M(C)}}}function Bh(r,e,t){let n;Ct(r,_h,U=>t(5,n=U));let{font:i}=e,{textCase:s}=e,{align:o}=e,{baseline:a}=e,{spacing:l}=e;const u=[[]];function f(U){r.$$.not_equal(i.italic,U)&&(i.italic=U,t(0,i))}function c(U){Se.call(this,r,U)}function h(U){r.$$.not_equal(i.bold,U)&&(i.bold=U,t(0,i))}function m(U){Se.call(this,r,U)}function d(U){r.$$.not_equal(i.smallCaps,U)&&(i.smallCaps=U,t(0,i))}function p(U){Se.call(this,r,U)}function g(U){o=U,t(2,o)}function _(U){Se.call(this,r,U)}function $(U){a=U,t(3,a)}function k(U){Se.call(this,r,U)}function y(U){l=U,t(4,l)}function P(){l=this.__value,t(4,l)}function C(U){r.$$.not_equal(i.family,U)&&(i.family=U,t(0,i))}function A(U){Se.call(this,r,U)}function O(U){s=U,t(1,s)}function L(U){Se.call(this,r,U)}return r.$$set=U=>{"font"in U&&t(0,i=U.font),"textCase"in U&&t(1,s=U.textCase),"align"in U&&t(2,o=U.align),"baseline"in U&&t(3,a=U.baseline),"spacing"in U&&t(4,l=U.spacing)},[i,s,o,a,l,n,f,c,h,m,d,p,g,_,$,k,y,P,u,C,A,O,L]}class xh extends $e{constructor(e){super(),we(this,e,Bh,Nh,ve,{font:0,textCase:1,align:2,baseline:3,spacing:4})}}function Mh(r){let e,t=r[27].name+"",n;return{c(){e=ne("div"),n=ge(t)},l(i){e=re(i,"DIV",{});var s=ae(e);n=be(s,t),s.forEach(S)},m(i,s){G(i,e,s),X(e,n)},p(i,s){s&134217728&&t!==(t=i[27].name+"")&&ot(n,t)},d(i){i&&S(e)}}}function zh(r){let e,t=r[27].name+"",n;return{c(){e=ne("div"),n=ge(t),this.h()},l(i){e=re(i,"DIV",{style:!0});var s=ae(e);n=be(s,t),s.forEach(S),this.h()},h(){dt(e,"font",Yt(r[27].preset.font,16))},m(i,s){G(i,e,s),X(e,n)},p(i,s){s&134217728&&t!==(t=i[27].name+"")&&ot(n,t),s&134217728&&dt(e,"font",Yt(i[27].preset.font,16))},d(i){i&&S(e)}}}function Uh(r){let e;function t(s,o){return s[27].preset?zh:Mh}let n=t(r),i=n(r);return{c(){i.c(),e=Ze()},l(s){i.l(s),e=Ze()},m(s,o){i.m(s,o),G(s,e,o)},p(s,o){n===(n=t(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&S(e)}}}function Dh(r){let e,t,n,i;return t=new Vf({props:{size:24,name:r[26].icon,atlasDescription:Gf,atlasURL:Hf}}),{c(){e=ne("div"),N(t.$$.fragment),this.h()},l(s){e=re(s,"DIV",{class:!0,title:!0});var o=ae(e);B(t.$$.fragment,o),o.forEach(S),this.h()},h(){W(e,"class","icon"),W(e,"title",n=r[26].label)},m(s,o){G(s,e,o),x(t,e,null),i=!0},p(s,o){const a={};o&67108864&&(a.name=s[26].icon),t.$set(a),(!i||o&67108864&&n!==(n=s[26].label))&&W(e,"title",n)},i(s){i||(w(t.$$.fragment,s),i=!0)},o(s){E(t.$$.fragment,s),i=!1},d(s){s&&S(e),M(t)}}}function Lh(r){let e,t,n,i,s;e=new qe({props:{$$slots:{default:[Gh]},$$scope:{ctx:r}}});function o(l){r[22](l)}let a={defaults:[{type:"disabled"},{type:"color",value:"#000000"},{type:"pattern",name:"fire",rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}},{type:"gradient4",color1:"#ff0000",color2:"#00ff00",color3:"#0000ff",color4:"#fff000"}]};return r[0].stroke!==void 0&&(a.value=r[0].stroke),n=new Cs({props:a}),Te.push(()=>Ie(n,"value",o)),n.$on("change",r[23]),n.$on("addPattern",r[24]),{c(){N(e.$$.fragment),t=fe(),N(n.$$.fragment)},l(l){B(e.$$.fragment,l),t=ce(l),B(n.$$.fragment,l)},m(l,u){x(e,l,u),G(l,t,u),x(n,l,u),s=!0},p(l,u){const f={};u&268435457&&(f.$$scope={dirty:u,ctx:l}),e.$set(f);const c={};!i&&u&1&&(i=!0,c.value=l[0].stroke,Ce(()=>i=!1)),n.$set(c)},i(l){s||(w(e.$$.fragment,l),w(n.$$.fragment,l),s=!0)},o(l){E(e.$$.fragment,l),E(n.$$.fragment,l),s=!1},d(l){M(e,l),l&&S(t),M(n,l)}}}function Oh(r){let e,t,n;function i(o){r[18](o)}let s={defaults:[{type:"disabled"},{type:"color",value:"#ffffff"},{type:"pattern",name:"fire",rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}},{type:"gradient4",color1:"#ff0000",color2:"#00ff00",color3:"#0000ff",color4:"#fff000"}]};return r[0].fill!==void 0&&(s.value=r[0].fill),e=new Cs({props:s}),Te.push(()=>Ie(e,"value",i)),e.$on("change",r[19]),e.$on("addPattern",r[20]),{c(){N(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,a){x(e,o,a),n=!0},p(o,a){const l={};!t&&a&1&&(t=!0,l.value=o[0].fill,Ce(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function Gh(r){let e,t,n,i;function s(a){r[21](a)}let o={min:0};return r[0].strokeWidth!==void 0&&(o.value=r[0].strokeWidth),t=new _t({props:o}),Te.push(()=>Ie(t,"value",s)),{c(){e=ge(`Толщина обводки (%)
					`),N(t.$$.fragment)},l(a){e=be(a,`Толщина обводки (%)
					`),B(t.$$.fragment,a)},m(a,l){G(a,e,l),x(t,a,l),i=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].strokeWidth,Ce(()=>n=!1)),t.$set(u)},i(a){i||(w(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),M(t,a)}}}function Hh(r){let e,t,n,i;const s=[Oh,Lh],o=[];function a(l,u){return l[26].label==="Заливка"?0:l[26].label==="Обводка"?1:-1}return~(t=a(r))&&(n=o[t]=s[t](r)),{c(){e=ne("div"),n&&n.c(),this.h()},l(l){e=re(l,"DIV",{slot:!0});var u=ae(e);n&&n.l(u),u.forEach(S),this.h()},h(){W(e,"slot","content")},m(l,u){G(l,e,u),~t&&o[t].m(e,null),i=!0},p(l,u){let f=t;t=a(l),t===f?~t&&o[t].p(l,u):(n&&(je(),E(o[f],1,1,()=>{o[f]=null}),We()),~t?(n=o[t],n?n.p(l,u):(n=o[t]=s[t](l),n.c()),w(n,1),n.m(e,null)):n=null)},i(l){i||(w(n),i=!0)},o(l){E(n),i=!1},d(l){l&&S(e),~t&&o[t].d()}}}function jh(r){let e,t,n,i,s,o,a,l,u,f,c,h,m,d,p,g,_,$;function k(I){r[9](I)}let y={placeholder:r[6],items:[r[6],...r[4].map(Li)],$$slots:{default:[Uh,({item:I})=>({27:I}),({item:I})=>I?134217728:0]},$$scope:{ctx:r}};r[3]!==void 0&&(y.value=r[3]),t=new kt({props:y}),Te.push(()=>Ie(t,"value",k)),t.$on("change",r[7]),t.$on("change",r[10]);function P(I){r[11](I)}function C(I){r[12](I)}function A(I){r[13](I)}function O(I){r[14](I)}function L(I){r[15](I)}let U={};r[0].font!==void 0&&(U.font=r[0].font),r[0].case!==void 0&&(U.textCase=r[0].case),r[0].align!==void 0&&(U.align=r[0].align),r[0].baseline!==void 0&&(U.baseline=r[0].baseline),r[0].lineSpacing!==void 0&&(U.spacing=r[0].lineSpacing),s=new xh({props:U}),Te.push(()=>Ie(s,"font",P)),Te.push(()=>Ie(s,"textCase",C)),Te.push(()=>Ie(s,"align",A)),Te.push(()=>Ie(s,"baseline",O)),Te.push(()=>Ie(s,"spacing",L)),s.$on("change",r[16]);function se(I){r[25](I)}let F={tabs:r[5],$$slots:{content:[Hh,({tab:I})=>({26:I}),({tab:I})=>I?67108864:0],default:[Dh,({tab:I})=>({26:I}),({tab:I})=>I?67108864:0]},$$scope:{ctx:r}};return r[2]!==void 0&&(F.activeTab=r[2]),d=new Ts({props:F}),Te.push(()=>Ie(d,"activeTab",se)),{c(){e=ne("article"),N(t.$$.fragment),i=fe(),N(s.$$.fragment),c=fe(),h=ne("textarea"),m=fe(),N(d.$$.fragment),this.h()},l(I){e=re(I,"ARTICLE",{});var v=ae(e);B(t.$$.fragment,v),i=ce(v),B(s.$$.fragment,v),c=ce(v),h=re(v,"TEXTAREA",{style:!0,rows:!0,class:!0}),ae(h).forEach(S),m=ce(v),B(d.$$.fragment,v),v.forEach(S),this.h()},h(){dt(h,"width","100%"),W(h,"rows","6"),W(h,"class","svelte-1fuxbeo")},m(I,v){G(I,e,v),x(t,e,null),X(e,i),x(s,e,null),X(e,c),X(e,h),ft(h,r[1]),X(e,m),x(d,e,null),g=!0,_||($=[Pe(h,"input",r[17]),Pe(h,"change",r[8])],_=!0)},p(I,[v]){const q={};v&16&&(q.items=[I[6],...I[4].map(Li)]),v&402653184&&(q.$$scope={dirty:v,ctx:I}),!n&&v&8&&(n=!0,q.value=I[3],Ce(()=>n=!1)),t.$set(q);const _e={};!o&&v&1&&(o=!0,_e.font=I[0].font,Ce(()=>o=!1)),!a&&v&1&&(a=!0,_e.textCase=I[0].case,Ce(()=>a=!1)),!l&&v&1&&(l=!0,_e.align=I[0].align,Ce(()=>l=!1)),!u&&v&1&&(u=!0,_e.baseline=I[0].baseline,Ce(()=>u=!1)),!f&&v&1&&(f=!0,_e.spacing=I[0].lineSpacing,Ce(()=>f=!1)),s.$set(_e),v&2&&ft(h,I[1]);const z={};v&335544321&&(z.$$scope={dirty:v,ctx:I}),!p&&v&4&&(p=!0,z.activeTab=I[2],Ce(()=>p=!1)),d.$set(z)},i(I){g||(w(t.$$.fragment,I),w(s.$$.fragment,I),w(d.$$.fragment,I),g=!0)},o(I){E(t.$$.fragment,I),E(s.$$.fragment,I),E(d.$$.fragment,I),g=!1},d(I){I&&S(e),M(t),M(s),M(d),_=!1,st($)}}}const Li=r=>({name:r.name,preset:r});function Wh(r,e,t){let n;Ct(r,ph,I=>t(4,n=I));let{style:i}=e,{text:s}=e,o=[{icon:"fill",label:"Заливка"},{icon:"stroke",label:"Обводка"}],a=o[0];const l={name:"Выбрать пресет...",preset:null};let u=l;function f(I){const v=I.detail.value.preset;v&&(t(0,i=mh(v,i)),t(3,u=l))}function c(I){Se.call(this,r,I)}function h(I){u=I,t(3,u)}function m(I){Se.call(this,r,I)}function d(I){r.$$.not_equal(i.font,I)&&(i.font=I,t(0,i))}function p(I){r.$$.not_equal(i.case,I)&&(i.case=I,t(0,i))}function g(I){r.$$.not_equal(i.align,I)&&(i.align=I,t(0,i))}function _(I){r.$$.not_equal(i.baseline,I)&&(i.baseline=I,t(0,i))}function $(I){r.$$.not_equal(i.lineSpacing,I)&&(i.lineSpacing=I,t(0,i))}function k(I){Se.call(this,r,I)}function y(){s=this.value,t(1,s)}function P(I){r.$$.not_equal(i.fill,I)&&(i.fill=I,t(0,i))}function C(I){Se.call(this,r,I)}function A(I){Se.call(this,r,I)}function O(I){r.$$.not_equal(i.strokeWidth,I)&&(i.strokeWidth=I,t(0,i))}function L(I){r.$$.not_equal(i.stroke,I)&&(i.stroke=I,t(0,i))}function U(I){Se.call(this,r,I)}function se(I){Se.call(this,r,I)}function F(I){a=I,t(2,a)}return r.$$set=I=>{"style"in I&&t(0,i=I.style),"text"in I&&t(1,s=I.text)},[i,s,a,u,n,o,l,f,c,h,m,d,p,g,_,$,k,y,P,C,A,O,L,U,se,F]}class Vh extends $e{constructor(e){super(),we(this,e,Wh,jh,ve,{style:0,text:1})}}function Zh(r){let e,t,n,i;function s(l){r[1](l)}function o(l){r[2](l)}let a={};return r[0].text!==void 0&&(a.text=r[0].text),r[0].style!==void 0&&(a.style=r[0].style),e=new Vh({props:a}),Te.push(()=>Ie(e,"text",s)),Te.push(()=>Ie(e,"style",o)),e.$on("change",r[3]),e.$on("addPattern",r[4]),{c(){N(e.$$.fragment)},l(l){B(e.$$.fragment,l)},m(l,u){x(e,l,u),i=!0},p(l,[u]){const f={};!t&&u&1&&(t=!0,f.text=l[0].text,Ce(()=>t=!1)),!n&&u&1&&(n=!0,f.style=l[0].style,Ce(()=>n=!1)),e.$set(f)},i(l){i||(w(e.$$.fragment,l),i=!0)},o(l){E(e.$$.fragment,l),i=!1},d(l){M(e,l)}}}function Xh(r,e,t){let{content:n}=e;function i(l){r.$$.not_equal(n.text,l)&&(n.text=l,t(0,n))}function s(l){r.$$.not_equal(n.style,l)&&(n.style=l,t(0,n))}function o(l){Se.call(this,r,l)}function a(l){Se.call(this,r,l)}return r.$$set=l=>{"content"in l&&t(0,n=l.content)},[n,i,s,o,a]}class qh extends $e{constructor(e){super(),we(this,e,Xh,Zh,ve,{content:0})}}function Yh(r){let e,t,n=r[0].text+"",i,s,o;const a=r[2].default,l=Be(a,r,r[1],null);return{c(){e=ne("article"),t=ne("main"),i=ge(n),s=fe(),l&&l.c(),this.h()},l(u){e=re(u,"ARTICLE",{class:!0});var f=ae(e);t=re(f,"MAIN",{style:!0,class:!0});var c=ae(t);i=be(c,n),c.forEach(S),s=ce(f),l&&l.l(f),f.forEach(S),this.h()},h(){dt(t,"font",Yt(r[0].style.font,16)),W(t,"class","svelte-18odw12"),W(e,"class","svelte-18odw12")},m(u,f){G(u,e,f),X(e,t),X(t,i),X(e,s),l&&l.m(e,null),o=!0},p(u,[f]){(!o||f&1)&&n!==(n=u[0].text+"")&&ot(i,n),(!o||f&1)&&dt(t,"font",Yt(u[0].style.font,16)),l&&l.p&&(!o||f&2)&&xe(l,a,u,u[1],o?ze(a,u[1],f,null):Me(u[1]),null)},i(u){o||(w(l,u),o=!0)},o(u){E(l,u),o=!1},d(u){u&&S(e),l&&l.d(u)}}}function Kh(r,e,t){let{$$slots:n={},$$scope:i}=e,{content:s}=e;return r.$$set=o=>{"content"in o&&t(0,s=o.content),"$$scope"in o&&t(1,i=o.$$scope)},[s,i,n]}class Rs extends $e{constructor(e){super(),we(this,e,Kh,Yh,ve,{content:0})}}function Oi(r){let e,t;return e=new nt({props:{$$slots:{default:[Jh]},$$scope:{ctx:r}}}),e.$on("click",r[5]("copy")),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&272&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Jh(r){let e,t;return e=new Es({props:{size:r[4]}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&16&&(s.size=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Gi(r){let e,t;return e=new nt({props:{$$slots:{default:[Qh]},$$scope:{ctx:r}}}),e.$on("click",r[5]("up")),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&272&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Qh(r){let e,t;return e=new Da({props:{size:r[4]}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&16&&(s.size=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Hi(r){let e,t;return e=new nt({props:{$$slots:{default:[em]},$$scope:{ctx:r}}}),e.$on("click",r[5]("down")),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&272&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function em(r){let e,t;return e=new Ba({props:{size:r[4]}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&16&&(s.size=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ji(r){let e,t;return e=new nt({props:{type:"danger",$$slots:{default:[tm]},$$scope:{ctx:r}}}),e.$on("click",r[5]("remove")),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&272&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function tm(r){let e,t;return e=new Uu({props:{size:r[4]}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&16&&(s.size=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function nm(r){let e,t,n,i,s,o,a,l=r[2]&&Oi(r),u=r[0]&&Gi(r),f=r[1]&&Hi(r);const c=r[7].default,h=Be(c,r,r[8],null);let m=r[3]&&ji(r);return{c(){e=ne("footer"),l&&l.c(),t=fe(),u&&u.c(),n=fe(),f&&f.c(),i=fe(),h&&h.c(),s=fe(),m&&m.c(),this.h()},l(d){e=re(d,"FOOTER",{style:!0,class:!0});var p=ae(e);l&&l.l(p),t=ce(p),u&&u.l(p),n=ce(p),f&&f.l(p),i=ce(p),h&&h.l(p),s=ce(p),m&&m.l(p),p.forEach(S),this.h()},h(){W(e,"style",o=`--buttons-height: ${r[4]+16}px`),W(e,"class","svelte-zcq5oe")},m(d,p){G(d,e,p),l&&l.m(e,null),X(e,t),u&&u.m(e,null),X(e,n),f&&f.m(e,null),X(e,i),h&&h.m(e,null),X(e,s),m&&m.m(e,null),a=!0},p(d,[p]){d[2]?l?(l.p(d,p),p&4&&w(l,1)):(l=Oi(d),l.c(),w(l,1),l.m(e,t)):l&&(je(),E(l,1,1,()=>{l=null}),We()),d[0]?u?(u.p(d,p),p&1&&w(u,1)):(u=Gi(d),u.c(),w(u,1),u.m(e,n)):u&&(je(),E(u,1,1,()=>{u=null}),We()),d[1]?f?(f.p(d,p),p&2&&w(f,1)):(f=Hi(d),f.c(),w(f,1),f.m(e,i)):f&&(je(),E(f,1,1,()=>{f=null}),We()),h&&h.p&&(!a||p&256)&&xe(h,c,d,d[8],a?ze(c,d[8],p,null):Me(d[8]),null),d[3]?m?(m.p(d,p),p&8&&w(m,1)):(m=ji(d),m.c(),w(m,1),m.m(e,null)):m&&(je(),E(m,1,1,()=>{m=null}),We()),(!a||p&16&&o!==(o=`--buttons-height: ${d[4]+16}px`))&&W(e,"style",o)},i(d){a||(w(l),w(u),w(f),w(h,d),w(m),a=!0)},o(d){E(l),E(u),E(f),E(h,d),E(m),a=!1},d(d){d&&S(e),l&&l.d(),u&&u.d(),f&&f.d(),h&&h.d(d),m&&m.d()}}}function rm(r,e,t){let{$$slots:n={},$$scope:i}=e,{value:s}=e,{up:o=!1}=e,{down:a=!1}=e,{copy:l=!1}=e,{remove:u=!1}=e,{iconSize:f=16}=e;const c=wt();function h(m){return d=>{d.preventDefault(),d.stopPropagation(),c(m,s)}}return r.$$set=m=>{"value"in m&&t(6,s=m.value),"up"in m&&t(0,o=m.up),"down"in m&&t(1,a=m.down),"copy"in m&&t(2,l=m.copy),"remove"in m&&t(3,u=m.remove),"iconSize"in m&&t(4,f=m.iconSize),"$$scope"in m&&t(8,i=m.$$scope)},[o,a,l,u,f,h,s,n,i]}class Br extends $e{constructor(e){super(),we(this,e,rm,nm,ve,{value:6,up:0,down:1,copy:2,remove:3,iconSize:4})}}function im(r){let e,t,n=r[0]+1+"",i,s,o,a,l;const u=r[4].default,f=Be(u,r,r[3],null);return{c(){e=ne("article"),t=ne("header"),i=ge(n),s=fe(),o=ne("canvas"),a=fe(),f&&f.c(),this.h()},l(c){e=re(c,"ARTICLE",{class:!0});var h=ae(e);t=re(h,"HEADER",{class:!0});var m=ae(t);i=be(m,n),m.forEach(S),s=ce(h),o=re(h,"CANVAS",{class:!0}),ae(o).forEach(S),a=ce(h),f&&f.l(h),h.forEach(S),this.h()},h(){W(t,"class","svelte-awjzj9"),W(o,"class","svelte-awjzj9"),W(e,"class","svelte-awjzj9")},m(c,h){G(c,e,h),X(e,t),X(t,i),X(e,s),X(e,o),r[5](o),X(e,a),f&&f.m(e,null),l=!0},p(c,[h]){(!l||h&1)&&n!==(n=c[0]+1+"")&&ot(i,n),f&&f.p&&(!l||h&8)&&xe(f,u,c,c[3],l?ze(u,c[3],h,null):Me(c[3]),null)},i(c){l||(w(f,c),l=!0)},o(c){E(f,c),l=!1},d(c){c&&S(e),r[5](null),f&&f.d(c)}}}function sm(r,e,t){let{$$slots:n={},$$scope:i}=e,s,o,{index:a}=e;const l=f=>{const c=s.clientWidth,m=c/f.width*f.height|0;s.width!=c&&t(1,s.width=c,s),s.height!=m&&t(1,s.height=m,s),o.clearRect(0,0,c,m),o.drawImage(f,0,0,c,m)};ln(()=>{o=s.getContext("2d")});function u(f){Te[f?"unshift":"push"](()=>{s=f,t(1,s)})}return r.$$set=f=>{"index"in f&&t(0,a=f.index),"$$scope"in f&&t(3,i=f.$$scope)},[a,s,l,i,n,u]}class om extends $e{constructor(e){super(),we(this,e,sm,im,ve,{index:0,updatePreview:2})}get updatePreview(){return this.$$.ctx[2]}}function am(r){let e;return{c(){e=ge("Что-то пошло не так...")},l(t){e=be(t,"Что-то пошло не так...")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function lm(r){let e;return{c(){e=ge("Прямоугольник")},l(t){e=be(t,"Прямоугольник")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function um(r){let e;return{c(){e=ge("Глобальный")},l(t){e=be(t,"Глобальный")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function fm(r){let e;function t(s,o){return s[12]=="global"?um:s[12]=="rectangle"?lm:am}let n=t(r),i=n(r);return{c(){i.c(),e=Ze()},l(s){i.l(s),e=Ze()},m(s,o){i.m(s,o),G(s,e,o)},p(s,o){n!==(n=t(s))&&(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&S(e)}}}function cm(r){let e,t;return e=new At({props:{$$slots:{default:[_m]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&8193&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hm(r){let e,t;return e=new At({props:{$$slots:{default:[wm]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&8193&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function mm(r){let e,t,n;return t=new _t({props:{min:0,max:100,step:.5,value:r[0].value.maxWidth*100}}),t.$on("change",r[9]),{c(){e=ge("Максимальная ширина (%): "),N(t.$$.fragment)},l(i){e=be(i,"Максимальная ширина (%): "),B(t.$$.fragment,i)},m(i,s){G(i,e,s),x(t,i,s),n=!0},p(i,s){const o={};s&1&&(o.value=i[0].value.maxWidth*100),t.$set(o)},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){E(t.$$.fragment,i),n=!1},d(i){i&&S(e),M(t,i)}}}function dm(r){let e,t,n;return t=new _t({props:{min:0,max:100,step:.5,value:r[0].value.maxHeight*100}}),t.$on("change",r[10]),{c(){e=ge("Максимальная высота (%): "),N(t.$$.fragment)},l(i){e=be(i,"Максимальная высота (%): "),B(t.$$.fragment,i)},m(i,s){G(i,e,s),x(t,i,s),n=!0},p(i,s){const o={};s&1&&(o.value=i[0].value.maxHeight*100),t.$set(o)},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){E(t.$$.fragment,i),n=!1},d(i){i&&S(e),M(t,i)}}}function pm(r){let e,t,n;return t=new _t({props:{min:0,max:100,step:.5,value:r[0].value.minHeight*100}}),t.$on("change",r[11]),{c(){e=ge("Минимальная высота (%): "),N(t.$$.fragment)},l(i){e=be(i,"Минимальная высота (%): "),B(t.$$.fragment,i)},m(i,s){G(i,e,s),x(t,i,s),n=!0},p(i,s){const o={};s&1&&(o.value=i[0].value.minHeight*100),t.$set(o)},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){E(t.$$.fragment,i),n=!1},d(i){i&&S(e),M(t,i)}}}function _m(r){let e,t,n,i,s,o;return e=new qe({props:{$$slots:{default:[mm]},$$scope:{ctx:r}}}),n=new qe({props:{$$slots:{default:[dm]},$$scope:{ctx:r}}}),s=new qe({props:{$$slots:{default:[pm]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment),t=fe(),N(n.$$.fragment),i=fe(),N(s.$$.fragment)},l(a){B(e.$$.fragment,a),t=ce(a),B(n.$$.fragment,a),i=ce(a),B(s.$$.fragment,a)},m(a,l){x(e,a,l),G(a,t,l),x(n,a,l),G(a,i,l),x(s,a,l),o=!0},p(a,l){const u={};l&8193&&(u.$$scope={dirty:l,ctx:a}),e.$set(u);const f={};l&8193&&(f.$$scope={dirty:l,ctx:a}),n.$set(f);const c={};l&8193&&(c.$$scope={dirty:l,ctx:a}),s.$set(c)},i(a){o||(w(e.$$.fragment,a),w(n.$$.fragment,a),w(s.$$.fragment,a),o=!0)},o(a){E(e.$$.fragment,a),E(n.$$.fragment,a),E(s.$$.fragment,a),o=!1},d(a){M(e,a),a&&S(t),M(n,a),a&&S(i),M(s,a)}}}function gm(r){let e,t,n,i;function s(a){r[5](a)}let o={};return r[0].value.position!==void 0&&(o.value=r[0].value.position),t=new Jn({props:o}),Te.push(()=>Ie(t,"value",s)),{c(){e=ge("Позиция "),N(t.$$.fragment)},l(a){e=be(a,"Позиция "),B(t.$$.fragment,a)},m(a,l){G(a,e,l),x(t,a,l),i=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.position,Ce(()=>n=!1)),t.$set(u)},i(a){i||(w(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),M(t,a)}}}function bm(r){let e,t,n,i;function s(a){r[6](a)}let o={};return r[0].value.width!==void 0&&(o.value=r[0].value.width),t=new _t({props:o}),Te.push(()=>Ie(t,"value",s)),{c(){e=ge("Ширина "),N(t.$$.fragment)},l(a){e=be(a,"Ширина "),B(t.$$.fragment,a)},m(a,l){G(a,e,l),x(t,a,l),i=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.width,Ce(()=>n=!1)),t.$set(u)},i(a){i||(w(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),M(t,a)}}}function vm(r){let e,t,n,i;function s(a){r[7](a)}let o={};return r[0].value.height!==void 0&&(o.value=r[0].value.height),t=new _t({props:o}),Te.push(()=>Ie(t,"value",s)),{c(){e=ge("Высота "),N(t.$$.fragment)},l(a){e=be(a,"Высота "),B(t.$$.fragment,a)},m(a,l){G(a,e,l),x(t,a,l),i=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.height,Ce(()=>n=!1)),t.$set(u)},i(a){i||(w(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),M(t,a)}}}function $m(r){let e,t,n;return t=new _t({props:{step:1,value:Math.round(r[0].value.rotation/Math.PI*180)}}),t.$on("change",r[8]),{c(){e=ge("Поворот "),N(t.$$.fragment)},l(i){e=be(i,"Поворот "),B(t.$$.fragment,i)},m(i,s){G(i,e,s),x(t,i,s),n=!0},p(i,s){const o={};s&1&&(o.value=Math.round(i[0].value.rotation/Math.PI*180)),t.$set(o)},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){E(t.$$.fragment,i),n=!1},d(i){i&&S(e),M(t,i)}}}function wm(r){let e,t,n,i,s,o,a,l;return e=new qe({props:{$$slots:{default:[gm]},$$scope:{ctx:r}}}),n=new qe({props:{$$slots:{default:[bm]},$$scope:{ctx:r}}}),s=new qe({props:{$$slots:{default:[vm]},$$scope:{ctx:r}}}),a=new qe({props:{$$slots:{default:[$m]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment),t=fe(),N(n.$$.fragment),i=fe(),N(s.$$.fragment),o=fe(),N(a.$$.fragment)},l(u){B(e.$$.fragment,u),t=ce(u),B(n.$$.fragment,u),i=ce(u),B(s.$$.fragment,u),o=ce(u),B(a.$$.fragment,u)},m(u,f){x(e,u,f),G(u,t,f),x(n,u,f),G(u,i,f),x(s,u,f),G(u,o,f),x(a,u,f),l=!0},p(u,f){const c={};f&8193&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const h={};f&8193&&(h.$$scope={dirty:f,ctx:u}),n.$set(h);const m={};f&8193&&(m.$$scope={dirty:f,ctx:u}),s.$set(m);const d={};f&8193&&(d.$$scope={dirty:f,ctx:u}),a.$set(d)},i(u){l||(w(e.$$.fragment,u),w(n.$$.fragment,u),w(s.$$.fragment,u),w(a.$$.fragment,u),l=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),E(s.$$.fragment,u),E(a.$$.fragment,u),l=!1},d(u){M(e,u),u&&S(t),M(n,u),u&&S(i),M(s,u),u&&S(o),M(a,u)}}}function ym(r){let e,t,n,i,s,o;t=new kt({props:{value:r[0].type,items:["global","rectangle"],$$slots:{default:[fm,({item:f})=>({12:f}),({item:f})=>f?4096:0]},$$scope:{ctx:r}}}),t.$on("change",r[4]);const a=[hm,cm],l=[];function u(f,c){return f[0].type=="rectangle"?0:f[0].type=="global"?1:-1}return~(i=u(r))&&(s=l[i]=a[i](r)),{c(){e=ne("article"),N(t.$$.fragment),n=fe(),s&&s.c()},l(f){e=re(f,"ARTICLE",{});var c=ae(e);B(t.$$.fragment,c),n=ce(c),s&&s.l(c),c.forEach(S)},m(f,c){G(f,e,c),x(t,e,null),X(e,n),~i&&l[i].m(e,null),o=!0},p(f,[c]){const h={};c&1&&(h.value=f[0].type),c&12288&&(h.$$scope={dirty:c,ctx:f}),t.$set(h);let m=i;i=u(f),i===m?~i&&l[i].p(f,c):(s&&(je(),E(l[m],1,1,()=>{l[m]=null}),We()),~i?(s=l[i],s?s.p(f,c):(s=l[i]=a[i](f),s.c()),w(s,1),s.m(e,null)):s=null)},i(f){o||(w(t.$$.fragment,f),w(s),o=!0)},o(f){E(t.$$.fragment,f),E(s),o=!1},d(f){f&&S(e),M(t),~i&&l[i].d()}}}function Em(r,e,t){let{container:n}=e,{frameWidth:i}=e,{frameHeight:s}=e;function o(p){if(p=="global"){t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n);return}t(0,n.value={width:i/2,height:s/2,position:{x:i/2,y:s/2},rotation:0},n),t(0,n.type="rectangle",n)}const a=p=>o(p.detail.value);function l(p){r.$$.not_equal(n.value.position,p)&&(n.value.position=p,t(0,n))}function u(p){r.$$.not_equal(n.value.width,p)&&(n.value.width=p,t(0,n))}function f(p){r.$$.not_equal(n.value.height,p)&&(n.value.height=p,t(0,n))}const c=p=>{n.type==="rectangle"&&t(0,n.value.rotation=p.detail%360/180*Math.PI,n)},h=p=>{n.type==="global"&&t(0,n.value.maxWidth=p.detail/100,n)},m=p=>{n.type==="global"&&t(0,n.value.maxHeight=p.detail/100,n)},d=p=>{n.type==="global"&&t(0,n.value.minHeight=p.detail/100,n)};return r.$$set=p=>{"container"in p&&t(0,n=p.container),"frameWidth"in p&&t(2,i=p.frameWidth),"frameHeight"in p&&t(3,s=p.frameHeight)},[n,o,i,s,a,l,u,f,c,h,m,d]}class km extends $e{constructor(e){super(),we(this,e,Em,ym,ve,{container:0,frameWidth:2,frameHeight:3})}}function Am(r){let e=r[5]+"",t;return{c(){t=ge(e)},l(n){t=be(n,e)},m(n,i){G(n,t,i)},p(n,i){i&32&&e!==(e=n[5]+"")&&ot(t,e)},i:Qe,o:Qe,d(n){n&&S(t)}}}function Tm(r){let e,t;return e=new Nu({props:{size:r[2]}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.size=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Sm(r){let e,t;return e=new Iu({props:{size:r[2]}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.size=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Im(r){let e,t;return e=new qa({props:{size:r[2]}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.size=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Cm(r){let e,t;return e=new el({props:{size:r[2]}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.size=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Fm(r){let e,t,n,i;const s=[Cm,Im,Sm,Tm,Am],o=[];function a(l,u){return l[5]=="Top"?0:l[5]=="Bottom"?1:l[5]=="Free"?2:l[5]=="Custom"?3:4}return e=a(r),t=o[e]=s[e](r),{c(){t.c(),n=Ze()},l(l){t.l(l),n=Ze()},m(l,u){o[e].m(l,u),G(l,n,u),i=!0},p(l,u){let f=e;e=a(l),e===f?o[e].p(l,u):(je(),E(o[f],1,1,()=>{o[f]=null}),We(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),w(t,1),t.m(n.parentNode,n))},i(l){i||(w(t),i=!0)},o(l){E(t),i=!1},d(l){o[e].d(l),l&&S(n)}}}function Rm(r){let e,t;return e=new kt({props:{css:{height:`${r[2]+16}px`,width:"100%",main:"flex:1;"},items:["Top","Bottom","Free","Custom"],placeholder:"Custom",value:r[0].type=="rectangle"&&r[1].baseline=="middle"?"Free":r[0].type=="global"&&r[1].baseline=="top"?"Top":r[0].type=="global"&&r[1].baseline=="bottom"?"Bottom":"Custom",$$slots:{default:[Fm,({item:n})=>({5:n}),({item:n})=>n?32:0]},$$scope:{ctx:r}}}),e.$on("change",r[3]),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,[i]){const s={};i&4&&(s.css={height:`${n[2]+16}px`,width:"100%",main:"flex:1;"}),i&3&&(s.value=n[0].type=="rectangle"&&n[1].baseline=="middle"?"Free":n[0].type=="global"&&n[1].baseline=="top"?"Top":n[0].type=="global"&&n[1].baseline=="bottom"?"Bottom":"Custom"),i&100&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function Pm(r,e,t){let{container:n}=e,{style:i}=e,{frame:s}=e,{iconSize:o=16}=e;function a(l){switch(l.detail.value){case"Top":{n.type!=="global"&&t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n),t(1,i.baseline="top",i);break}case"Bottom":{n.type!=="global"&&t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n),t(1,i.baseline="bottom",i);break}case"Free":{t(0,n.value={width:s.width/2,height:s.height/2,position:{x:s.width/2,y:s.height/2},rotation:0},n),t(0,n.type="rectangle",n),t(1,i.baseline="middle",i);break}}}return r.$$set=l=>{"container"in l&&t(0,n=l.container),"style"in l&&t(1,i=l.style),"frame"in l&&t(4,s=l.frame),"iconSize"in l&&t(2,o=l.iconSize)},[n,i,o,a,s]}class Nm extends $e{constructor(e){super(),we(this,e,Pm,Rm,ve,{container:0,style:1,frame:4,iconSize:2})}}function Bm(r){let e,t,n,i,s,o;return{c(){e=ne("p"),t=ge(`Мемейкер — это онлайн-редактор интернет-мемов. Первоочерёдной задачей является удобное
			наложения текста на изображение.`),n=fe(),i=ne("p"),s=ge("Версия: "),o=ge(r[0]),this.h()},l(a){e=re(a,"P",{class:!0});var l=ae(e);t=be(l,`Мемейкер — это онлайн-редактор интернет-мемов. Первоочерёдной задачей является удобное
			наложения текста на изображение.`),l.forEach(S),n=ce(a),i=re(a,"P",{class:!0});var u=ae(i);s=be(u,"Версия: "),o=be(u,r[0]),u.forEach(S),this.h()},h(){W(e,"class","svelte-17axcd5"),W(i,"class","svelte-17axcd5")},m(a,l){G(a,e,l),X(e,t),G(a,n,l),G(a,i,l),X(i,s),X(i,o)},p(a,l){l&1&&ot(o,a[0])},d(a){a&&S(e),a&&S(n),a&&S(i)}}}function xm(r){let e;return{c(){e=ge("О проекте")},l(t){e=be(t,"О проекте")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function Mm(r){let e,t,n,i,s;return{c(){e=ne("p"),t=ge("Скоро changelog будет доступен здесь, но пока его можно посмотреть на "),n=ne("a"),i=ge("GitHub"),s=ge("."),this.h()},l(o){e=re(o,"P",{class:!0});var a=ae(e);t=be(a,"Скоро changelog будет доступен здесь, но пока его можно посмотреть на "),n=re(a,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var l=ae(n);i=be(l,"GitHub"),l.forEach(S),s=be(a,"."),a.forEach(S),this.h()},h(){W(n,"target","_blank"),W(n,"rel","noreferrer"),W(n,"title","Changelog"),W(n,"href","https://github.com/RobolabGs2/memaker/blob/main/CHANGELOG.md"),W(n,"class","svelte-17axcd5"),W(e,"class","svelte-17axcd5")},m(o,a){G(o,e,a),X(e,t),X(e,n),X(n,i),X(e,s)},p:Qe,d(o){o&&S(e)}}}function zm(r){let e;return{c(){e=ge("История версий")},l(t){e=be(t,"История версий")},m(t,n){G(t,e,n)},d(t){t&&S(e)}}}function Um(r){let e,t,n,i,s,o,a,l,u,f,c,h,m,d,p,g,_,$,k,y,P,C,A,O,L,U,se,F,I;function v(he){r[4](he)}let q={$$slots:{title:[xm],default:[Bm]},$$scope:{ctx:r}};r[1]!==void 0&&(q.open=r[1]),t=new wn({props:q}),Te.push(()=>Ie(t,"open",v));function _e(he){r[5](he)}let z={$$slots:{title:[zm],default:[Mm]},$$scope:{ctx:r}};return r[2]!==void 0&&(z.open=r[2]),s=new wn({props:z}),Te.push(()=>Ie(s,"open",_e)),d=new Cl({props:{size:mn}}),_=new Bl({props:{size:mn}}),y=new Dl({props:{size:mn}}),A=new sl({props:{size:mn}}),U=new fl({props:{size:mn}}),{c(){e=ne("main"),N(t.$$.fragment),i=fe(),N(s.$$.fragment),a=fe(),l=ne("header"),u=ge("Memaker "),f=ge(r[0]),c=fe(),h=ne("section"),m=ne("div"),N(d.$$.fragment),p=fe(),g=ne("div"),N(_.$$.fragment),$=fe(),k=ne("div"),N(y.$$.fragment),P=fe(),C=ne("a"),N(A.$$.fragment),O=fe(),L=ne("a"),N(U.$$.fragment),this.h()},l(he){e=re(he,"MAIN",{class:!0});var ee=ae(e);B(t.$$.fragment,ee),i=ce(ee),B(s.$$.fragment,ee),a=ce(ee),l=re(ee,"HEADER",{class:!0});var ye=ae(l);u=be(ye,"Memaker "),f=be(ye,r[0]),ye.forEach(S),c=ce(ee),h=re(ee,"SECTION",{class:!0});var H=ae(h);m=re(H,"DIV",{title:!0,class:!0});var j=ae(m);B(d.$$.fragment,j),j.forEach(S),p=ce(H),g=re(H,"DIV",{title:!0,class:!0});var Y=ae(g);B(_.$$.fragment,Y),Y.forEach(S),$=ce(H),k=re(H,"DIV",{title:!0,class:!0});var Q=ae(k);B(y.$$.fragment,Q),Q.forEach(S),P=ce(H),C=re(H,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var me=ae(C);B(A.$$.fragment,me),me.forEach(S),O=ce(H),L=re(H,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var ie=ae(L);B(U.$$.fragment,ie),ie.forEach(S),H.forEach(S),ee.forEach(S),this.h()},h(){W(l,"class","svelte-17axcd5"),W(m,"title","Открыть пример"),W(m,"class","svelte-17axcd5"),W(g,"title","История версий приложения"),W(g,"class","svelte-17axcd5"),W(k,"title","О проекте"),W(k,"class","svelte-17axcd5"),W(C,"target","_blank"),W(C,"rel","noreferrer"),W(C,"title","GitHub репозиторий"),W(C,"href","https://github.com/RobolabGs2/memaker"),W(C,"class","svelte-17axcd5"),W(L,"target","_blank"),W(L,"rel","noreferrer"),W(L,"title","Группа ВК"),W(L,"href","https://vk.com/memaker_app"),W(L,"class","svelte-17axcd5"),W(h,"class","svelte-17axcd5"),W(e,"class","svelte-17axcd5")},m(he,ee){G(he,e,ee),x(t,e,null),X(e,i),x(s,e,null),X(e,a),X(e,l),X(l,u),X(l,f),X(e,c),X(e,h),X(h,m),x(d,m,null),X(h,p),X(h,g),x(_,g,null),X(h,$),X(h,k),x(y,k,null),X(h,P),X(h,C),x(A,C,null),X(h,O),X(h,L),x(U,L,null),se=!0,F||(I=[Pe(m,"click",r[6]),Pe(g,"click",r[7]),Pe(k,"click",r[8])],F=!0)},p(he,[ee]){const ye={};ee&513&&(ye.$$scope={dirty:ee,ctx:he}),!n&&ee&2&&(n=!0,ye.open=he[1],Ce(()=>n=!1)),t.$set(ye);const H={};ee&512&&(H.$$scope={dirty:ee,ctx:he}),!o&&ee&4&&(o=!0,H.open=he[2],Ce(()=>o=!1)),s.$set(H),(!se||ee&1)&&ot(f,he[0])},i(he){se||(w(t.$$.fragment,he),w(s.$$.fragment,he),w(d.$$.fragment,he),w(_.$$.fragment,he),w(y.$$.fragment,he),w(A.$$.fragment,he),w(U.$$.fragment,he),se=!0)},o(he){E(t.$$.fragment,he),E(s.$$.fragment,he),E(d.$$.fragment,he),E(_.$$.fragment,he),E(y.$$.fragment,he),E(A.$$.fragment,he),E(U.$$.fragment,he),se=!1},d(he){he&&S(e),M(t),M(s),M(d),M(_),M(y),M(A),M(U),F=!1,st(I)}}}let mn=24;function Dm(r,e,t){let{version:n}=e;const i=wt();let s=!1,o=!1;function a(h){s=h,t(1,s)}function l(h){o=h,t(2,o)}const u=()=>i("openExample"),f=()=>t(2,o=!0),c=()=>t(1,s=!0);return r.$$set=h=>{"version"in h&&t(0,n=h.version)},[n,s,o,i,a,l,u,f,c]}class Lm extends $e{constructor(e){super(),we(this,e,Dm,Um,ve,{version:0})}}const Om=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D layer;
uniform vec2 resolution;
uniform float radius;
uniform float minAlpha;
uniform float maxAlpha;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

float rand(vec2 co, float step) {
    return fract(cos(dot(co * step, vec2(15.2851, 18.435))) * 74687.84583);
}

void main() {
    // texCoord 0..1
    float sx = (rand(texCoord, 1.));
    float sy = (rand(texCoord, 2.));
    vec2 shift = vec2(sx, sy) * 2. - vec2(1);
    shift *= vec2(radius / resolution);
    vec4 origin = texture(layer, texCoord);
    origin += texture(layer, texCoord + shift);
    origin /= 2.;
    float rnd = rand(texCoord, 3.);
    FragColor = vec4(origin.rgb, origin.a * clamp(rnd, minAlpha, maxAlpha));
}
`,Gm=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D layer;
uniform vec2 resolution;
uniform float radius;
uniform float strength;
uniform vec2 center;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    vec2 coord = gl_FragCoord.xy;
    vec2 center = vec2(center.x, resolution.y - center.y);
    coord -= center;
    float distance = length(coord);
    float percent = distance / radius;
    coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
    coord += center;
    FragColor = texture(layer, coord / resolution);
}
`,Hm=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D layer;
uniform vec2 resolution;
uniform float radius;
uniform float strength;
uniform vec2 center;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    vec2 coord = gl_FragCoord.xy;
    vec2 center = vec2(center.x, resolution.y - center.y);
    coord -= center;
    float distance = length(coord);
    float percent = distance / radius;
    if(percent <= 1.0)
        coord *= mix(1.0, pow(percent, 1.0 - strength * 0.75) * radius / distance, 1.0 - percent);
    coord += center;
    FragColor = texture(layer, coord / resolution);
}
`,jm=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D layer;
uniform vec2 resolution;
uniform float radius;
uniform float angle;
uniform vec2 center;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    vec2 coord = gl_FragCoord.xy;
    vec2 center = vec2(center.x, resolution.y - center.y);
    coord -= center;
    float distance = length(coord);
    if(distance < radius) {
        float percent = (radius - distance) / radius;
        float theta = percent * percent * angle;
        float s = sin(theta);
        float c = cos(theta);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }
    coord += center;
    FragColor = texture(layer, coord / resolution);
}
`;function Wm(){return{noise:{fragment:Om,uniforms(r){return{radius:r.radius,minAlpha:r.minAlpha,maxAlpha:r.maxAlpha}}},bugle:{fragment:Gm,uniforms(r){return{center:[r.center.x,r.center.y],radius:r.radius,strength:r.strength}}},pinch:{fragment:Hm,uniforms(r){return{center:[r.center.x,r.center.y],radius:r.radius,strength:r.strength}}},swirl:{fragment:jm,uniforms(r){return{center:[r.center.x,r.center.y],radius:r.radius,angle:r.angle}}}}}const Vm={noise:{type:"noise",radius:10,minAlpha:.5,maxAlpha:1},bugle:{type:"bugle",center:{x:250,y:250},radius:500,strength:.5},pinch:{type:"pinch",center:{x:250,y:250},radius:500,strength:.5},swirl:{type:"swirl",center:{x:250,y:250},radius:500,angle:Math.PI}};function Zm(r){let e=r[7][r[15]]+"",t;return{c(){t=ge(e)},l(n){t=be(n,e)},m(n,i){G(n,t,i)},p(n,i){i&32768&&e!==(e=n[7][n[15]]+"")&&ot(t,e)},d(n){n&&S(t)}}}function Wi(r){let e,t,n;function i(o){r[13](o)}let s={height:"s%",reverse:!0,items:r[0].map(Zi),$$slots:{default:[Xm,({item:o})=>({15:o}),({item:o})=>o?32768:0]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.active=r[1]),e=new Er({props:s}),Te.push(()=>Ie(e,"active",i)),{c(){N(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,a){x(e,o,a),n=!0},p(o,a){const l={};a&1&&(l.items=o[0].map(Zi)),a&98306&&(l.$$scope={dirty:a,ctx:o}),!t&&a&2&&(t=!0,l.active=o[1],Ce(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function Vi(r){let e,t,n,i,s;function o(l){r[12](l)}let a={};return r[1].value.settings!==void 0&&(a.value=r[1].value.settings),t=new Is({props:a}),Te.push(()=>Ie(t,"value",o)),{c(){e=ne("div"),N(t.$$.fragment)},l(l){e=re(l,"DIV",{});var u=ae(e);B(t.$$.fragment,u),u.forEach(S)},m(l,u){G(l,e,u),x(t,e,null),s=!0},p(l,u){const f={};!n&&u&2&&(n=!0,f.value=l[1].value.settings,Ce(()=>n=!1)),t.$set(f)},i(l){s||(w(t.$$.fragment,l),Dt(()=>{i||(i=ut(e,ct,{},!0)),i.run(1)}),s=!0)},o(l){E(t.$$.fragment,l),i||(i=ut(e,ct,{},!1)),i.run(0),s=!1},d(l){l&&S(e),M(t),l&&i&&i.end()}}}function Xm(r){let e,t=r[7][r[15].value.settings.type]+"",n,i,s,o,a,l,u;s=new Br({props:{value:r[15].value,up:!0,down:!0,remove:!0}}),s.$on("up",r[5]),s.$on("down",r[6]),s.$on("remove",r[4]);let f=r[15].id===r[1].id&&Vi(r);return{c(){e=ne("section"),n=ge(t),i=fe(),N(s.$$.fragment),a=fe(),f&&f.c(),l=Ze(),this.h()},l(c){e=re(c,"SECTION",{class:!0});var h=ae(e);n=be(h,t),i=ce(h),B(s.$$.fragment,h),h.forEach(S),a=ce(c),f&&f.l(c),l=Ze(),this.h()},h(){W(e,"class","preview svelte-nwc34a")},m(c,h){G(c,e,h),X(e,n),X(e,i),x(s,e,null),G(c,a,h),f&&f.m(c,h),G(c,l,h),u=!0},p(c,h){(!u||h&32768)&&t!==(t=c[7][c[15].value.settings.type]+"")&&ot(n,t);const m={};h&32768&&(m.value=c[15].value),s.$set(m),c[15].id===c[1].id?f?(f.p(c,h),h&32770&&w(f,1)):(f=Vi(c),f.c(),w(f,1),f.m(l.parentNode,l)):f&&(je(),E(f,1,1,()=>{f=null}),We())},i(c){u||(w(s.$$.fragment,c),c&&Dt(()=>{o||(o=ut(e,ct,{},!0)),o.run(1)}),w(f),u=!0)},o(c){E(s.$$.fragment,c),c&&(o||(o=ut(e,ct,{},!1)),o.run(0)),E(f),u=!1},d(c){c&&S(e),M(s),c&&o&&o.end(),c&&S(a),f&&f.d(c),c&&S(l)}}}function qm(r){let e,t,n,i,s,o;function a(f){r[10](f)}let l={hideOnClick:!0,items:r[8],placeholder:On,$$slots:{default:[Zm,({item:f})=>({15:f}),({item:f})=>f?32768:0]},$$scope:{ctx:r}};r[2]!==void 0&&(l.value=r[2]),n=new kt({props:l}),Te.push(()=>Ie(n,"value",a)),n.$on("change",r[3]),n.$on("change",r[11]);let u=r[0].length&&Wi(r);return{c(){e=ne("article"),t=ne("header"),N(n.$$.fragment),s=fe(),u&&u.c(),this.h()},l(f){e=re(f,"ARTICLE",{class:!0});var c=ae(e);t=re(c,"HEADER",{});var h=ae(t);B(n.$$.fragment,h),h.forEach(S),s=ce(c),u&&u.l(c),c.forEach(S),this.h()},h(){W(e,"class","svelte-nwc34a")},m(f,c){G(f,e,c),X(e,t),x(n,t,null),X(e,s),u&&u.m(e,null),o=!0},p(f,[c]){const h={};c&98304&&(h.$$scope={dirty:c,ctx:f}),!i&&c&4&&(i=!0,h.value=f[2],Ce(()=>i=!1)),n.$set(h),f[0].length?u?(u.p(f,c),c&1&&w(u,1)):(u=Wi(f),u.c(),w(u,1),u.m(e,null)):u&&(je(),E(u,1,1,()=>{u=null}),We())},i(f){o||(w(n.$$.fragment,f),w(u),o=!0)},o(f){E(n.$$.fragment,f),E(u),o=!1},d(f){f&&S(e),M(n),u&&u.d()}}}const On="__add__",Zi=r=>({id:r,value:r});function Ym(r,e,t){let{value:n}=e,{defaults:i=Object.values(Vm)}=e;function s($){t(2,m=On);const k=i.find(P=>P.type===$.detail.value);if(!k)return;const y=n.push({settings:structuredClone(k)})-1;t(0,n),t(1,h={id:n[y],value:n[y]})}function o($){return k=>{const y=k.detail,P=n.indexOf(y);if(P===-1){console.warn(`Not found effect in list ${y.settings.type}`);return}const C=P+$;C<0||n.length<=C||(t(0,n[P]=n[C],n),t(0,n[C]=y,n))}}function a($){const k=$.detail,y=n.indexOf(k);if(y===-1){console.warn(`Not found effect in list ${k.settings.type}`);return}if(n.splice(y,1),t(0,n),h.id===k&&n.length){const P=Math.max(0,y-1);t(1,h={id:n[P],value:n[P]})}}const l=o(1),u=o(-1),f={noise:"Шум",bugle:"Выпуклость",pinch:"Впуклость",swirl:"Закрученность",[On]:"Добавить эффект"},c=Object.keys(f);let h={id:n[0],value:n[0]},m=On;function d($){m=$,t(2,m)}function p($){Se.call(this,r,$)}function g($){r.$$.not_equal(h.value.settings,$)&&(h.value.settings=$,t(1,h),t(0,n))}function _($){h=$,t(1,h),t(0,n)}return r.$$set=$=>{"value"in $&&t(0,n=$.value),"defaults"in $&&t(9,i=$.defaults)},r.$$.update=()=>{r.$$.dirty&3&&!h.value&&n.length&&(t(1,h.value=n[n.length-1],h),t(1,h.id=h.value,h))},[n,h,m,s,a,l,u,f,c,i,d,p,g,_]}class Km extends $e{constructor(e){super(),we(this,e,Ym,qm,ve,{value:0,defaults:9})}}function Jm(r){let e,t,n,i,s;return e=new ks({}),{c(){N(e.$$.fragment),t=fe(),n=ne("span"),i=ge("Новый фрейм"),this.h()},l(o){B(e.$$.fragment,o),t=ce(o),n=re(o,"SPAN",{class:!0});var a=ae(n);i=be(a,"Новый фрейм"),a.forEach(S),this.h()},h(){W(n,"class","svelte-b3d010")},m(o,a){x(e,o,a),G(o,t,a),G(o,n,a),X(n,i),s=!0},p:Qe,i(o){s||(w(e.$$.fragment,o),s=!0)},o(o){E(e.$$.fragment,o),s=!1},d(o){M(e,o),o&&S(t),o&&S(n)}}}function Qm(r){let e,t;function n(){return r[11](r[41])}function i(){return r[12](r[41])}function s(){return r[13](r[41])}function o(){return r[14](r[41])}return e=new Br({props:{up:!0,down:!0,remove:!0,copy:!0,value:r[41]}}),e.$on("up",n),e.$on("down",i),e.$on("remove",s),e.$on("copy",o),{c(){N(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,l){x(e,a,l),t=!0},p(a,l){r=a;const u={};l[1]&1024&&(u.value=r[41]),e.$set(u)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){M(e,a)}}}function ed(r){let e,t,n;function i(o){r[15](o,r[41])}let s={index:r[42],$$slots:{default:[Qm]},$$scope:{ctx:r}};return r[2][r[41].id]!==void 0&&(s.updatePreview=r[2][r[41].id]),e=new om({props:s}),Te.push(()=>Ie(e,"updatePreview",i)),{c(){N(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,a){x(e,o,a),n=!0},p(o,a){r=o;const l={};a[1]&2048&&(l.index=r[42]),a[1]&5120&&(l.$$scope={dirty:a,ctx:r}),!t&&a[0]&4|a[1]&1024&&(t=!0,l.updatePreview=r[2][r[41].id],Ce(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function td(r){let e,t,n,i,s;return e=new uu({props:{size:24}}),{c(){N(e.$$.fragment),t=fe(),n=ne("span"),i=ge("Скачать мем"),this.h()},l(o){B(e.$$.fragment,o),t=ce(o),n=re(o,"SPAN",{class:!0});var a=ae(n);i=be(a,"Скачать мем"),a.forEach(S),this.h()},h(){W(n,"class","svelte-b3d010")},m(o,a){x(e,o,a),G(o,t,a),G(o,n,a),X(n,i),s=!0},p:Qe,i(o){s||(w(e.$$.fragment,o),s=!0)},o(o){E(e.$$.fragment,o),s=!1},d(o){M(e,o),o&&S(t),o&&S(n)}}}function nd(r){let e,t,n,i,s;return e=new kl({props:{size:24}}),{c(){N(e.$$.fragment),t=fe(),n=ne("span"),i=ge("Сохранить проект мема"),this.h()},l(o){B(e.$$.fragment,o),t=ce(o),n=re(o,"SPAN",{class:!0});var a=ae(n);i=be(a,"Сохранить проект мема"),a.forEach(S),this.h()},h(){W(n,"class","svelte-b3d010")},m(o,a){x(e,o,a),G(o,t,a),G(o,n,a),X(n,i),s=!0},p:Qe,i(o){s||(w(e.$$.fragment,o),s=!0)},o(o){E(e.$$.fragment,o),s=!1},d(o){M(e,o),o&&S(t),o&&S(n)}}}function rd(r){let e,t,n,i;return e=new Hu({props:{size:24}}),{c(){N(e.$$.fragment),t=ne("span"),n=ge("Открыть проект мема"),this.h()},l(s){B(e.$$.fragment,s),t=re(s,"SPAN",{class:!0});var o=ae(t);n=be(o,"Открыть проект мема"),o.forEach(S),this.h()},h(){W(t,"class","svelte-b3d010")},m(s,o){x(e,s,o),G(s,t,o),X(t,n),i=!0},p:Qe,i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){E(e.$$.fragment,s),i=!1},d(s){M(e,s),s&&S(t)}}}function id(r){let e,t;return e=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[rd]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i[1]&4096&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function sd(r){let e,t,n,i;return e=new du({props:{size:24}}),{c(){N(e.$$.fragment),t=ne("span"),n=ge("Сменить фон"),this.h()},l(s){B(e.$$.fragment,s),t=re(s,"SPAN",{class:!0});var o=ae(t);n=be(o,"Сменить фон"),o.forEach(S),this.h()},h(){W(t,"class","svelte-b3d010")},m(s,o){x(e,s,o),G(s,t,o),X(t,n),i=!0},p:Qe,i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){E(e.$$.fragment,s),i=!1},d(s){M(e,s),s&&S(t)}}}function od(r){let e,t;return e=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[sd]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i[1]&4096&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function ad(r){let e,t,n,i;return e=new Es({}),{c(){N(e.$$.fragment),t=ne("span"),n=ge("Копировать"),this.h()},l(s){B(e.$$.fragment,s),t=re(s,"SPAN",{class:!0});var o=ae(t);n=be(o,"Копировать"),o.forEach(S),this.h()},h(){W(t,"class","svelte-b3d010")},m(s,o){x(e,s,o),G(s,t,o),X(t,n),i=!0},p:Qe,i(s){i||(w(e.$$.fragment,s),i=!0)},o(s){E(e.$$.fragment,s),i=!1},d(s){M(e,s),s&&S(t)}}}function ld(r){let e,t,n,i,s;return e=new ks({}),{c(){N(e.$$.fragment),t=fe(),n=ne("span"),i=ge("Новый блок"),this.h()},l(o){B(e.$$.fragment,o),t=ce(o),n=re(o,"SPAN",{class:!0});var a=ae(n);i=be(a,"Новый блок"),a.forEach(S),this.h()},h(){W(n,"class","svelte-b3d010")},m(o,a){x(e,o,a),G(o,t,a),G(o,n,a),X(n,i),s=!0},p:Qe,i(o){s||(w(e.$$.fragment,o),s=!0)},o(o){E(e.$$.fragment,o),s=!1},d(o){M(e,o),o&&S(t),o&&S(n)}}}function ud(r){let e,t,n,i,s,o;return t=new vu({}),{c(){e=ne("div"),N(t.$$.fragment),n=fe(),i=ne("span"),s=ge("Фон"),this.h()},l(a){e=re(a,"DIV",{class:!0});var l=ae(e);B(t.$$.fragment,l),n=ce(l),i=re(l,"SPAN",{class:!0});var u=ae(i);s=be(u,"Фон"),u.forEach(S),l.forEach(S),this.h()},h(){W(i,"class","svelte-b3d010"),W(e,"class","image-preview svelte-b3d010")},m(a,l){G(a,e,l),x(t,e,null),X(e,n),X(e,i),X(i,s),o=!0},p:Qe,i(a){o||(w(t.$$.fragment,a),o=!0)},o(a){E(t.$$.fragment,a),o=!1},d(a){a&&S(e),M(t)}}}function fd(r){let e,t,n,i;const s=[hd,cd],o=[];function a(l,u){return l[41].id==l[1].id&&l[1].content.type=="text"?0:1}return e=a(r),t=o[e]=s[e](r),{c(){t.c(),n=Ze()},l(l){t.l(l),n=Ze()},m(l,u){o[e].m(l,u),G(l,n,u),i=!0},p(l,u){let f=e;e=a(l),e===f?o[e].p(l,u):(je(),E(o[f],1,1,()=>{o[f]=null}),We(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),w(t,1),t.m(n.parentNode,n))},i(l){i||(w(t),i=!0)},o(l){E(t),i=!1},d(l){o[e].d(l),l&&S(n)}}}function cd(r){let e,t;return e=new Rs({props:{content:r[41].content.value}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i[1]&1024&&(s.content=n[41].content.value),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function hd(r){let e,t;return e=new Rs({props:{content:r[1].content.value,$$slots:{default:[dd]},$$scope:{ctx:r}}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p(n,i){const s={};i[0]&2&&(s.content=n[1].content.value),i[0]&3|i[1]&5120&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function md(r){let e,t,n,i;function s(l){r[28](l)}function o(l){r[29](l)}let a={frame:r[0],iconSize:20};return r[1].content.value.style!==void 0&&(a.style=r[1].content.value.style),r[1].container!==void 0&&(a.container=r[1].container),e=new Nm({props:a}),Te.push(()=>Ie(e,"style",s)),Te.push(()=>Ie(e,"container",o)),{c(){N(e.$$.fragment)},l(l){B(e.$$.fragment,l)},m(l,u){x(e,l,u),i=!0},p(l,u){const f={};u[0]&1&&(f.frame=l[0]),!t&&u[0]&2&&(t=!0,f.style=l[1].content.value.style,Ce(()=>t=!1)),!n&&u[0]&2&&(n=!0,f.container=l[1].container,Ce(()=>n=!1)),e.$set(f)},i(l){i||(w(e.$$.fragment,l),i=!0)},o(l){E(e.$$.fragment,l),i=!1},d(l){M(e,l)}}}function dd(r){let e,t;function n(){return r[30](r[41])}function i(){return r[31](r[41])}function s(){return r[32](r[41])}return e=new Br({props:{up:!0,down:!0,remove:!0,value:r[41],iconSize:20,$$slots:{default:[md]},$$scope:{ctx:r}}}),e.$on("up",n),e.$on("down",i),e.$on("remove",s),{c(){N(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,a){x(e,o,a),t=!0},p(o,a){r=o;const l={};a[1]&1024&&(l.value=r[41]),a[0]&3|a[1]&4096&&(l.$$scope={dirty:a,ctx:r}),e.$set(l)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){E(e.$$.fragment,o),t=!1},d(o){M(e,o)}}}function pd(r){let e,t,n,i;const s=[fd,ud],o=[];function a(l,u){return l[41].content.type=="text"?0:1}return e=a(r),t=o[e]=s[e](r),{c(){t.c(),n=Ze()},l(l){t.l(l),n=Ze()},m(l,u){o[e].m(l,u),G(l,n,u),i=!0},p(l,u){let f=e;e=a(l),e===f?o[e].p(l,u):(je(),E(o[f],1,1,()=>{o[f]=null}),We(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),w(t,1),t.m(n.parentNode,n))},i(l){i||(w(t),i=!0)},o(l){E(t),i=!1},d(l){o[e].d(l),l&&S(n)}}}function _d(r){let e,t=r[40]+"",n;return{c(){e=ne("span"),n=ge(t),this.h()},l(i){e=re(i,"SPAN",{class:!0});var s=ae(e);n=be(s,t),s.forEach(S),this.h()},h(){W(e,"class","svelte-b3d010")},m(i,s){G(i,e,s),X(e,n)},p(i,s){s[1]&512&&t!==(t=i[40]+"")&&ot(n,t)},d(i){i&&S(e)}}}function gd(r){let e,t,n;function i(o){r[38](o)}let s={};return r[1].effects!==void 0&&(s.value=r[1].effects),e=new Km({props:s}),Te.push(()=>Ie(e,"value",i)),{c(){N(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,a){x(e,o,a),n=!0},p(o,a){const l={};!t&&a[0]&2&&(t=!0,l.value=o[1].effects,Ce(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function bd(r){let e,t,n;function i(o){r[37](o)}let s={frameHeight:r[0].height,frameWidth:r[0].width};return r[1].container!==void 0&&(s.container=r[1].container),e=new km({props:s}),Te.push(()=>Ie(e,"container",i)),{c(){N(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,a){x(e,o,a),n=!0},p(o,a){const l={};a[0]&1&&(l.frameHeight=o[0].height),a[0]&1&&(l.frameWidth=o[0].width),!t&&a[0]&2&&(t=!0,l.container=o[1].container,Ce(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function vd(r){let e,t,n;function i(o){r[34](o)}let s={};return r[1].content.value!==void 0&&(s.content=r[1].content.value),e=new qh({props:s}),Te.push(()=>Ie(e,"content",i)),e.$on("change",r[35]),e.$on("addPattern",r[36]),{c(){N(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,a){x(e,o,a),n=!0},p(o,a){const l={};!t&&a[0]&2&&(t=!0,l.content=o[1].content.value,Ce(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function $d(r){let e,t,n,i;const s=[vd,bd,gd],o=[];function a(l,u){return l[40]==="Текст"&&l[1].content.type=="text"?0:l[40]==="Контейнер"?1:l[40]==="Эффекты"?2:-1}return~(t=a(r))&&(n=o[t]=s[t](r)),{c(){e=ne("div"),n&&n.c(),this.h()},l(l){e=re(l,"DIV",{slot:!0});var u=ae(e);n&&n.l(u),u.forEach(S),this.h()},h(){W(e,"slot","content")},m(l,u){G(l,e,u),~t&&o[t].m(e,null),i=!0},p(l,u){let f=t;t=a(l),t===f?~t&&o[t].p(l,u):(n&&(je(),E(o[f],1,1,()=>{o[f]=null}),We()),~t?(n=o[t],n?n.p(l,u):(n=o[t]=s[t](l),n.c()),w(n,1),n.m(e,null)):n=null)},i(l){i||(w(n),i=!0)},o(l){E(n),i=!1},d(l){l&&S(e),~t&&o[t].d()}}}function wd(r){let e,t,n,i,s,o,a,l,u,f,c,h,m,d,p,g,_,$,k,y,P,C,A,O,L,U,se,F,I,v,q,_e,z,he;n=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[Jm]},$$scope:{ctx:r}}}),n.$on("click",r[10]);function ee(ie){r[16](ie)}let ye={height:"50%",items:r[5].frames,$$slots:{default:[ed,({item:ie,index:Z})=>({41:ie,42:Z}),({item:ie,index:Z})=>[0,(ie?1024:0)|(Z?2048:0)]]},$$scope:{ctx:r}};r[0]!==void 0&&(ye.active=r[0]),s=new Er({props:ye}),Te.push(()=>Ie(s,"active",ee)),s.$on("drop",Xi(r[17])),l=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[td]},$$scope:{ctx:r}}}),l.$on("click",r[18]),f=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[nd]},$$scope:{ctx:r}}}),f.$on("click",r[19]),h=new kr({props:{accept:".meme",$$slots:{default:[id]},$$scope:{ctx:r}}}),h.$on("change",r[20]),d=new Lm({props:{version:r[6]}}),d.$on("openExample",r[21]),$=new kr({props:{accept:"image/*",typeFilter:/^image\//,$$slots:{default:[od]},$$scope:{ctx:r}}}),$.$on("change",r[22]),y=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[ad]},$$scope:{ctx:r}}}),y.$on("click",r[23]);function H(ie){r[24](ie)}function j(ie){r[25](ie)}let Y={};r[3]!==void 0&&(Y.webgl=r[3]),r[4]!==void 0&&(Y.ui=r[4]),A=new bf({props:Y}),Te.push(()=>Ie(A,"webgl",H)),Te.push(()=>Ie(A,"ui",j)),A.$on("drop",Xi(r[26])),F=new nt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[ld]},$$scope:{ctx:r}}}),F.$on("click",r[27]);function Q(ie){r[33](ie)}let me={height:"25%",reverse:!0,items:r[0].blocks,$$slots:{default:[pd,({item:ie})=>({41:ie}),({item:ie})=>[0,ie?1024:0]]},$$scope:{ctx:r}};return r[1]!==void 0&&(me.active=r[1]),v=new Er({props:me}),Te.push(()=>Ie(v,"active",Q)),z=new Ts({props:{tabs:r[1].content.type==="text"?["Текст","Контейнер","Эффекты"]:["Эффекты"],$$slots:{content:[$d,({tab:ie})=>({40:ie}),({tab:ie})=>[0,ie?512:0]],default:[_d,({tab:ie})=>({40:ie}),({tab:ie})=>[0,ie?512:0]]},$$scope:{ctx:r}}}),{c(){e=ne("article"),t=ne("section"),N(n.$$.fragment),i=fe(),N(s.$$.fragment),a=fe(),N(l.$$.fragment),u=fe(),N(f.$$.fragment),c=fe(),N(h.$$.fragment),m=fe(),N(d.$$.fragment),p=fe(),g=ne("section"),_=ne("header"),N($.$$.fragment),k=fe(),N(y.$$.fragment),P=fe(),C=ne("header"),N(A.$$.fragment),U=fe(),se=ne("section"),N(F.$$.fragment),I=fe(),N(v.$$.fragment),_e=fe(),N(z.$$.fragment),this.h()},l(ie){e=re(ie,"ARTICLE",{class:!0});var Z=ae(e);t=re(Z,"SECTION",{class:!0});var Ae=ae(t);B(n.$$.fragment,Ae),i=ce(Ae),B(s.$$.fragment,Ae),a=ce(Ae),B(l.$$.fragment,Ae),u=ce(Ae),B(f.$$.fragment,Ae),c=ce(Ae),B(h.$$.fragment,Ae),m=ce(Ae),B(d.$$.fragment,Ae),Ae.forEach(S),p=ce(Z),g=re(Z,"SECTION",{class:!0});var J=ae(g);_=re(J,"HEADER",{class:!0});var Fe=ae(_);B($.$$.fragment,Fe),k=ce(Fe),B(y.$$.fragment,Fe),Fe.forEach(S),P=ce(J),C=re(J,"HEADER",{class:!0});var De=ae(C);B(A.$$.fragment,De),De.forEach(S),J.forEach(S),U=ce(Z),se=re(Z,"SECTION",{class:!0});var Ve=ae(se);B(F.$$.fragment,Ve),I=ce(Ve),B(v.$$.fragment,Ve),_e=ce(Ve),B(z.$$.fragment,Ve),Ve.forEach(S),Z.forEach(S),this.h()},h(){W(t,"class","svelte-b3d010"),W(_,"class","controls svelte-b3d010"),W(C,"class","canvas svelte-b3d010"),W(g,"class","svelte-b3d010"),W(se,"class","svelte-b3d010"),W(e,"class","svelte-b3d010")},m(ie,Z){G(ie,e,Z),X(e,t),x(n,t,null),X(t,i),x(s,t,null),X(t,a),x(l,t,null),X(t,u),x(f,t,null),X(t,c),x(h,t,null),X(t,m),x(d,t,null),X(e,p),X(e,g),X(g,_),x($,_,null),X(_,k),x(y,_,null),X(g,P),X(g,C),x(A,C,null),X(e,U),X(e,se),x(F,se,null),X(se,I),x(v,se,null),X(se,_e),x(z,se,null),he=!0},p(ie,Z){const Ae={};Z[1]&4096&&(Ae.$$scope={dirty:Z,ctx:ie}),n.$set(Ae);const J={};Z[0]&32&&(J.items=ie[5].frames),Z[0]&4|Z[1]&7168&&(J.$$scope={dirty:Z,ctx:ie}),!o&&Z[0]&1&&(o=!0,J.active=ie[0],Ce(()=>o=!1)),s.$set(J);const Fe={};Z[1]&4096&&(Fe.$$scope={dirty:Z,ctx:ie}),l.$set(Fe);const De={};Z[1]&4096&&(De.$$scope={dirty:Z,ctx:ie}),f.$set(De);const Ve={};Z[1]&4096&&(Ve.$$scope={dirty:Z,ctx:ie}),h.$set(Ve);const at={};Z[0]&64&&(at.version=ie[6]),d.$set(at);const b={};Z[1]&4096&&(b.$$scope={dirty:Z,ctx:ie}),$.$set(b);const te={};Z[1]&4096&&(te.$$scope={dirty:Z,ctx:ie}),y.$set(te);const K={};!O&&Z[0]&8&&(O=!0,K.webgl=ie[3],Ce(()=>O=!1)),!L&&Z[0]&16&&(L=!0,K.ui=ie[4],Ce(()=>L=!1)),A.$set(K);const R={};Z[1]&4096&&(R.$$scope={dirty:Z,ctx:ie}),F.$set(R);const T={};Z[0]&1&&(T.items=ie[0].blocks),Z[0]&3|Z[1]&5120&&(T.$$scope={dirty:Z,ctx:ie}),!q&&Z[0]&2&&(q=!0,T.active=ie[1],Ce(()=>q=!1)),v.$set(T);const D={};Z[0]&2&&(D.tabs=ie[1].content.type==="text"?["Текст","Контейнер","Эффекты"]:["Эффекты"]),Z[0]&3|Z[1]&4608&&(D.$$scope={dirty:Z,ctx:ie}),z.$set(D)},i(ie){he||(w(n.$$.fragment,ie),w(s.$$.fragment,ie),w(l.$$.fragment,ie),w(f.$$.fragment,ie),w(h.$$.fragment,ie),w(d.$$.fragment,ie),w($.$$.fragment,ie),w(y.$$.fragment,ie),w(A.$$.fragment,ie),w(F.$$.fragment,ie),w(v.$$.fragment,ie),w(z.$$.fragment,ie),he=!0)},o(ie){E(n.$$.fragment,ie),E(s.$$.fragment,ie),E(l.$$.fragment,ie),E(f.$$.fragment,ie),E(h.$$.fragment,ie),E(d.$$.fragment,ie),E($.$$.fragment,ie),E(y.$$.fragment,ie),E(A.$$.fragment,ie),E(F.$$.fragment,ie),E(v.$$.fragment,ie),E(z.$$.fragment,ie),he=!1},d(ie){ie&&S(e),M(n),M(s),M(l),M(f),M(h),M(d),M($),M(y),M(A),M(F),M(v),M(z)}}}function Rn(r){r.preventDefault()}function Xi(r){return e=>{var i;e.preventDefault();const t=(i=e.dataTransfer)==null?void 0:i.files;if(!t)return;const n=Array.from(t).filter(s=>{var o;return(o=s.type)==null?void 0:o.match(/^image/)});n.length&&r(n)}}function yd(r,e,t){let{meme:n}=e,{frame:i}=e,{block:s}=e,{previews:o={}}=e,{canvasWebgl:a}=e,{canvasUI:l}=e,{version:u}=e,{memeExampleURL:f}=e;const c=wt();function h(Z){c("changeBackground",{file:Z})}function m(Z){var Fe,De;const Ae=document.activeElement;if(Ae instanceof HTMLInputElement||Ae instanceof HTMLTextAreaElement)return;const J=(Fe=Z.clipboardData)==null?void 0:Fe.items;if(J)for(let Ve=0;Ve<J.length;Ve++){const at=J[Ve];if(!((De=at.type)!=null&&De.match(/^image/)))continue;const b=at.getAsFile();b&&h(b);return}}ln(()=>(document.addEventListener("paste",m),document.addEventListener("dragover",Rn),document.addEventListener("drop",Rn),()=>{document.removeEventListener("paste",m),document.removeEventListener("dragover",Rn),document.removeEventListener("drop",Rn)}));const d=()=>c("createFrame"),p=Z=>c("shiftFrame",{frame:Z,shift:-1}),g=Z=>c("shiftFrame",{frame:Z,shift:1}),_=Z=>c("deleteFrame",{frame:Z}),$=Z=>c("createFrame",{origin:Z});function k(Z,Ae){r.$$.not_equal(o[Ae.id],Z)&&(o[Ae.id]=Z,t(2,o))}function y(Z){i=Z,t(0,i)}const P=Z=>c("framesFromImages",{files:Z}),C=()=>c("renderMeme",{meme:n}),A=()=>c("saveMeme",{meme:n}),O=Z=>c("openMeme",{file:Z.detail[0]}),L=()=>fetch(f).then(Z=>Z.blob()).then(Z=>c("openMeme",{file:Z})),U=Z=>h(Z.detail[0]),se=()=>c("frameToClipboard",{frame:i});function F(Z){a=Z,t(3,a)}function I(Z){l=Z,t(4,l)}const v=Z=>c("changeBackground",{file:Z[0]}),q=()=>c("createBlock");function _e(Z){r.$$.not_equal(s.content.value.style,Z)&&(s.content.value.style=Z,t(1,s))}function z(Z){r.$$.not_equal(s.container,Z)&&(s.container=Z,t(1,s))}const he=Z=>c("shiftBlock",{block:Z,shift:1}),ee=Z=>c("shiftBlock",{block:Z,shift:-1}),ye=Z=>c("deleteBlock",{block:Z});function H(Z){s=Z,t(1,s)}function j(Z){r.$$.not_equal(s.content.value,Z)&&(s.content.value=Z,t(1,s))}function Y(Z){Se.call(this,r,Z)}function Q(Z){Se.call(this,r,Z)}function me(Z){r.$$.not_equal(s.container,Z)&&(s.container=Z,t(1,s))}function ie(Z){r.$$.not_equal(s.effects,Z)&&(s.effects=Z,t(1,s))}return r.$$set=Z=>{"meme"in Z&&t(5,n=Z.meme),"frame"in Z&&t(0,i=Z.frame),"block"in Z&&t(1,s=Z.block),"previews"in Z&&t(2,o=Z.previews),"canvasWebgl"in Z&&t(3,a=Z.canvasWebgl),"canvasUI"in Z&&t(4,l=Z.canvasUI),"version"in Z&&t(6,u=Z.version),"memeExampleURL"in Z&&t(7,f=Z.memeExampleURL)},[i,s,o,a,l,n,u,f,c,h,d,p,g,_,$,k,y,P,C,A,O,L,U,se,F,I,v,q,_e,z,he,ee,ye,H,j,Y,Q,me,ie]}class Ed extends $e{constructor(e){super(),we(this,e,yd,wd,ve,{meme:5,frame:0,block:1,previews:2,canvasWebgl:3,canvasUI:4,version:6,memeExampleURL:7},null,[-1,-1])}}function kd(r){let e,t,n;const i=r[2].default,s=Be(i,r,r[1],null);return{c(){e=ne("div"),s&&s.c(),this.h()},l(o){e=re(o,"DIV",{style:!0,class:!0});var a=ae(e);s&&s.l(a),a.forEach(S),this.h()},h(){W(e,"style",t=qi(r[0])),W(e,"class","svelte-18sulqr")},m(o,a){G(o,e,a),s&&s.m(e,null),n=!0},p(o,[a]){s&&s.p&&(!n||a&2)&&xe(s,i,o,o[1],n?ze(i,o[1],a,null):Me(o[1]),null),(!n||a&1&&t!==(t=qi(o[0])))&&W(e,"style",t)},i(o){n||(w(s,o),n=!0)},o(o){E(s,o),n=!1},d(o){o&&S(e),s&&s.d(o)}}}function qi(r){return Object.entries(r).map(([e,t])=>`--${e.split(new RegExp("(?<=[a-z])(?=[A-Z])")).map(i=>i.toLowerCase()).join("-")}: ${t};`).join("")}function Ad(r,e,t){let{$$slots:n={},$$scope:i}=e,{theme:s}=e;return r.$$set=o=>{"theme"in o&&t(0,s=o.theme),"$$scope"in o&&t(1,i=o.$$scope)},[s,i,n]}class Td extends $e{constructor(e){super(),we(this,e,Ad,kd,ve,{theme:0})}}const Sd={textSecondary:"white",secondary:"#34352F",secondaryHover:"#3E3D32",secondaryActive:"#272822",borderSecondary:"1px solid #111111",borderSecondaryHover:"1px solid #222222",borderSecondaryActive:"1px solid #aaaaaa",border:"none",textError:"#ff0000"},Yi=Kn(Sd);class Id{constructor(e,t,n,i){Re(this,"position",{x:0,y:0});Re(this,"moveStart");Re(this,"ctrl",!1);Re(this,"shift",!1);this.canvas=e,e.addEventListener("touchmove",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&s.preventDefault(),i()}),e.addEventListener("mousemove",s=>{const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,i()}),e.addEventListener("touchstart",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.pressed||(this.moveStart={...this.position},t(this.moveStart,this)?s.preventDefault():this.moveStart=void 0),this.ctrl=s.ctrlKey,this.shift=s.shiftKey,i()},{passive:!0}),e.addEventListener("mousedown",s=>{if(s.button!==0)return;const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.pressed||(this.moveStart={...this.position},t(this.moveStart,this)),this.ctrl=s.ctrlKey,this.shift=s.shiftKey,i()}),e.addEventListener("touchend",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&(n(this.moveStart,this.position,this)&&s.preventDefault(),this.moveStart=void 0),s.preventDefault(),i()}),e.addEventListener("mouseup",s=>{if(s.button!==0)return;const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&(n(this.moveStart,this.position,this),this.moveStart=void 0),i()})}get pressed(){return this.moveStart!==void 0}get scale(){const e=this.canvas;return e.width/e.clientWidth}get realSize(){return{width:this.canvas.clientWidth,height:this.canvas.clientHeight}}posFromTouchEvent(e){return this.posFromTouch(e.changedTouches[0])}posFromTouch(e){const t=this.canvas.getBoundingClientRect(),n=e.pageX-t.x,i=e.pageY-t.y;return{x:n,y:i}}}function Ki(r,e){return{x:e.x-r.x,y:e.y-r.y}}function Cd(r,e,t=0){return Math.abs(r.x-e.x)<=t&&Math.abs(r.y-e.y)<=t}class Fd{constructor(e,t,n){Re(this,"sprites",new Array);Re(this,"cursor");Re(this,"dragAndDrop");Re(this,"hoveredSprite");this.dragDropSystemSource=t,this.onupdate=n,this.cursor=new Id(e,()=>{if(this.dragAndDrop)return!0;if(!this.hoveredSprite)return!1;const i=this.dragDropSystemSource(this.hoveredSprite);return i?(this.dragAndDrop={sprite:this.hoveredSprite,system:i,lastPosition:{x:NaN,y:NaN}},!0):!1},(i,s)=>{if(!this.dragAndDrop)return!1;const o=this.dragAndDrop.system;return this.dragAndDrop=void 0,o.drop(i,s,this.cursor),!0},()=>this.update())}add(e){return this.sprites.push(e),e}delete(e){const t=this.sprites.indexOf(e);t!==-1&&this.sprites.splice(t,1)}clear(){var e;(e=this.dragAndDrop)==null||e.system.drop(this.cursor.moveStart,this.cursor.position,this.cursor),this.dragAndDrop=void 0,this.hoveredSprite=void 0,this.sprites.length=0}update(){var t,n;if(this.dragAndDrop){Cd(this.cursor.position,this.dragAndDrop.lastPosition,.001)||(this.dragAndDrop.system.move(this.cursor.moveStart,this.cursor.position,this.cursor),this.dragAndDrop.lastPosition.x=this.cursor.position.x,this.dragAndDrop.lastPosition.y=this.cursor.position.y,(t=this.onupdate)==null||t.call(this));return}const e=this.hoveredSprite;this.hoveredSprite=void 0;for(let i=this.sprites.length-1;i>=0;i--){const s=this.sprites[i];if(s.interactive&&s.contains(this.cursor.position)){this.hoveredSprite=s;break}}e!==this.hoveredSprite&&((n=this.onupdate)==null||n.call(this))}draw(e){this.sprites.forEach(t=>{e.save(),t.draw(e,this.spriteState(t)),e.restore()})}spriteState(e){var t;return((t=this.dragAndDrop)==null?void 0:t.sprite)===e?"active":this.hoveredSprite===e?"hover":"default"}}class it{constructor(){Re(this,"data",[[0,0,0],[0,0,0],[0,0,0]])}static Zero(){return new it}static Ident(){const e=new it;return e.data[0][0]=1,e.data[1][1]=1,e.data[2][2]=1,e}static RotationAround(e,t){return it.Translate({x:-e.x,y:-e.y}).Multiply(this.Rotation(t)).Multiply(it.Translate(e))}static Rotation(e){const t=Math.sin(e),n=Math.cos(e);return this.RotationCosSin(n,t)}static RotationCosSin(e,t){const n=it.Ident();return n.data[0][0]=e,n.data[0][1]=t,n.data[1][0]=-t,n.data[1][1]=e,n}static Translate(e,t){const n=it.Ident();if(typeof e=="number"&&typeof t=="number")n.data[2][0]=e,n.data[2][1]=t;else if(typeof e!="number"){const i=e;n.data[2][0]=i.x,n.data[2][1]=i.y}else throw new Error(`Unexpected type combination in Matrix.Translate: x: ${typeof e}, y: ${typeof t}`);return n}Get(e,t){return this.data[e][t]}Set(e,t,n){this.data[e][t]=n}Multiply(e){const t=it.Zero();for(let n=0;n<3;++n)for(let i=0;i<3;++i)for(let s=0;s<3;++s)t.data[n][i]+=this.data[n][s]*e.data[s][i];return t}Transform(e,t={x:0,y:0}){const n=this.Get(0,0)*e.x+this.Get(1,0)*e.y+this.Get(2,0),i=this.Get(0,1)*e.x+this.Get(1,1)*e.y+this.Get(2,1),s=this.Get(0,2)*e.x+this.Get(1,2)*e.y+this.Get(2,2);return t.x=n/s,t.y=i/s,t}}class xr{constructor(e,t,n){Re(this,"normal");Re(this,"normalization");this.a=e,this.b=t,this.c=n;const i=Math.sqrt(e*e+t*t);this.normal={x:e/i,y:t/i},this.normalization=i}static byTwoPoints({x:e,y:t},{x:n,y:i}){return new xr(t-i,n-e,e*i-n*t)}onLine(e){return Math.abs(this.rawDistance(e))<1e-15}sign(e){return Math.sign(this.rawDistance(e))}rawDistance({x:e,y:t}){return this.a*e+this.b*t+this.c}distance(e){const t=this.rawDistance(e);return Math.abs(t)/this.normalization}projection(e){const t=this.rawDistance(e)/this.normalization;return{x:e.x-this.normal.x*t,y:e.y-this.normal.y*t}}}class Ji{constructor(e,t){Re(this,"line");this.p1=e,this.p2=t,this.line=xr.byTwoPoints(e,t)}get left(){return Math.min(this.p1.x,this.p2.x)}get right(){return Math.max(this.p1.x,this.p2.x)}}class An{constructor(e){Re(this,"edges");this.points=e,this.edges=new Array(e.length),this.updateEdges()}updateEdges(){const e=this.points;for(let t=0;t<e.length-1;t++)this.edges[t]=new Ji(e[t],e[t+1]);this.edges[e.length-1]=new Ji(e[e.length-1],e[0])}transform(e){const t=this.points,n=t.length;for(let i=0;i<n;i++)e.Transform(t[i],t[i]);this.updateEdges()}transformCopy(e){return new An(this.points.map(t=>e.Transform(t)))}contains(e){let t=0;const n=this.edges.length;for(let i=0;i<n;i++){const s=this.edges[i];e.x<=s.left||e.x>s.right||(t+=s.line.sign(e))}return t!=0}center(){const e=this.points,t=e.length;let n=0,i=0;for(let s=0;s<t;s++)n+=e[s].x,i+=e[s].y;return{x:n/t,y:i/t}}area(){let e=0;const t=this.points.length-1,n=this.points;for(let i=0;i<t;i++)e+=n[i].x*n[i+1].x-n[i+1].y*n[i].y;return e+=n[t].x*n[0].y-n[0].x*n[t].y,e/2}repair(){this.area()<0&&this.points.reverse()}}class Ps{constructor(e=!1,t){this.interactive=e,this.settings=t}draw(e,t){const n=this.settings.fill[t],i=this.settings.stroke[t];this.makePath(e,t),n&&(e.fillStyle=n,e.fill()),i&&(e.strokeStyle=i,e.stroke())}}class Ns extends Ps{constructor(e=new xt,t=!1,n){super(t,n),this.transform=e}getPolygon(){return this.localPolygon().transformCopy(this.transform.matrix())}makePath(e){Nd(e,this.getPolygon())}contains(e){return this.getPolygon().contains(e)}}class Ht extends Ns{constructor(e,t=new xt,n=!1,i){super(t,n,i),this.polygon=e}localPolygon(){return this.polygon}}class Qi extends Ns{constructor(e,t=new xt,n=!1,i){super(t,n,i),this.localPolygon=e}}function jt(r,e){const t=r/2,n=e/2;return new An([{x:-t,y:-n},{x:t,y:-n},{x:t,y:n},{x:-t,y:n}])}class xt{constructor(e=0,t=0,n=0,i){this.x=e,this.y=t,this.rotate=n,this.parent=i}matrix(){const e=it.Rotation(this.rotate).Multiply(it.Translate(this));return this.parent?e.Multiply(this.parent.matrix()):e}rotation(){const e=this.rotate;return this.parent?e+this.parent.rotation():e}}class dn{constructor(e=()=>0,t=()=>0,n=()=>0,i){this.xSource=e,this.ySource=t,this.rotateSource=n,this.parent=i}get rotate(){return this.rotateSource()}get x(){return this.xSource()}get y(){return this.ySource()}matrix(){const e=it.Rotation(this.rotate).Multiply(it.Translate(this));return this.parent?e.Multiply(this.parent.matrix()):e}rotation(){const e=this.rotate;return this.parent?e+this.parent.rotation():e}}function Rd(r,e){const t=e/3,n=t/2,i=[{x:r-n-2*t,y:n},{x:-n,y:n},{x:-n,y:-n},{x:r-n-2*t,y:-n},{x:r-n-3*t,y:-n-t},{x:r-n,y:0},{x:r-n-3*t,y:+n+t}];return new An(i)}function Pd(r,e,t){const n=t/3,i=n/2,s=e/(Math.PI/45)|0,o=e/s,a=[],l=[],u=r-i,f=r+i;for(let m=0;m<s;m++){const d=Math.cos(o*m),p=Math.sin(o*m),g=d*u,_=p*u;a.push({x:g,y:_});const $=d*f,k=p*f;l.push({x:$,y:k})}const c=[{x:-t,y:+i+n},{x:t,y:0},{x:-t,y:-i-n}],h=it.Rotation(Math.PI/2).Multiply(it.Translate({x:r,y:0})).Multiply(it.RotationAround({x:0,y:0},e));return new An([...a,...c.map(m=>h.Transform(m,m)),...l.reverse()])}function Nd(r,e){r.beginPath(),r.moveTo(e.points[0].x,e.points[0].y),e.points.forEach(t=>r.lineTo(t.x,t.y)),r.closePath()}class Bd extends Ps{constructor(e,t,n=!1,i){super(n,i),this.circle=e,this.width=t}makePath(e,t){const n=t=="hover"?this.width:this.width/2,i=this.circle.radius-n/2,s=i+n,{x:o,y:a}=this.circle.center;i<=0||(e.beginPath(),e.arc(o,a,i,0,2*Math.PI,!1),e.moveTo(o+s,a),e.arc(o,a,s,0,2*Math.PI,!0),e.closePath())}contains(e){const t=e.x-this.circle.center.x,n=e.y-this.circle.center.y,i=Math.sqrt(t*t+n*n);return Math.abs(this.circle.radius-i)<this.width/2}}class xd{constructor(e,t,n,i,s){Re(this,"ctx");Re(this,"sprites");Re(this,"handlers",new Map);Re(this,"selectors",new Map);Re(this,"activeBlockId","");Re(this,"activeContainerType","");Re(this,"draw",dr(()=>{const e=this.ctx.canvas,t=this.cursor.realSize;e.width!==t.width&&(e.width=t.width),e.height!==t.height&&(e.height=t.height),this.ctx.clearRect(0,0,e.width,e.height),this.ctx.save(),this.ctx.scale(1/this.cursor.scale,1/this.cursor.scale),this.sprites.draw(this.ctx),this.ctx.restore()}));Re(this,"effectsHandlers",new Map);Re(this,"effectToSprite",new Map);this.ctx=e.getContext("2d");let o=!1;this.sprites=new Fd(t,a=>{var h,m;const l=this.selectors.get(a);if(l)return{move(){},drop(){s.set(i.value.blocks.find(({id:d})=>l===d))}};const u=(h=this.effectsHandlers.get(a))==null?void 0:h();if(u)return{move:dr((d,p,g)=>{u(d,p,g),o=!0,s.set(s.value),o=!1}),drop(d,p,g){u(d,p,g),o=!0,s.set(s.value),o=!1}};const f=s.value.container;if(!this.activeBlockId||f.type!=="rectangle")return;const c=(m=this.handlers.get(a))==null?void 0:m(f.value);if(c)return{move:dr((d,p,g)=>{f.value=c(d,p,g),o=!0,s.set(s.value),o=!1}),drop(d,p,g){f.value=c(d,p,g),o=!0,s.set(s.value),o=!1}}},()=>this.draw()),n.subscribe(()=>{this.activeBlockId=""}),i.subscribe(()=>{o||this.draw()}),s.subscribe(a=>{if(o||this.draw(),a.id==this.activeBlockId&&a.container.type==this.activeContainerType){const l=new Map(this.effectToSprite);a.effects.forEach(u=>{if(l.has(u)){l.delete(u);return}this.setupEffect(u)});for(const[u,f]of l)this.effectsHandlers.delete(f),this.effectToSprite.delete(u),this.sprites.delete(f);return}this.activeBlockId=a.id,this.activeContainerType=a.container.type,this.setup(i.value.blocks,a),a.effects.forEach(l=>this.setupEffect(l))})}get cursor(){return this.sprites.cursor}setupEffect(e){const t=8*this.cursor.scale,n=e.settings;if(n.type==="noise")return;const i={bugle:"#0fff00",pinch:"#ff00f0",swirl:"#0aaaa0"};this.addEffectModifier(new Ht(jt(t*2,t*2),new dn(()=>e.settings.type=="noise"?-100:e.settings.center.x,()=>e.settings.type=="noise"?-100:e.settings.center.y,()=>Math.PI/4),!0,Pt(i[n.type])),e,()=>(s,o)=>e.settings.type=="noise"?!1:(e.settings.center.x=o.x|0,e.settings.center.y=o.y|0,!0)),this.addEffectModifier(new Bd(n,t,!0,Pt(i[n.type])),e,()=>(s,o)=>{if(e.settings.type=="noise")return!1;const a=o.x-e.settings.center.x,l=o.y-e.settings.center.y,u=Math.sqrt(a*a+l*l);return e.settings.radius=u|0,!0})}clear(){this.selectors.clear(),this.handlers.clear(),this.sprites.clear()}setup(e,t){const n=this.ctx.canvas,i=this.cursor.realSize;if(n.width!==i.width&&(n.width=i.width),n.height!==i.height&&(n.height=i.height),this.clear(),e.forEach(m=>{m===t||m.container.type!=="rectangle"||this.addSelector(m.id,m.container.value)}),t.container.type!=="rectangle")return;const s=new Qi(()=>jt(t.container.value.width,t.container.value.height),new dn(()=>t.container.value.position.x,()=>t.container.value.position.y,()=>t.container.value.rotation),!0,{fill:{},stroke:{default:"#aaaa00 "}}),o=this.sprites.add(s),a=18*this.cursor.scale,l=Rd(a*7,a*1.4),u=new dn(()=>0,()=>0,()=>this.cursor.ctrl?-o.transform.rotation():0,o.transform),f=new Ht(l,new xt(0,0,0,u),!0,Pt("#0000ff")),c=new Ht(l,new xt(0,0,-Math.PI/2,u),!0,Pt("#ff0000"));this.addModifier(f,es(f)),this.addModifier(c,es(c)),this.addModifier(new Ht(jt(a*2,a*2),new xt(0,0,0,o.transform),!0,Pt("#ff00ff")),m=>(d,p)=>{const g=p.x-d.x,_=p.y-d.y,{x:$,y:k}=m.position;return{...m,position:{x:$+g|0,y:k+_|0}}});const h=new Ht(Pd(4*a,Math.PI*1.5,a*1.5),new xt(0,0,-Math.PI/4,o.transform),!0,Pt("#00ff00"));this.addModifier(h,Md),[{dim:"width",dir:{x:1,y:0}},{dim:"width",dir:{x:-1,y:0}},{dim:"height",dir:{x:0,y:1}},{dim:"height",dir:{x:0,y:-1}}].forEach(({dim:m,dir:d})=>{const p=m==="height"?()=>jt(t.container.value.width-a,a):()=>jt(a,t.container.value.height-a);this.addModifier(new Qi(p,new dn(()=>d.x*t.container.value.width/2,()=>d.y*t.container.value.height/2,()=>0,o.transform),!0,Pt("#ff9900")),zd(m,d))}),[{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}].forEach(m=>{this.addModifier(new Ht(jt(a,a),new dn(()=>m.x*t.container.value.width/2,()=>m.y*t.container.value.height/2,()=>0,o.transform),!0,Pt("#ff99ff")),Ud(m))})}addSelector(e,t){const n=this.sprites.add(new Ht(jt(t.width,t.height),new xt(t.position.x,t.position.y,t.rotation),!0,{fill:{hover:"#aaaaaa22",active:"#aaaaaa44"},stroke:{hover:"#aaaaaa99",active:"#aaaaaa"}}));this.selectors.set(n,e)}addModifier(e,t){this.handlers.set(this.sprites.add(e),t)}addEffectModifier(e,t,n){this.effectsHandlers.set(this.sprites.add(e),n),this.effectToSprite.set(t,e)}}function Md(r){const{rotation:e}=r,t=r.position;return(n,i,s)=>{const o=Ki(t,n),a=Ki(t,i),l=Math.atan2(o.y,o.x),u=Math.atan2(a.y,a.x),f=Math.PI/180*1;let c=Math.round((u-l)/f)*f;const h=Math.PI/4;return s.shift&&(c=(c/h|0)*h),{...r,rotation:s.ctrl?c:e+c}}}function Pt(r){return{fill:{default:`${r}44`,hover:`${r}99`,active:`${r}`},stroke:{default:`${r}44`,hover:`${r}99`,active:`${r}`}}}function zd(r,e){return t=>(n,i,s)=>{const o=i.x-n.x,a=i.y-n.y,l=it.Rotation(t.rotation).Transform(e);let u=o*l.x+a*l.y|0;return s.shift&&(u=(u/10|0)*10),s.ctrl?{...t,position:{x:t.position.x+l.x*u/2,y:t.position.y+l.y*u/2},[r]:t[r]+u}:{...t,[r]:t[r]+2*u}}}function Ud(r){return e=>(t,n,i)=>{const s=n.x-t.x,o=n.y-t.y,a=it.Rotation(e.rotation).Transform({x:0,y:r.y}),l=it.Rotation(e.rotation).Transform({x:r.x,y:0});let u=s*a.x+o*a.y|0,f=s*l.x+o*l.y|0;return i.shift&&(u=f=Math.max(u,f)),i.ctrl?{...e,position:{x:e.position.x+a.x*u/2+l.x*f/2,y:e.position.y+a.y*u/2+l.y*f/2},height:e.height+u,width:e.width+f}:{...e,height:e.height+2*u,width:e.width+2*f}}}function es(r){return e=>(t,n,i)=>{const s=n.x-t.x,o=n.y-t.y,{x:a,y:l}=e.position,u=it.Rotation(r.transform.rotation()).Transform({x:1,y:0});let f=s*u.x+o*u.y;return i.shift&&(f=(f/10|0)*10),{...e,position:{x:a+u.x*f,y:l+u.y*f}}}}function dr(r){let e=0;return(...t)=>{e||(e=requestAnimationFrame(()=>{e=0,r.apply(void 0,t)}))}}var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nn(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yn={},Dd={get exports(){return yn},set exports(r){yn=r}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,s){function o(u,f){if(!i[u]){if(!n[u]){var c=typeof Nn=="function"&&Nn;if(!f&&c)return c(u,!0);if(a)return a(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var m=i[u]={exports:{}};n[u][0].call(m.exports,function(d){var p=n[u][1][d];return o(p||d)},m,m.exports,t,n,i,s)}return i[u].exports}for(var a=typeof Nn=="function"&&Nn,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,n,i){var s=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,f,c,h,m,d,p,g=[],_=0,$=l.length,k=$,y=s.getTypeOf(l)!=="string";_<l.length;)k=$-_,c=y?(u=l[_++],f=_<$?l[_++]:0,_<$?l[_++]:0):(u=l.charCodeAt(_++),f=_<$?l.charCodeAt(_++):0,_<$?l.charCodeAt(_++):0),h=u>>2,m=(3&u)<<4|f>>4,d=1<k?(15&f)<<2|c>>6:64,p=2<k?63&c:64,g.push(a.charAt(h)+a.charAt(m)+a.charAt(d)+a.charAt(p));return g.join("")},i.decode=function(l){var u,f,c,h,m,d,p=0,g=0,_="data:";if(l.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var $,k=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&k--,l.charAt(l.length-2)===a.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for($=o.uint8array?new Uint8Array(0|k):new Array(0|k);p<l.length;)u=a.indexOf(l.charAt(p++))<<2|(h=a.indexOf(l.charAt(p++)))>>4,f=(15&h)<<4|(m=a.indexOf(l.charAt(p++)))>>2,c=(3&m)<<6|(d=a.indexOf(l.charAt(p++))),$[g++]=u,m!==64&&($[g++]=f),d!==64&&($[g++]=c);return $}},{"./support":30,"./utils":32}],2:[function(t,n,i){var s=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function u(f,c,h,m,d){this.compressedSize=f,this.uncompressedSize=c,this.crc32=h,this.compression=m,this.compressedContent=d}u.prototype={getContentWorker:function(){var f=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),c=this;return f.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(f,c,h){return f.pipe(new a).pipe(new l("uncompressedSize")).pipe(c.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",c)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var s=t("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var f=0;f<8;f++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,f,c,h){var m=o,d=h+c;u^=-1;for(var p=h;p<d;p++)u=u>>>8^m[255&(u^f[p])];return-1^u}(0|l,a,a.length,0):function(u,f,c,h){var m=o,d=h+c;u^=-1;for(var p=h;p<d;p++)u=u>>>8^m[255&(u^f.charCodeAt(p))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),a=t("./utils"),l=t("./stream/GenericWorker"),u=s?"uint8array":"array";function f(c,h){l.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=h,this.meta={}}i.magic="\b\0",a.inherits(f,l),f.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,c.data),!1)},f.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(h){c.push({data:h,meta:c.meta})}},i.compressWorker=function(c){return new f("Deflate",c)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function s(m,d){var p,g="";for(p=0;p<d;p++)g+=String.fromCharCode(255&m),m>>>=8;return g}function o(m,d,p,g,_,$){var k,y,P=m.file,C=m.compression,A=$!==u.utf8encode,O=a.transformTo("string",$(P.name)),L=a.transformTo("string",u.utf8encode(P.name)),U=P.comment,se=a.transformTo("string",$(U)),F=a.transformTo("string",u.utf8encode(U)),I=L.length!==P.name.length,v=F.length!==U.length,q="",_e="",z="",he=P.dir,ee=P.date,ye={crc32:0,compressedSize:0,uncompressedSize:0};d&&!p||(ye.crc32=m.crc32,ye.compressedSize=m.compressedSize,ye.uncompressedSize=m.uncompressedSize);var H=0;d&&(H|=8),A||!I&&!v||(H|=2048);var j=0,Y=0;he&&(j|=16),_==="UNIX"?(Y=798,j|=function(me,ie){var Z=me;return me||(Z=ie?16893:33204),(65535&Z)<<16}(P.unixPermissions,he)):(Y=20,j|=function(me){return 63&(me||0)}(P.dosPermissions)),k=ee.getUTCHours(),k<<=6,k|=ee.getUTCMinutes(),k<<=5,k|=ee.getUTCSeconds()/2,y=ee.getUTCFullYear()-1980,y<<=4,y|=ee.getUTCMonth()+1,y<<=5,y|=ee.getUTCDate(),I&&(_e=s(1,1)+s(f(O),4)+L,q+="up"+s(_e.length,2)+_e),v&&(z=s(1,1)+s(f(se),4)+F,q+="uc"+s(z.length,2)+z);var Q="";return Q+=`
\0`,Q+=s(H,2),Q+=C.magic,Q+=s(k,2),Q+=s(y,2),Q+=s(ye.crc32,4),Q+=s(ye.compressedSize,4),Q+=s(ye.uncompressedSize,4),Q+=s(O.length,2),Q+=s(q.length,2),{fileRecord:c.LOCAL_FILE_HEADER+Q+O+q,dirRecord:c.CENTRAL_FILE_HEADER+s(Y,2)+Q+s(se.length,2)+"\0\0\0\0"+s(j,4)+s(g,4)+O+q+se}}var a=t("../utils"),l=t("../stream/GenericWorker"),u=t("../utf8"),f=t("../crc32"),c=t("../signature");function h(m,d,p,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=p,this.encodeFileName=g,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,l),h.prototype.push=function(m){var d=m.meta.percent||0,p=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:p?(d+100*(p-g-1))/p:100}}))},h.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var d=this.streamFiles&&!m.file.dir;if(d){var p=o(m,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(m){this.accumulate=!1;var d=this.streamFiles&&!m.file.dir,p=o(m,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),d)this.push({data:function(g){return c.DATA_DESCRIPTOR+s(g.crc32,4)+s(g.compressedSize,4)+s(g.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var m=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var p=this.bytesWritten-m,g=function(_,$,k,y,P){var C=a.transformTo("string",P(y));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(_,2)+s(_,2)+s($,4)+s(k,4)+s(C.length,2)+C}(this.dirRecords.length,p,m,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(m){this._sources.push(m);var d=this;return m.on("data",function(p){d.processChunk(p)}),m.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),m.on("error",function(p){d.error(p)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(m){var d=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var p=0;p<d.length;p++)try{d[p].error(m)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,d=0;d<m.length;d++)m[d].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var s=t("../compressions"),o=t("./ZipFileWorker");i.generateWorker=function(a,l,u){var f=new o(l.streamFiles,u,l.platform,l.encodeFileName),c=0;try{a.forEach(function(h,m){c++;var d=function($,k){var y=$||k,P=s[y];if(!P)throw new Error(y+" is not a valid compression method !");return P}(m.options.compression,l.compression),p=m.options.compressionOptions||l.compressionOptions||{},g=m.dir,_=m.date;m._compressWorker(d,p).withStreamInfo("file",{name:h,dir:g,date:_,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(f)}),f.entriesCount=c}catch(h){f.error(h)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var s=t("./utils"),o=t("./external"),a=t("./utf8"),l=t("./zipEntries"),u=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function c(h){return new o.Promise(function(m,d){var p=h.decompressed.getContentWorker().pipe(new u);p.on("error",function(g){d(g)}).on("end",function(){p.streamInfo.crc32!==h.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(h,m){var d=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),f.isNode&&f.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,m.optimizedBinaryString,m.base64).then(function(p){var g=new l(m);return g.load(p),g}).then(function(p){var g=[o.Promise.resolve(p)],_=p.files;if(m.checkCRC32)for(var $=0;$<_.length;$++)g.push(c(_[$]));return o.Promise.all(g)}).then(function(p){for(var g=p.shift(),_=g.files,$=0;$<_.length;$++){var k=_[$],y=k.fileNameStr,P=s.resolve(k.fileNameStr);d.file(P,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:m.createFolders}),k.dir||(d.file(P).unsafeOriginalName=y)}return g.zipComment.length&&(d.comment=g.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var s=t("../utils"),o=t("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(f){u.push({data:f,meta:{percent:0}})}).on("error",function(f){u.isPaused?this.generatedError=f:u.error(f)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var s=t("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var f=this;a.on("data",function(c,h){f.push(c)||f._helper.pause(),u&&u(h)}).on("error",function(c){f.emit("error",c)}).on("end",function(){f.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,i){function s(P,C,A){var O,L=a.getTypeOf(C),U=a.extend(A||{},f);U.date=U.date||new Date,U.compression!==null&&(U.compression=U.compression.toUpperCase()),typeof U.unixPermissions=="string"&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(P=_(P)),U.createFolders&&(O=g(P))&&$.call(this,O,!0);var se=L==="string"&&U.binary===!1&&U.base64===!1;A&&A.binary!==void 0||(U.binary=!se),(C instanceof c&&C.uncompressedSize===0||U.dir||!C||C.length===0)&&(U.base64=!1,U.binary=!0,C="",U.compression="STORE",L="string");var F=null;F=C instanceof c||C instanceof l?C:d.isNode&&d.isStream(C)?new p(P,C):a.prepareContent(P,C,U.binary,U.optimizedBinaryString,U.base64);var I=new h(P,F,U);this.files[P]=I}var o=t("./utf8"),a=t("./utils"),l=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),f=t("./defaults"),c=t("./compressedObject"),h=t("./zipObject"),m=t("./generate"),d=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),g=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var C=P.lastIndexOf("/");return 0<C?P.substring(0,C):""},_=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},$=function(P,C){return C=C!==void 0?C:f.createFolders,P=_(P),this.files[P]||s.call(this,P,null,{dir:!0,createFolders:C}),this.files[P]};function k(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var C,A,O;for(C in this.files)O=this.files[C],(A=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&P(A,O)},filter:function(P){var C=[];return this.forEach(function(A,O){P(A,O)&&C.push(O)}),C},file:function(P,C,A){if(arguments.length!==1)return P=this.root+P,s.call(this,P,C,A),this;if(k(P)){var O=P;return this.filter(function(U,se){return!se.dir&&O.test(U)})}var L=this.files[this.root+P];return L&&!L.dir?L:null},folder:function(P){if(!P)return this;if(k(P))return this.filter(function(L,U){return U.dir&&P.test(L)});var C=this.root+P,A=$.call(this,C),O=this.clone();return O.root=A.name,O},remove:function(P){P=this.root+P;var C=this.files[P];if(C||(P.slice(-1)!=="/"&&(P+="/"),C=this.files[P]),C&&!C.dir)delete this.files[P];else for(var A=this.filter(function(L,U){return U.name.slice(0,P.length)===P}),O=0;O<A.length;O++)delete this.files[A[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var C,A={};try{if((A=a.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");a.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var O=A.comment||this.comment||"";C=m.generateWorker(this,A,O)}catch(L){(C=new l("error")).error(L)}return new u(C,A.type||"string",A.mimeType)},generateAsync:function(P,C){return this.generateInternalStream(P).accumulate(C)},generateNodeStream:function(P,C){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(C)}};n.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var s=t("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),c=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===f&&this.data[h+3]===c)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),c=a.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&f===h[2]&&c===h[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var s=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,i){var s=t("./Uint8ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var s=t("./DataReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var s=t("./ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var s=t("../utils"),o=t("../support"),a=t("./ArrayReader"),l=t("./StringReader"),u=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");n.exports=function(c){var h=s.getTypeOf(c);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new u(c):o.uint8array?new f(s.transformTo("uint8array",c)):new a(s.transformTo("array",c)):new l(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var s=t("./GenericWorker"),o=t("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var s=t("./GenericWorker"),o=t("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(f){u.dataIsReady=!0,u.data=f,u.max=f&&f.length||0,u.type=s.getTypeOf(f),u.isPaused||u._tickAndRepeat()},function(f){u.error(f)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(t,n,i){var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),l=t("../base64"),u=t("../support"),f=t("../external"),c=null;if(u.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(d,p){return new f.Promise(function(g,_){var $=[],k=d._internalType,y=d._outputType,P=d._mimeType;d.on("data",function(C,A){$.push(C),p&&p(A)}).on("error",function(C){$=[],_(C)}).on("end",function(){try{var C=function(A,O,L){switch(A){case"blob":return s.newBlob(s.transformTo("arraybuffer",O),L);case"base64":return l.encode(O);default:return s.transformTo(A,O)}}(y,function(A,O){var L,U=0,se=null,F=0;for(L=0;L<O.length;L++)F+=O[L].length;switch(A){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(se=new Uint8Array(F),L=0;L<O.length;L++)se.set(O[L],U),U+=O[L].length;return se;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+A+"'")}}(k,$),P);g(C)}catch(A){_(A)}$=[]}).resume()})}function m(d,p,g){var _=p;switch(p){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=p,this._mimeType=g,s.checkSupport(_),this._worker=d.pipe(new o(_)),d.lock()}catch($){this._worker=new a("error"),this._worker.error($)}}m.prototype={accumulate:function(d){return h(this,d)},on:function(d,p){var g=this;return d==="data"?this._worker.on(d,function(_){p.call(g,_.data,_.meta)}):this._worker.on(d,function(){s.delay(p,arguments,g)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},d)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),l=t("./stream/GenericWorker"),u=new Array(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;u[254]=u[254]=1;function c(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return o.nodebuffer?a.newBufferFrom(m,"utf-8"):function(d){var p,g,_,$,k,y=d.length,P=0;for($=0;$<y;$++)(64512&(g=d.charCodeAt($)))==55296&&$+1<y&&(64512&(_=d.charCodeAt($+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),$++),P+=g<128?1:g<2048?2:g<65536?3:4;for(p=o.uint8array?new Uint8Array(P):new Array(P),$=k=0;k<P;$++)(64512&(g=d.charCodeAt($)))==55296&&$+1<y&&(64512&(_=d.charCodeAt($+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),$++),g<128?p[k++]=g:(g<2048?p[k++]=192|g>>>6:(g<65536?p[k++]=224|g>>>12:(p[k++]=240|g>>>18,p[k++]=128|g>>>12&63),p[k++]=128|g>>>6&63),p[k++]=128|63&g);return p}(m)},i.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(d){var p,g,_,$,k=d.length,y=new Array(2*k);for(p=g=0;p<k;)if((_=d[p++])<128)y[g++]=_;else if(4<($=u[_]))y[g++]=65533,p+=$-1;else{for(_&=$===2?31:$===3?15:7;1<$&&p<k;)_=_<<6|63&d[p++],$--;1<$?y[g++]=65533:_<65536?y[g++]=_:(_-=65536,y[g++]=55296|_>>10&1023,y[g++]=56320|1023&_)}return y.length!==g&&(y.subarray?y=y.subarray(0,g):y.length=g),s.applyFromCharCode(y)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(c,l),c.prototype.processChunk=function(m){var d=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var p=d;(d=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),d.set(p,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var g=function($,k){var y;for((k=k||$.length)>$.length&&(k=$.length),y=k-1;0<=y&&(192&$[y])==128;)y--;return y<0||y===0?k:y+u[$[y]]>k?y:k}(d),_=d;g!==d.length&&(o.uint8array?(_=d.subarray(0,g),this.leftOver=d.subarray(g,d.length)):(_=d.slice(0,g),this.leftOver=d.slice(g,d.length))),this.push({data:i.utf8decode(_),meta:m.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=c,s.inherits(h,l),h.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var s=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),l=t("./external");function u(p){return p}function f(p,g){for(var _=0;_<p.length;++_)g[_]=255&p.charCodeAt(_);return g}t("setimmediate"),i.newBlob=function(p,g){i.checkSupport("blob");try{return new Blob([p],{type:g})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(p),_.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(p,g,_){var $=[],k=0,y=p.length;if(y<=_)return String.fromCharCode.apply(null,p);for(;k<y;)g==="array"||g==="nodebuffer"?$.push(String.fromCharCode.apply(null,p.slice(k,Math.min(k+_,y)))):$.push(String.fromCharCode.apply(null,p.subarray(k,Math.min(k+_,y)))),k+=_;return $.join("")},stringifyByChar:function(p){for(var g="",_=0;_<p.length;_++)g+=String.fromCharCode(p[_]);return g},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(p){var g=65536,_=i.getTypeOf(p),$=!0;if(_==="uint8array"?$=c.applyCanBeUsed.uint8array:_==="nodebuffer"&&($=c.applyCanBeUsed.nodebuffer),$)for(;1<g;)try{return c.stringifyByChunk(p,_,g)}catch{g=Math.floor(g/2)}return c.stringifyByChar(p)}function m(p,g){for(var _=0;_<p.length;_++)g[_]=p[_];return g}i.applyFromCharCode=h;var d={};d.string={string:u,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return d.string.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:function(p){return f(p,a.allocBuffer(p.length))}},d.array={string:h,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},d.arraybuffer={string:function(p){return h(new Uint8Array(p))},array:function(p){return m(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},d.uint8array={string:h,array:function(p){return m(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return a.newBufferFrom(p)}},d.nodebuffer={string:h,array:function(p){return m(p,new Array(p.length))},arraybuffer:function(p){return d.nodebuffer.uint8array(p).buffer},uint8array:function(p){return m(p,new Uint8Array(p.length))},nodebuffer:u},i.transformTo=function(p,g){if(g=g||"",!p)return g;i.checkSupport(p);var _=i.getTypeOf(g);return d[_][p](g)},i.resolve=function(p){for(var g=p.split("/"),_=[],$=0;$<g.length;$++){var k=g[$];k==="."||k===""&&$!==0&&$!==g.length-1||(k===".."?_.pop():_.push(k))}return _.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(p)?"nodebuffer":s.uint8array&&p instanceof Uint8Array?"uint8array":s.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!s[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var g,_,$="";for(_=0;_<(p||"").length;_++)$+="\\x"+((g=p.charCodeAt(_))<16?"0":"")+g.toString(16).toUpperCase();return $},i.delay=function(p,g,_){setImmediate(function(){p.apply(_||null,g||[])})},i.inherits=function(p,g){function _(){}_.prototype=g.prototype,p.prototype=new _},i.extend=function(){var p,g,_={};for(p=0;p<arguments.length;p++)for(g in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],g)&&_[g]===void 0&&(_[g]=arguments[p][g]);return _},i.prepareContent=function(p,g,_,$,k){return l.Promise.resolve(g).then(function(y){return s.blob&&(y instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(y))!==-1)&&typeof FileReader<"u"?new l.Promise(function(P,C){var A=new FileReader;A.onload=function(O){P(O.target.result)},A.onerror=function(O){C(O.target.error)},A.readAsArrayBuffer(y)}):y}).then(function(y){var P=i.getTypeOf(y);return P?(P==="arraybuffer"?y=i.transformTo("uint8array",y):P==="string"&&(k?y=o.decode(y):_&&$!==!0&&(y=function(C){return f(C,s.uint8array?new Uint8Array(C.length):new Array(C.length))}(y))),y):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),u=t("./support");function f(c){this.files=[],this.loadOptions=c}f.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(c)+")")}},isSignature:function(c,h){var m=this.reader.index;this.reader.setIndex(c);var d=this.reader.readString(4)===h;return this.reader.setIndex(m),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",m=o.transformTo(h,c);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,h,m,d=this.zip64EndOfCentralSize-44;0<d;)c=this.reader.readInt(2),h=this.reader.readInt(4),m=this.reader.readData(h),this.zip64ExtensibleData[c]={id:c,length:h,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,h;for(c=0;c<this.files.length;c++)h=this.files[c],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(c=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var h=c;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var d=h-m;if(0<d)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(c){this.reader=s(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),l=t("./crc32"),u=t("./utf8"),f=t("./compressions"),c=t("./support");function h(m,d){this.options=m,this.loadOptions=d}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var d,p;if(m.skip(22),this.fileNameLength=m.readInt(2),p=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(g){for(var _ in f)if(Object.prototype.hasOwnProperty.call(f,_)&&f[_].magic===g)return f[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,d,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var d=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(d),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var d,p,g,_=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<_;)d=m.readInt(2),p=m.readInt(2),g=m.readData(p),this.extraFields[d]={id:d,length:p,value:g};m.setIndex(_)},handleUTF8:function(){var m=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var p=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var _=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var d=s(m.value);return d.readInt(1)!==1||l(this.fileName)!==d.readInt(4)?null:u.utf8decode(d.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var d=s(m.value);return d.readInt(1)!==1||l(this.fileComment)!==d.readInt(4)?null:u.utf8decode(d.readData(m.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function s(d,p,g){this.name=d,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=p,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),l=t("./utf8"),u=t("./compressedObject"),f=t("./stream/GenericWorker");s.prototype={internalStream:function(d){var p=null,g="string";try{if(!d)throw new Error("No output type specified.");var _=(g=d.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),p=this._decompressWorker();var $=!this._dataBinary;$&&!_&&(p=p.pipe(new l.Utf8EncodeWorker)),!$&&_&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(k){(p=new f("error")).error(k)}return new o(p,g,"")},async:function(d,p){return this.internalStream(d).accumulate(p)},nodeStream:function(d,p){return this.internalStream(d||"nodebuffer").toNodejsStream(p)},_compressWorker:function(d,p){if(this._data instanceof u&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(g,d,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof f?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<c.length;m++)s.prototype[c[m]]=h;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,f=new l(d),c=s.document.createTextNode("");f.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var p=s.document.createElement("script");p.onreadystatechange=function(){d(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:function(){setTimeout(d,0)};else{var h=new s.MessageChannel;h.port1.onmessage=d,o=function(){h.port2.postMessage(0)}}var m=[];function d(){var p,g;a=!0;for(var _=m.length;_;){for(g=m,m=[],p=-1;++p<_;)g[p]();_=m.length}a=!1}n.exports=function(p){m.push(p)!==1||a||o()}}).call(this,typeof Pn<"u"?Pn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var s=t("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],f=["PENDING"];function c(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,_!==o&&p(this,_)}function h(_,$,k){this.promise=_,typeof $=="function"&&(this.onFulfilled=$,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function m(_,$,k){s(function(){var y;try{y=$(k)}catch(P){return a.reject(_,P)}y===_?a.reject(_,new TypeError("Cannot resolve promise with itself")):a.resolve(_,y)})}function d(_){var $=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof $=="function")return function(){$.apply(_,arguments)}}function p(_,$){var k=!1;function y(A){k||(k=!0,a.reject(_,A))}function P(A){k||(k=!0,a.resolve(_,A))}var C=g(function(){$(P,y)});C.status==="error"&&y(C.value)}function g(_,$){var k={};try{k.value=_($),k.status="success"}catch(y){k.status="error",k.value=y}return k}(n.exports=c).prototype.finally=function(_){if(typeof _!="function")return this;var $=this.constructor;return this.then(function(k){return $.resolve(_()).then(function(){return k})},function(k){return $.resolve(_()).then(function(){throw k})})},c.prototype.catch=function(_){return this.then(null,_)},c.prototype.then=function(_,$){if(typeof _!="function"&&this.state===u||typeof $!="function"&&this.state===l)return this;var k=new this.constructor(o);return this.state!==f?m(k,this.state===u?_:$,this.outcome):this.queue.push(new h(k,_,$)),k},h.prototype.callFulfilled=function(_){a.resolve(this.promise,_)},h.prototype.otherCallFulfilled=function(_){m(this.promise,this.onFulfilled,_)},h.prototype.callRejected=function(_){a.reject(this.promise,_)},h.prototype.otherCallRejected=function(_){m(this.promise,this.onRejected,_)},a.resolve=function(_,$){var k=g(d,$);if(k.status==="error")return a.reject(_,k.value);var y=k.value;if(y)p(_,y);else{_.state=u,_.outcome=$;for(var P=-1,C=_.queue.length;++P<C;)_.queue[P].callFulfilled($)}return _},a.reject=function(_,$){_.state=l,_.outcome=$;for(var k=-1,y=_.queue.length;++k<y;)_.queue[k].callRejected($);return _},c.resolve=function(_){return _ instanceof this?_:a.resolve(new this(o),_)},c.reject=function(_){var $=new this(o);return a.reject($,_)},c.all=function(_){var $=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=_.length,y=!1;if(!k)return this.resolve([]);for(var P=new Array(k),C=0,A=-1,O=new this(o);++A<k;)L(_[A],A);return O;function L(U,se){$.resolve(U).then(function(F){P[se]=F,++C!==k||y||(y=!0,a.resolve(O,P))},function(F){y||(y=!0,a.reject(O,F))})}},c.race=function(_){var $=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=_.length,y=!1;if(!k)return this.resolve([]);for(var P=-1,C=new this(o);++P<k;)A=_[P],$.resolve(A).then(function(O){y||(y=!0,a.resolve(C,O))},function(O){y||(y=!0,a.reject(C,O))});var A;return C}},{immediate:36}],38:[function(t,n,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),f=Object.prototype.toString,c=0,h=-1,m=0,d=8;function p(_){if(!(this instanceof p))return new p(_);this.options=o.assign({level:h,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},_||{});var $=this.options;$.raw&&0<$.windowBits?$.windowBits=-$.windowBits:$.gzip&&0<$.windowBits&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=s.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(k!==c)throw new Error(l[k]);if($.header&&s.deflateSetHeader(this.strm,$.header),$.dictionary){var y;if(y=typeof $.dictionary=="string"?a.string2buf($.dictionary):f.call($.dictionary)==="[object ArrayBuffer]"?new Uint8Array($.dictionary):$.dictionary,(k=s.deflateSetDictionary(this.strm,y))!==c)throw new Error(l[k]);this._dict_set=!0}}function g(_,$){var k=new p($);if(k.push(_,!0),k.err)throw k.msg||l[k.err];return k.result}p.prototype.push=function(_,$){var k,y,P=this.strm,C=this.options.chunkSize;if(this.ended)return!1;y=$===~~$?$:$===!0?4:0,typeof _=="string"?P.input=a.string2buf(_):f.call(_)==="[object ArrayBuffer]"?P.input=new Uint8Array(_):P.input=_,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new o.Buf8(C),P.next_out=0,P.avail_out=C),(k=s.deflate(P,y))!==1&&k!==c)return this.onEnd(k),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||y!==4&&y!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(P.output,P.next_out))):this.onData(o.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&k!==1);return y===4?(k=s.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===c):y!==2||(this.onEnd(c),!(P.avail_out=0))},p.prototype.onData=function(_){this.chunks.push(_)},p.prototype.onEnd=function(_){_===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Deflate=p,i.deflate=g,i.deflateRaw=function(_,$){return($=$||{}).raw=!0,g(_,$)},i.gzip=function(_,$){return($=$||{}).gzip=!0,g(_,$)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),f=t("./zlib/zstream"),c=t("./zlib/gzheader"),h=Object.prototype.toString;function m(p){if(!(this instanceof m))return new m(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||p&&p.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var _=s.inflateInit2(this.strm,g.windowBits);if(_!==l.Z_OK)throw new Error(u[_]);this.header=new c,s.inflateGetHeader(this.strm,this.header)}function d(p,g){var _=new m(g);if(_.push(p,!0),_.err)throw _.msg||u[_.err];return _.result}m.prototype.push=function(p,g){var _,$,k,y,P,C,A=this.strm,O=this.options.chunkSize,L=this.options.dictionary,U=!1;if(this.ended)return!1;$=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?A.input=a.binstring2buf(p):h.call(p)==="[object ArrayBuffer]"?A.input=new Uint8Array(p):A.input=p,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(O),A.next_out=0,A.avail_out=O),(_=s.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&L&&(C=typeof L=="string"?a.string2buf(L):h.call(L)==="[object ArrayBuffer]"?new Uint8Array(L):L,_=s.inflateSetDictionary(this.strm,C)),_===l.Z_BUF_ERROR&&U===!0&&(_=l.Z_OK,U=!1),_!==l.Z_STREAM_END&&_!==l.Z_OK)return this.onEnd(_),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&_!==l.Z_STREAM_END&&(A.avail_in!==0||$!==l.Z_FINISH&&$!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=a.utf8border(A.output,A.next_out),y=A.next_out-k,P=a.buf2string(A.output,k),A.next_out=y,A.avail_out=O-y,y&&o.arraySet(A.output,A.output,k,y,0),this.onData(P)):this.onData(o.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(U=!0)}while((0<A.avail_in||A.avail_out===0)&&_!==l.Z_STREAM_END);return _===l.Z_STREAM_END&&($=l.Z_FINISH),$===l.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===l.Z_OK):$!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},m.prototype.onData=function(p){this.chunks.push(p)},m.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=m,i.inflate=d,i.inflateRaw=function(p,g){return(g=g||{}).raw=!0,d(p,g)},i.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var c in f)f.hasOwnProperty(c)&&(l[c]=f[c])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,f,c,h){if(u.subarray&&l.subarray)l.set(u.subarray(f,f+c),h);else for(var m=0;m<c;m++)l[h+m]=u[f+m]},flattenChunks:function(l){var u,f,c,h,m,d;for(u=c=0,f=l.length;u<f;u++)c+=l[u].length;for(d=new Uint8Array(c),u=h=0,f=l.length;u<f;u++)m=l[u],d.set(m,h),h+=m.length;return d}},a={arraySet:function(l,u,f,c,h){for(var m=0;m<c;m++)l[h+m]=u[f+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(t,n,i){var s=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function f(c,h){if(h<65537&&(c.subarray&&a||!c.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(c,h));for(var m="",d=0;d<h;d++)m+=String.fromCharCode(c[d]);return m}l[254]=l[254]=1,i.string2buf=function(c){var h,m,d,p,g,_=c.length,$=0;for(p=0;p<_;p++)(64512&(m=c.charCodeAt(p)))==55296&&p+1<_&&(64512&(d=c.charCodeAt(p+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),p++),$+=m<128?1:m<2048?2:m<65536?3:4;for(h=new s.Buf8($),p=g=0;g<$;p++)(64512&(m=c.charCodeAt(p)))==55296&&p+1<_&&(64512&(d=c.charCodeAt(p+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),p++),m<128?h[g++]=m:(m<2048?h[g++]=192|m>>>6:(m<65536?h[g++]=224|m>>>12:(h[g++]=240|m>>>18,h[g++]=128|m>>>12&63),h[g++]=128|m>>>6&63),h[g++]=128|63&m);return h},i.buf2binstring=function(c){return f(c,c.length)},i.binstring2buf=function(c){for(var h=new s.Buf8(c.length),m=0,d=h.length;m<d;m++)h[m]=c.charCodeAt(m);return h},i.buf2string=function(c,h){var m,d,p,g,_=h||c.length,$=new Array(2*_);for(m=d=0;m<_;)if((p=c[m++])<128)$[d++]=p;else if(4<(g=l[p]))$[d++]=65533,m+=g-1;else{for(p&=g===2?31:g===3?15:7;1<g&&m<_;)p=p<<6|63&c[m++],g--;1<g?$[d++]=65533:p<65536?$[d++]=p:(p-=65536,$[d++]=55296|p>>10&1023,$[d++]=56320|1023&p)}return f($,d)},i.utf8border=function(c,h){var m;for((h=h||c.length)>c.length&&(h=c.length),m=h-1;0<=m&&(192&c[m])==128;)m--;return m<0||m===0?h:m+l[c[m]]>h?m:h}},{"./common":41}],43:[function(t,n,i){n.exports=function(s,o,a,l){for(var u=65535&s|0,f=s>>>16&65535|0,c=0;a!==0;){for(a-=c=2e3<a?2e3:a;f=f+(u=u+o[l++]|0)|0,--c;);u%=65521,f%=65521}return u|f<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,u){var f=s,c=u+l;o^=-1;for(var h=u;h<c;h++)o=o>>>8^f[255&(o^a[h])];return-1^o}},{}],46:[function(t,n,i){var s,o=t("../utils/common"),a=t("./trees"),l=t("./adler32"),u=t("./crc32"),f=t("./messages"),c=0,h=4,m=0,d=-2,p=-1,g=4,_=2,$=8,k=9,y=286,P=30,C=19,A=2*y+1,O=15,L=3,U=258,se=U+L+1,F=42,I=113,v=1,q=2,_e=3,z=4;function he(b,te){return b.msg=f[te],te}function ee(b){return(b<<1)-(4<b?9:0)}function ye(b){for(var te=b.length;0<=--te;)b[te]=0}function H(b){var te=b.state,K=te.pending;K>b.avail_out&&(K=b.avail_out),K!==0&&(o.arraySet(b.output,te.pending_buf,te.pending_out,K,b.next_out),b.next_out+=K,te.pending_out+=K,b.total_out+=K,b.avail_out-=K,te.pending-=K,te.pending===0&&(te.pending_out=0))}function j(b,te){a._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,te),b.block_start=b.strstart,H(b.strm)}function Y(b,te){b.pending_buf[b.pending++]=te}function Q(b,te){b.pending_buf[b.pending++]=te>>>8&255,b.pending_buf[b.pending++]=255&te}function me(b,te){var K,R,T=b.max_chain_length,D=b.strstart,oe=b.prev_length,ue=b.nice_match,V=b.strstart>b.w_size-se?b.strstart-(b.w_size-se):0,de=b.window,Ee=b.w_mask,pe=b.prev,Ne=b.strstart+U,Xe=de[D+oe-1],Le=de[D+oe];b.prev_length>=b.good_match&&(T>>=2),ue>b.lookahead&&(ue=b.lookahead);do if(de[(K=te)+oe]===Le&&de[K+oe-1]===Xe&&de[K]===de[D]&&de[++K]===de[D+1]){D+=2,K++;do;while(de[++D]===de[++K]&&de[++D]===de[++K]&&de[++D]===de[++K]&&de[++D]===de[++K]&&de[++D]===de[++K]&&de[++D]===de[++K]&&de[++D]===de[++K]&&de[++D]===de[++K]&&D<Ne);if(R=U-(Ne-D),D=Ne-U,oe<R){if(b.match_start=te,ue<=(oe=R))break;Xe=de[D+oe-1],Le=de[D+oe]}}while((te=pe[te&Ee])>V&&--T!=0);return oe<=b.lookahead?oe:b.lookahead}function ie(b){var te,K,R,T,D,oe,ue,V,de,Ee,pe=b.w_size;do{if(T=b.window_size-b.lookahead-b.strstart,b.strstart>=pe+(pe-se)){for(o.arraySet(b.window,b.window,pe,pe,0),b.match_start-=pe,b.strstart-=pe,b.block_start-=pe,te=K=b.hash_size;R=b.head[--te],b.head[te]=pe<=R?R-pe:0,--K;);for(te=K=pe;R=b.prev[--te],b.prev[te]=pe<=R?R-pe:0,--K;);T+=pe}if(b.strm.avail_in===0)break;if(oe=b.strm,ue=b.window,V=b.strstart+b.lookahead,de=T,Ee=void 0,Ee=oe.avail_in,de<Ee&&(Ee=de),K=Ee===0?0:(oe.avail_in-=Ee,o.arraySet(ue,oe.input,oe.next_in,Ee,V),oe.state.wrap===1?oe.adler=l(oe.adler,ue,Ee,V):oe.state.wrap===2&&(oe.adler=u(oe.adler,ue,Ee,V)),oe.next_in+=Ee,oe.total_in+=Ee,Ee),b.lookahead+=K,b.lookahead+b.insert>=L)for(D=b.strstart-b.insert,b.ins_h=b.window[D],b.ins_h=(b.ins_h<<b.hash_shift^b.window[D+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[D+L-1])&b.hash_mask,b.prev[D&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=D,D++,b.insert--,!(b.lookahead+b.insert<L)););}while(b.lookahead<se&&b.strm.avail_in!==0)}function Z(b,te){for(var K,R;;){if(b.lookahead<se){if(ie(b),b.lookahead<se&&te===c)return v;if(b.lookahead===0)break}if(K=0,b.lookahead>=L&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+L-1])&b.hash_mask,K=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),K!==0&&b.strstart-K<=b.w_size-se&&(b.match_length=me(b,K)),b.match_length>=L)if(R=a._tr_tally(b,b.strstart-b.match_start,b.match_length-L),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=L){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+L-1])&b.hash_mask,K=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else R=a._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(R&&(j(b,!1),b.strm.avail_out===0))return v}return b.insert=b.strstart<L-1?b.strstart:L-1,te===h?(j(b,!0),b.strm.avail_out===0?_e:z):b.last_lit&&(j(b,!1),b.strm.avail_out===0)?v:q}function Ae(b,te){for(var K,R,T;;){if(b.lookahead<se){if(ie(b),b.lookahead<se&&te===c)return v;if(b.lookahead===0)break}if(K=0,b.lookahead>=L&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+L-1])&b.hash_mask,K=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=L-1,K!==0&&b.prev_length<b.max_lazy_match&&b.strstart-K<=b.w_size-se&&(b.match_length=me(b,K),b.match_length<=5&&(b.strategy===1||b.match_length===L&&4096<b.strstart-b.match_start)&&(b.match_length=L-1)),b.prev_length>=L&&b.match_length<=b.prev_length){for(T=b.strstart+b.lookahead-L,R=a._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-L),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=T&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+L-1])&b.hash_mask,K=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=L-1,b.strstart++,R&&(j(b,!1),b.strm.avail_out===0))return v}else if(b.match_available){if((R=a._tr_tally(b,0,b.window[b.strstart-1]))&&j(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return v}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(R=a._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<L-1?b.strstart:L-1,te===h?(j(b,!0),b.strm.avail_out===0?_e:z):b.last_lit&&(j(b,!1),b.strm.avail_out===0)?v:q}function J(b,te,K,R,T){this.good_length=b,this.max_lazy=te,this.nice_length=K,this.max_chain=R,this.func=T}function Fe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*A),this.dyn_dtree=new o.Buf16(2*(2*P+1)),this.bl_tree=new o.Buf16(2*(2*C+1)),ye(this.dyn_ltree),ye(this.dyn_dtree),ye(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(O+1),this.heap=new o.Buf16(2*y+1),ye(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*y+1),ye(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function De(b){var te;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=_,(te=b.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?F:I,b.adler=te.wrap===2?0:1,te.last_flush=c,a._tr_init(te),m):he(b,d)}function Ve(b){var te=De(b);return te===m&&function(K){K.window_size=2*K.w_size,ye(K.head),K.max_lazy_match=s[K.level].max_lazy,K.good_match=s[K.level].good_length,K.nice_match=s[K.level].nice_length,K.max_chain_length=s[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=L-1,K.match_available=0,K.ins_h=0}(b.state),te}function at(b,te,K,R,T,D){if(!b)return d;var oe=1;if(te===p&&(te=6),R<0?(oe=0,R=-R):15<R&&(oe=2,R-=16),T<1||k<T||K!==$||R<8||15<R||te<0||9<te||D<0||g<D)return he(b,d);R===8&&(R=9);var ue=new Fe;return(b.state=ue).strm=b,ue.wrap=oe,ue.gzhead=null,ue.w_bits=R,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=T+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+L-1)/L),ue.window=new o.Buf8(2*ue.w_size),ue.head=new o.Buf16(ue.hash_size),ue.prev=new o.Buf16(ue.w_size),ue.lit_bufsize=1<<T+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new o.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=te,ue.strategy=D,ue.method=K,Ve(b)}s=[new J(0,0,0,0,function(b,te){var K=65535;for(K>b.pending_buf_size-5&&(K=b.pending_buf_size-5);;){if(b.lookahead<=1){if(ie(b),b.lookahead===0&&te===c)return v;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var R=b.block_start+K;if((b.strstart===0||b.strstart>=R)&&(b.lookahead=b.strstart-R,b.strstart=R,j(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-se&&(j(b,!1),b.strm.avail_out===0))return v}return b.insert=0,te===h?(j(b,!0),b.strm.avail_out===0?_e:z):(b.strstart>b.block_start&&(j(b,!1),b.strm.avail_out),v)}),new J(4,4,8,4,Z),new J(4,5,16,8,Z),new J(4,6,32,32,Z),new J(4,4,16,16,Ae),new J(8,16,32,32,Ae),new J(8,16,128,128,Ae),new J(8,32,128,256,Ae),new J(32,128,258,1024,Ae),new J(32,258,258,4096,Ae)],i.deflateInit=function(b,te){return at(b,te,$,15,8,0)},i.deflateInit2=at,i.deflateReset=Ve,i.deflateResetKeep=De,i.deflateSetHeader=function(b,te){return b&&b.state?b.state.wrap!==2?d:(b.state.gzhead=te,m):d},i.deflate=function(b,te){var K,R,T,D;if(!b||!b.state||5<te||te<0)return b?he(b,d):d;if(R=b.state,!b.output||!b.input&&b.avail_in!==0||R.status===666&&te!==h)return he(b,b.avail_out===0?-5:d);if(R.strm=b,K=R.last_flush,R.last_flush=te,R.status===F)if(R.wrap===2)b.adler=0,Y(R,31),Y(R,139),Y(R,8),R.gzhead?(Y(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),Y(R,255&R.gzhead.time),Y(R,R.gzhead.time>>8&255),Y(R,R.gzhead.time>>16&255),Y(R,R.gzhead.time>>24&255),Y(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),Y(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(Y(R,255&R.gzhead.extra.length),Y(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(b.adler=u(b.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(Y(R,0),Y(R,0),Y(R,0),Y(R,0),Y(R,0),Y(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),Y(R,3),R.status=I);else{var oe=$+(R.w_bits-8<<4)<<8;oe|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(oe|=32),oe+=31-oe%31,R.status=I,Q(R,oe),R.strstart!==0&&(Q(R,b.adler>>>16),Q(R,65535&b.adler)),b.adler=1}if(R.status===69)if(R.gzhead.extra){for(T=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>T&&(b.adler=u(b.adler,R.pending_buf,R.pending-T,T)),H(b),T=R.pending,R.pending!==R.pending_buf_size));)Y(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>T&&(b.adler=u(b.adler,R.pending_buf,R.pending-T,T)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){T=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>T&&(b.adler=u(b.adler,R.pending_buf,R.pending-T,T)),H(b),T=R.pending,R.pending===R.pending_buf_size)){D=1;break}D=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,Y(R,D)}while(D!==0);R.gzhead.hcrc&&R.pending>T&&(b.adler=u(b.adler,R.pending_buf,R.pending-T,T)),D===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){T=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>T&&(b.adler=u(b.adler,R.pending_buf,R.pending-T,T)),H(b),T=R.pending,R.pending===R.pending_buf_size)){D=1;break}D=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,Y(R,D)}while(D!==0);R.gzhead.hcrc&&R.pending>T&&(b.adler=u(b.adler,R.pending_buf,R.pending-T,T)),D===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&H(b),R.pending+2<=R.pending_buf_size&&(Y(R,255&b.adler),Y(R,b.adler>>8&255),b.adler=0,R.status=I)):R.status=I),R.pending!==0){if(H(b),b.avail_out===0)return R.last_flush=-1,m}else if(b.avail_in===0&&ee(te)<=ee(K)&&te!==h)return he(b,-5);if(R.status===666&&b.avail_in!==0)return he(b,-5);if(b.avail_in!==0||R.lookahead!==0||te!==c&&R.status!==666){var ue=R.strategy===2?function(V,de){for(var Ee;;){if(V.lookahead===0&&(ie(V),V.lookahead===0)){if(de===c)return v;break}if(V.match_length=0,Ee=a._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++,Ee&&(j(V,!1),V.strm.avail_out===0))return v}return V.insert=0,de===h?(j(V,!0),V.strm.avail_out===0?_e:z):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?v:q}(R,te):R.strategy===3?function(V,de){for(var Ee,pe,Ne,Xe,Le=V.window;;){if(V.lookahead<=U){if(ie(V),V.lookahead<=U&&de===c)return v;if(V.lookahead===0)break}if(V.match_length=0,V.lookahead>=L&&0<V.strstart&&(pe=Le[Ne=V.strstart-1])===Le[++Ne]&&pe===Le[++Ne]&&pe===Le[++Ne]){Xe=V.strstart+U;do;while(pe===Le[++Ne]&&pe===Le[++Ne]&&pe===Le[++Ne]&&pe===Le[++Ne]&&pe===Le[++Ne]&&pe===Le[++Ne]&&pe===Le[++Ne]&&pe===Le[++Ne]&&Ne<Xe);V.match_length=U-(Xe-Ne),V.match_length>V.lookahead&&(V.match_length=V.lookahead)}if(V.match_length>=L?(Ee=a._tr_tally(V,1,V.match_length-L),V.lookahead-=V.match_length,V.strstart+=V.match_length,V.match_length=0):(Ee=a._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++),Ee&&(j(V,!1),V.strm.avail_out===0))return v}return V.insert=0,de===h?(j(V,!0),V.strm.avail_out===0?_e:z):V.last_lit&&(j(V,!1),V.strm.avail_out===0)?v:q}(R,te):s[R.level].func(R,te);if(ue!==_e&&ue!==z||(R.status=666),ue===v||ue===_e)return b.avail_out===0&&(R.last_flush=-1),m;if(ue===q&&(te===1?a._tr_align(R):te!==5&&(a._tr_stored_block(R,0,0,!1),te===3&&(ye(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),H(b),b.avail_out===0))return R.last_flush=-1,m}return te!==h?m:R.wrap<=0?1:(R.wrap===2?(Y(R,255&b.adler),Y(R,b.adler>>8&255),Y(R,b.adler>>16&255),Y(R,b.adler>>24&255),Y(R,255&b.total_in),Y(R,b.total_in>>8&255),Y(R,b.total_in>>16&255),Y(R,b.total_in>>24&255)):(Q(R,b.adler>>>16),Q(R,65535&b.adler)),H(b),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?m:1)},i.deflateEnd=function(b){var te;return b&&b.state?(te=b.state.status)!==F&&te!==69&&te!==73&&te!==91&&te!==103&&te!==I&&te!==666?he(b,d):(b.state=null,te===I?he(b,-3):m):d},i.deflateSetDictionary=function(b,te){var K,R,T,D,oe,ue,V,de,Ee=te.length;if(!b||!b.state||(D=(K=b.state).wrap)===2||D===1&&K.status!==F||K.lookahead)return d;for(D===1&&(b.adler=l(b.adler,te,Ee,0)),K.wrap=0,Ee>=K.w_size&&(D===0&&(ye(K.head),K.strstart=0,K.block_start=0,K.insert=0),de=new o.Buf8(K.w_size),o.arraySet(de,te,Ee-K.w_size,K.w_size,0),te=de,Ee=K.w_size),oe=b.avail_in,ue=b.next_in,V=b.input,b.avail_in=Ee,b.next_in=0,b.input=te,ie(K);K.lookahead>=L;){for(R=K.strstart,T=K.lookahead-(L-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[R+L-1])&K.hash_mask,K.prev[R&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=R,R++,--T;);K.strstart=R,K.lookahead=L-1,ie(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=L-1,K.match_available=0,b.next_in=ue,b.input=V,b.avail_in=oe,K.wrap=D,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(s,o){var a,l,u,f,c,h,m,d,p,g,_,$,k,y,P,C,A,O,L,U,se,F,I,v,q;a=s.state,l=s.next_in,v=s.input,u=l+(s.avail_in-5),f=s.next_out,q=s.output,c=f-(o-s.avail_out),h=f+(s.avail_out-257),m=a.dmax,d=a.wsize,p=a.whave,g=a.wnext,_=a.window,$=a.hold,k=a.bits,y=a.lencode,P=a.distcode,C=(1<<a.lenbits)-1,A=(1<<a.distbits)-1;e:do{k<15&&($+=v[l++]<<k,k+=8,$+=v[l++]<<k,k+=8),O=y[$&C];t:for(;;){if($>>>=L=O>>>24,k-=L,(L=O>>>16&255)===0)q[f++]=65535&O;else{if(!(16&L)){if(!(64&L)){O=y[(65535&O)+($&(1<<L)-1)];continue t}if(32&L){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}U=65535&O,(L&=15)&&(k<L&&($+=v[l++]<<k,k+=8),U+=$&(1<<L)-1,$>>>=L,k-=L),k<15&&($+=v[l++]<<k,k+=8,$+=v[l++]<<k,k+=8),O=P[$&A];n:for(;;){if($>>>=L=O>>>24,k-=L,!(16&(L=O>>>16&255))){if(!(64&L)){O=P[(65535&O)+($&(1<<L)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(se=65535&O,k<(L&=15)&&($+=v[l++]<<k,(k+=8)<L&&($+=v[l++]<<k,k+=8)),m<(se+=$&(1<<L)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if($>>>=L,k-=L,(L=f-c)<se){if(p<(L=se-L)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(I=_,(F=0)===g){if(F+=d-L,L<U){for(U-=L;q[f++]=_[F++],--L;);F=f-se,I=q}}else if(g<L){if(F+=d+g-L,(L-=g)<U){for(U-=L;q[f++]=_[F++],--L;);if(F=0,g<U){for(U-=L=g;q[f++]=_[F++],--L;);F=f-se,I=q}}}else if(F+=g-L,L<U){for(U-=L;q[f++]=_[F++],--L;);F=f-se,I=q}for(;2<U;)q[f++]=I[F++],q[f++]=I[F++],q[f++]=I[F++],U-=3;U&&(q[f++]=I[F++],1<U&&(q[f++]=I[F++]))}else{for(F=f-se;q[f++]=q[F++],q[f++]=q[F++],q[f++]=q[F++],2<(U-=3););U&&(q[f++]=q[F++],1<U&&(q[f++]=q[F++]))}break}}break}}while(l<u&&f<h);l-=U=k>>3,$&=(1<<(k-=U<<3))-1,s.next_in=l,s.next_out=f,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=f<h?h-f+257:257-(f-h),a.hold=$,a.bits=k}},{}],49:[function(t,n,i){var s=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),l=t("./inffast"),u=t("./inftrees"),f=1,c=2,h=0,m=-2,d=1,p=852,g=592;function _(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(F){var I;return F&&F.state?(I=F.state,F.total_in=F.total_out=I.total=0,F.msg="",I.wrap&&(F.adler=1&I.wrap),I.mode=d,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new s.Buf32(p),I.distcode=I.distdyn=new s.Buf32(g),I.sane=1,I.back=-1,h):m}function y(F){var I;return F&&F.state?((I=F.state).wsize=0,I.whave=0,I.wnext=0,k(F)):m}function P(F,I){var v,q;return F&&F.state?(q=F.state,I<0?(v=0,I=-I):(v=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?m:(q.window!==null&&q.wbits!==I&&(q.window=null),q.wrap=v,q.wbits=I,y(F))):m}function C(F,I){var v,q;return F?(q=new $,(F.state=q).window=null,(v=P(F,I))!==h&&(F.state=null),v):m}var A,O,L=!0;function U(F){if(L){var I;for(A=new s.Buf32(512),O=new s.Buf32(32),I=0;I<144;)F.lens[I++]=8;for(;I<256;)F.lens[I++]=9;for(;I<280;)F.lens[I++]=7;for(;I<288;)F.lens[I++]=8;for(u(f,F.lens,0,288,A,0,F.work,{bits:9}),I=0;I<32;)F.lens[I++]=5;u(c,F.lens,0,32,O,0,F.work,{bits:5}),L=!1}F.lencode=A,F.lenbits=9,F.distcode=O,F.distbits=5}function se(F,I,v,q){var _e,z=F.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new s.Buf8(z.wsize)),q>=z.wsize?(s.arraySet(z.window,I,v-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(q<(_e=z.wsize-z.wnext)&&(_e=q),s.arraySet(z.window,I,v-q,_e,z.wnext),(q-=_e)?(s.arraySet(z.window,I,v-q,q,0),z.wnext=q,z.whave=z.wsize):(z.wnext+=_e,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=_e))),0}i.inflateReset=y,i.inflateReset2=P,i.inflateResetKeep=k,i.inflateInit=function(F){return C(F,15)},i.inflateInit2=C,i.inflate=function(F,I){var v,q,_e,z,he,ee,ye,H,j,Y,Q,me,ie,Z,Ae,J,Fe,De,Ve,at,b,te,K,R,T=0,D=new s.Buf8(4),oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return m;(v=F.state).mode===12&&(v.mode=13),he=F.next_out,_e=F.output,ye=F.avail_out,z=F.next_in,q=F.input,ee=F.avail_in,H=v.hold,j=v.bits,Y=ee,Q=ye,te=h;e:for(;;)switch(v.mode){case d:if(v.wrap===0){v.mode=13;break}for(;j<16;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}if(2&v.wrap&&H===35615){D[v.check=0]=255&H,D[1]=H>>>8&255,v.check=a(v.check,D,2,0),j=H=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&H)<<8)+(H>>8))%31){F.msg="incorrect header check",v.mode=30;break}if((15&H)!=8){F.msg="unknown compression method",v.mode=30;break}if(j-=4,b=8+(15&(H>>>=4)),v.wbits===0)v.wbits=b;else if(b>v.wbits){F.msg="invalid window size",v.mode=30;break}v.dmax=1<<b,F.adler=v.check=1,v.mode=512&H?10:12,j=H=0;break;case 2:for(;j<16;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}if(v.flags=H,(255&v.flags)!=8){F.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){F.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=H>>8&1),512&v.flags&&(D[0]=255&H,D[1]=H>>>8&255,v.check=a(v.check,D,2,0)),j=H=0,v.mode=3;case 3:for(;j<32;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}v.head&&(v.head.time=H),512&v.flags&&(D[0]=255&H,D[1]=H>>>8&255,D[2]=H>>>16&255,D[3]=H>>>24&255,v.check=a(v.check,D,4,0)),j=H=0,v.mode=4;case 4:for(;j<16;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}v.head&&(v.head.xflags=255&H,v.head.os=H>>8),512&v.flags&&(D[0]=255&H,D[1]=H>>>8&255,v.check=a(v.check,D,2,0)),j=H=0,v.mode=5;case 5:if(1024&v.flags){for(;j<16;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}v.length=H,v.head&&(v.head.extra_len=H),512&v.flags&&(D[0]=255&H,D[1]=H>>>8&255,v.check=a(v.check,D,2,0)),j=H=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(ee<(me=v.length)&&(me=ee),me&&(v.head&&(b=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),s.arraySet(v.head.extra,q,z,me,b)),512&v.flags&&(v.check=a(v.check,q,me,z)),ee-=me,z+=me,v.length-=me),v.length))break e;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(ee===0)break e;for(me=0;b=q[z+me++],v.head&&b&&v.length<65536&&(v.head.name+=String.fromCharCode(b)),b&&me<ee;);if(512&v.flags&&(v.check=a(v.check,q,me,z)),ee-=me,z+=me,b)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(ee===0)break e;for(me=0;b=q[z+me++],v.head&&b&&v.length<65536&&(v.head.comment+=String.fromCharCode(b)),b&&me<ee;);if(512&v.flags&&(v.check=a(v.check,q,me,z)),ee-=me,z+=me,b)break e}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;j<16;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}if(H!==(65535&v.check)){F.msg="header crc mismatch",v.mode=30;break}j=H=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),F.adler=v.check=0,v.mode=12;break;case 10:for(;j<32;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}F.adler=v.check=_(H),j=H=0,v.mode=11;case 11:if(v.havedict===0)return F.next_out=he,F.avail_out=ye,F.next_in=z,F.avail_in=ee,v.hold=H,v.bits=j,2;F.adler=v.check=1,v.mode=12;case 12:if(I===5||I===6)break e;case 13:if(v.last){H>>>=7&j,j-=7&j,v.mode=27;break}for(;j<3;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}switch(v.last=1&H,j-=1,3&(H>>>=1)){case 0:v.mode=14;break;case 1:if(U(v),v.mode=20,I!==6)break;H>>>=2,j-=2;break e;case 2:v.mode=17;break;case 3:F.msg="invalid block type",v.mode=30}H>>>=2,j-=2;break;case 14:for(H>>>=7&j,j-=7&j;j<32;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}if((65535&H)!=(H>>>16^65535)){F.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&H,j=H=0,v.mode=15,I===6)break e;case 15:v.mode=16;case 16:if(me=v.length){if(ee<me&&(me=ee),ye<me&&(me=ye),me===0)break e;s.arraySet(_e,q,z,me,he),ee-=me,z+=me,ye-=me,he+=me,v.length-=me;break}v.mode=12;break;case 17:for(;j<14;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}if(v.nlen=257+(31&H),H>>>=5,j-=5,v.ndist=1+(31&H),H>>>=5,j-=5,v.ncode=4+(15&H),H>>>=4,j-=4,286<v.nlen||30<v.ndist){F.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;j<3;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}v.lens[oe[v.have++]]=7&H,H>>>=3,j-=3}for(;v.have<19;)v.lens[oe[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,K={bits:v.lenbits},te=u(0,v.lens,0,19,v.lencode,0,v.work,K),v.lenbits=K.bits,te){F.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;J=(T=v.lencode[H&(1<<v.lenbits)-1])>>>16&255,Fe=65535&T,!((Ae=T>>>24)<=j);){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}if(Fe<16)H>>>=Ae,j-=Ae,v.lens[v.have++]=Fe;else{if(Fe===16){for(R=Ae+2;j<R;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}if(H>>>=Ae,j-=Ae,v.have===0){F.msg="invalid bit length repeat",v.mode=30;break}b=v.lens[v.have-1],me=3+(3&H),H>>>=2,j-=2}else if(Fe===17){for(R=Ae+3;j<R;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}j-=Ae,b=0,me=3+(7&(H>>>=Ae)),H>>>=3,j-=3}else{for(R=Ae+7;j<R;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}j-=Ae,b=0,me=11+(127&(H>>>=Ae)),H>>>=7,j-=7}if(v.have+me>v.nlen+v.ndist){F.msg="invalid bit length repeat",v.mode=30;break}for(;me--;)v.lens[v.have++]=b}}if(v.mode===30)break;if(v.lens[256]===0){F.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,K={bits:v.lenbits},te=u(f,v.lens,0,v.nlen,v.lencode,0,v.work,K),v.lenbits=K.bits,te){F.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,K={bits:v.distbits},te=u(c,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,K),v.distbits=K.bits,te){F.msg="invalid distances set",v.mode=30;break}if(v.mode=20,I===6)break e;case 20:v.mode=21;case 21:if(6<=ee&&258<=ye){F.next_out=he,F.avail_out=ye,F.next_in=z,F.avail_in=ee,v.hold=H,v.bits=j,l(F,Q),he=F.next_out,_e=F.output,ye=F.avail_out,z=F.next_in,q=F.input,ee=F.avail_in,H=v.hold,j=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;J=(T=v.lencode[H&(1<<v.lenbits)-1])>>>16&255,Fe=65535&T,!((Ae=T>>>24)<=j);){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}if(J&&!(240&J)){for(De=Ae,Ve=J,at=Fe;J=(T=v.lencode[at+((H&(1<<De+Ve)-1)>>De)])>>>16&255,Fe=65535&T,!(De+(Ae=T>>>24)<=j);){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}H>>>=De,j-=De,v.back+=De}if(H>>>=Ae,j-=Ae,v.back+=Ae,v.length=Fe,J===0){v.mode=26;break}if(32&J){v.back=-1,v.mode=12;break}if(64&J){F.msg="invalid literal/length code",v.mode=30;break}v.extra=15&J,v.mode=22;case 22:if(v.extra){for(R=v.extra;j<R;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}v.length+=H&(1<<v.extra)-1,H>>>=v.extra,j-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;J=(T=v.distcode[H&(1<<v.distbits)-1])>>>16&255,Fe=65535&T,!((Ae=T>>>24)<=j);){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}if(!(240&J)){for(De=Ae,Ve=J,at=Fe;J=(T=v.distcode[at+((H&(1<<De+Ve)-1)>>De)])>>>16&255,Fe=65535&T,!(De+(Ae=T>>>24)<=j);){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}H>>>=De,j-=De,v.back+=De}if(H>>>=Ae,j-=Ae,v.back+=Ae,64&J){F.msg="invalid distance code",v.mode=30;break}v.offset=Fe,v.extra=15&J,v.mode=24;case 24:if(v.extra){for(R=v.extra;j<R;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}v.offset+=H&(1<<v.extra)-1,H>>>=v.extra,j-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){F.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(ye===0)break e;if(me=Q-ye,v.offset>me){if((me=v.offset-me)>v.whave&&v.sane){F.msg="invalid distance too far back",v.mode=30;break}ie=me>v.wnext?(me-=v.wnext,v.wsize-me):v.wnext-me,me>v.length&&(me=v.length),Z=v.window}else Z=_e,ie=he-v.offset,me=v.length;for(ye<me&&(me=ye),ye-=me,v.length-=me;_e[he++]=Z[ie++],--me;);v.length===0&&(v.mode=21);break;case 26:if(ye===0)break e;_e[he++]=v.length,ye--,v.mode=21;break;case 27:if(v.wrap){for(;j<32;){if(ee===0)break e;ee--,H|=q[z++]<<j,j+=8}if(Q-=ye,F.total_out+=Q,v.total+=Q,Q&&(F.adler=v.check=v.flags?a(v.check,_e,Q,he-Q):o(v.check,_e,Q,he-Q)),Q=ye,(v.flags?H:_(H))!==v.check){F.msg="incorrect data check",v.mode=30;break}j=H=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;j<32;){if(ee===0)break e;ee--,H+=q[z++]<<j,j+=8}if(H!==(4294967295&v.total)){F.msg="incorrect length check",v.mode=30;break}j=H=0}v.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return m}return F.next_out=he,F.avail_out=ye,F.next_in=z,F.avail_in=ee,v.hold=H,v.bits=j,(v.wsize||Q!==F.avail_out&&v.mode<30&&(v.mode<27||I!==4))&&se(F,F.output,F.next_out,Q-F.avail_out)?(v.mode=31,-4):(Y-=F.avail_in,Q-=F.avail_out,F.total_in+=Y,F.total_out+=Q,v.total+=Q,v.wrap&&Q&&(F.adler=v.check=v.flags?a(v.check,_e,Q,F.next_out-Q):o(v.check,_e,Q,F.next_out-Q)),F.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(Y==0&&Q===0||I===4)&&te===h&&(te=-5),te)},i.inflateEnd=function(F){if(!F||!F.state)return m;var I=F.state;return I.window&&(I.window=null),F.state=null,h},i.inflateGetHeader=function(F,I){var v;return F&&F.state&&2&(v=F.state).wrap?((v.head=I).done=!1,h):m},i.inflateSetDictionary=function(F,I){var v,q=I.length;return F&&F.state?(v=F.state).wrap!==0&&v.mode!==11?m:v.mode===11&&o(1,I,q,0)!==v.check?-3:se(F,I,q,q)?(v.mode=31,-4):(v.havedict=1,h):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,c,h,m,d,p,g,_){var $,k,y,P,C,A,O,L,U,se=_.bits,F=0,I=0,v=0,q=0,_e=0,z=0,he=0,ee=0,ye=0,H=0,j=null,Y=0,Q=new s.Buf16(16),me=new s.Buf16(16),ie=null,Z=0;for(F=0;F<=15;F++)Q[F]=0;for(I=0;I<m;I++)Q[c[h+I]]++;for(_e=se,q=15;1<=q&&Q[q]===0;q--);if(q<_e&&(_e=q),q===0)return d[p++]=20971520,d[p++]=20971520,_.bits=1,0;for(v=1;v<q&&Q[v]===0;v++);for(_e<v&&(_e=v),F=ee=1;F<=15;F++)if(ee<<=1,(ee-=Q[F])<0)return-1;if(0<ee&&(f===0||q!==1))return-1;for(me[1]=0,F=1;F<15;F++)me[F+1]=me[F]+Q[F];for(I=0;I<m;I++)c[h+I]!==0&&(g[me[c[h+I]]++]=I);if(A=f===0?(j=ie=g,19):f===1?(j=o,Y-=257,ie=a,Z-=257,256):(j=l,ie=u,-1),F=v,C=p,he=I=H=0,y=-1,P=(ye=1<<(z=_e))-1,f===1&&852<ye||f===2&&592<ye)return 1;for(;;){for(O=F-he,U=g[I]<A?(L=0,g[I]):g[I]>A?(L=ie[Z+g[I]],j[Y+g[I]]):(L=96,0),$=1<<F-he,v=k=1<<z;d[C+(H>>he)+(k-=$)]=O<<24|L<<16|U|0,k!==0;);for($=1<<F-1;H&$;)$>>=1;if($!==0?(H&=$-1,H+=$):H=0,I++,--Q[F]==0){if(F===q)break;F=c[h+g[I]]}if(_e<F&&(H&P)!==y){for(he===0&&(he=_e),C+=v,ee=1<<(z=F-he);z+he<q&&!((ee-=Q[z+he])<=0);)z++,ee<<=1;if(ye+=1<<z,f===1&&852<ye||f===2&&592<ye)return 1;d[y=H&P]=_e<<24|z<<16|C-p|0}}return H!==0&&(d[C+H]=F-he<<24|64<<16|0),_.bits=_e,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var s=t("../utils/common"),o=0,a=1;function l(T){for(var D=T.length;0<=--D;)T[D]=0}var u=0,f=29,c=256,h=c+1+f,m=30,d=19,p=2*h+1,g=15,_=16,$=7,k=256,y=16,P=17,C=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=new Array(2*(h+2));l(se);var F=new Array(2*m);l(F);var I=new Array(512);l(I);var v=new Array(256);l(v);var q=new Array(f);l(q);var _e,z,he,ee=new Array(m);function ye(T,D,oe,ue,V){this.static_tree=T,this.extra_bits=D,this.extra_base=oe,this.elems=ue,this.max_length=V,this.has_stree=T&&T.length}function H(T,D){this.dyn_tree=T,this.max_code=0,this.stat_desc=D}function j(T){return T<256?I[T]:I[256+(T>>>7)]}function Y(T,D){T.pending_buf[T.pending++]=255&D,T.pending_buf[T.pending++]=D>>>8&255}function Q(T,D,oe){T.bi_valid>_-oe?(T.bi_buf|=D<<T.bi_valid&65535,Y(T,T.bi_buf),T.bi_buf=D>>_-T.bi_valid,T.bi_valid+=oe-_):(T.bi_buf|=D<<T.bi_valid&65535,T.bi_valid+=oe)}function me(T,D,oe){Q(T,oe[2*D],oe[2*D+1])}function ie(T,D){for(var oe=0;oe|=1&T,T>>>=1,oe<<=1,0<--D;);return oe>>>1}function Z(T,D,oe){var ue,V,de=new Array(g+1),Ee=0;for(ue=1;ue<=g;ue++)de[ue]=Ee=Ee+oe[ue-1]<<1;for(V=0;V<=D;V++){var pe=T[2*V+1];pe!==0&&(T[2*V]=ie(de[pe]++,pe))}}function Ae(T){var D;for(D=0;D<h;D++)T.dyn_ltree[2*D]=0;for(D=0;D<m;D++)T.dyn_dtree[2*D]=0;for(D=0;D<d;D++)T.bl_tree[2*D]=0;T.dyn_ltree[2*k]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function J(T){8<T.bi_valid?Y(T,T.bi_buf):0<T.bi_valid&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function Fe(T,D,oe,ue){var V=2*D,de=2*oe;return T[V]<T[de]||T[V]===T[de]&&ue[D]<=ue[oe]}function De(T,D,oe){for(var ue=T.heap[oe],V=oe<<1;V<=T.heap_len&&(V<T.heap_len&&Fe(D,T.heap[V+1],T.heap[V],T.depth)&&V++,!Fe(D,ue,T.heap[V],T.depth));)T.heap[oe]=T.heap[V],oe=V,V<<=1;T.heap[oe]=ue}function Ve(T,D,oe){var ue,V,de,Ee,pe=0;if(T.last_lit!==0)for(;ue=T.pending_buf[T.d_buf+2*pe]<<8|T.pending_buf[T.d_buf+2*pe+1],V=T.pending_buf[T.l_buf+pe],pe++,ue===0?me(T,V,D):(me(T,(de=v[V])+c+1,D),(Ee=A[de])!==0&&Q(T,V-=q[de],Ee),me(T,de=j(--ue),oe),(Ee=O[de])!==0&&Q(T,ue-=ee[de],Ee)),pe<T.last_lit;);me(T,k,D)}function at(T,D){var oe,ue,V,de=D.dyn_tree,Ee=D.stat_desc.static_tree,pe=D.stat_desc.has_stree,Ne=D.stat_desc.elems,Xe=-1;for(T.heap_len=0,T.heap_max=p,oe=0;oe<Ne;oe++)de[2*oe]!==0?(T.heap[++T.heap_len]=Xe=oe,T.depth[oe]=0):de[2*oe+1]=0;for(;T.heap_len<2;)de[2*(V=T.heap[++T.heap_len]=Xe<2?++Xe:0)]=1,T.depth[V]=0,T.opt_len--,pe&&(T.static_len-=Ee[2*V+1]);for(D.max_code=Xe,oe=T.heap_len>>1;1<=oe;oe--)De(T,de,oe);for(V=Ne;oe=T.heap[1],T.heap[1]=T.heap[T.heap_len--],De(T,de,1),ue=T.heap[1],T.heap[--T.heap_max]=oe,T.heap[--T.heap_max]=ue,de[2*V]=de[2*oe]+de[2*ue],T.depth[V]=(T.depth[oe]>=T.depth[ue]?T.depth[oe]:T.depth[ue])+1,de[2*oe+1]=de[2*ue+1]=V,T.heap[1]=V++,De(T,de,1),2<=T.heap_len;);T.heap[--T.heap_max]=T.heap[1],function(Le,gt){var fn,yt,cn,et,In,hr,Tt=gt.dyn_tree,ni=gt.max_code,Go=gt.stat_desc.static_tree,Ho=gt.stat_desc.has_stree,jo=gt.stat_desc.extra_bits,ri=gt.stat_desc.extra_base,hn=gt.stat_desc.max_length,Cn=0;for(et=0;et<=g;et++)Le.bl_count[et]=0;for(Tt[2*Le.heap[Le.heap_max]+1]=0,fn=Le.heap_max+1;fn<p;fn++)hn<(et=Tt[2*Tt[2*(yt=Le.heap[fn])+1]+1]+1)&&(et=hn,Cn++),Tt[2*yt+1]=et,ni<yt||(Le.bl_count[et]++,In=0,ri<=yt&&(In=jo[yt-ri]),hr=Tt[2*yt],Le.opt_len+=hr*(et+In),Ho&&(Le.static_len+=hr*(Go[2*yt+1]+In)));if(Cn!==0){do{for(et=hn-1;Le.bl_count[et]===0;)et--;Le.bl_count[et]--,Le.bl_count[et+1]+=2,Le.bl_count[hn]--,Cn-=2}while(0<Cn);for(et=hn;et!==0;et--)for(yt=Le.bl_count[et];yt!==0;)ni<(cn=Le.heap[--fn])||(Tt[2*cn+1]!==et&&(Le.opt_len+=(et-Tt[2*cn+1])*Tt[2*cn],Tt[2*cn+1]=et),yt--)}}(T,D),Z(de,Xe,T.bl_count)}function b(T,D,oe){var ue,V,de=-1,Ee=D[1],pe=0,Ne=7,Xe=4;for(Ee===0&&(Ne=138,Xe=3),D[2*(oe+1)+1]=65535,ue=0;ue<=oe;ue++)V=Ee,Ee=D[2*(ue+1)+1],++pe<Ne&&V===Ee||(pe<Xe?T.bl_tree[2*V]+=pe:V!==0?(V!==de&&T.bl_tree[2*V]++,T.bl_tree[2*y]++):pe<=10?T.bl_tree[2*P]++:T.bl_tree[2*C]++,de=V,Xe=(pe=0)===Ee?(Ne=138,3):V===Ee?(Ne=6,3):(Ne=7,4))}function te(T,D,oe){var ue,V,de=-1,Ee=D[1],pe=0,Ne=7,Xe=4;for(Ee===0&&(Ne=138,Xe=3),ue=0;ue<=oe;ue++)if(V=Ee,Ee=D[2*(ue+1)+1],!(++pe<Ne&&V===Ee)){if(pe<Xe)for(;me(T,V,T.bl_tree),--pe!=0;);else V!==0?(V!==de&&(me(T,V,T.bl_tree),pe--),me(T,y,T.bl_tree),Q(T,pe-3,2)):pe<=10?(me(T,P,T.bl_tree),Q(T,pe-3,3)):(me(T,C,T.bl_tree),Q(T,pe-11,7));de=V,Xe=(pe=0)===Ee?(Ne=138,3):V===Ee?(Ne=6,3):(Ne=7,4)}}l(ee);var K=!1;function R(T,D,oe,ue){Q(T,(u<<1)+(ue?1:0),3),function(V,de,Ee,pe){J(V),pe&&(Y(V,Ee),Y(V,~Ee)),s.arraySet(V.pending_buf,V.window,de,Ee,V.pending),V.pending+=Ee}(T,D,oe,!0)}i._tr_init=function(T){K||(function(){var D,oe,ue,V,de,Ee=new Array(g+1);for(V=ue=0;V<f-1;V++)for(q[V]=ue,D=0;D<1<<A[V];D++)v[ue++]=V;for(v[ue-1]=V,V=de=0;V<16;V++)for(ee[V]=de,D=0;D<1<<O[V];D++)I[de++]=V;for(de>>=7;V<m;V++)for(ee[V]=de<<7,D=0;D<1<<O[V]-7;D++)I[256+de++]=V;for(oe=0;oe<=g;oe++)Ee[oe]=0;for(D=0;D<=143;)se[2*D+1]=8,D++,Ee[8]++;for(;D<=255;)se[2*D+1]=9,D++,Ee[9]++;for(;D<=279;)se[2*D+1]=7,D++,Ee[7]++;for(;D<=287;)se[2*D+1]=8,D++,Ee[8]++;for(Z(se,h+1,Ee),D=0;D<m;D++)F[2*D+1]=5,F[2*D]=ie(D,5);_e=new ye(se,A,c+1,h,g),z=new ye(F,O,0,m,g),he=new ye(new Array(0),L,0,d,$)}(),K=!0),T.l_desc=new H(T.dyn_ltree,_e),T.d_desc=new H(T.dyn_dtree,z),T.bl_desc=new H(T.bl_tree,he),T.bi_buf=0,T.bi_valid=0,Ae(T)},i._tr_stored_block=R,i._tr_flush_block=function(T,D,oe,ue){var V,de,Ee=0;0<T.level?(T.strm.data_type===2&&(T.strm.data_type=function(pe){var Ne,Xe=4093624447;for(Ne=0;Ne<=31;Ne++,Xe>>>=1)if(1&Xe&&pe.dyn_ltree[2*Ne]!==0)return o;if(pe.dyn_ltree[18]!==0||pe.dyn_ltree[20]!==0||pe.dyn_ltree[26]!==0)return a;for(Ne=32;Ne<c;Ne++)if(pe.dyn_ltree[2*Ne]!==0)return a;return o}(T)),at(T,T.l_desc),at(T,T.d_desc),Ee=function(pe){var Ne;for(b(pe,pe.dyn_ltree,pe.l_desc.max_code),b(pe,pe.dyn_dtree,pe.d_desc.max_code),at(pe,pe.bl_desc),Ne=d-1;3<=Ne&&pe.bl_tree[2*U[Ne]+1]===0;Ne--);return pe.opt_len+=3*(Ne+1)+5+5+4,Ne}(T),V=T.opt_len+3+7>>>3,(de=T.static_len+3+7>>>3)<=V&&(V=de)):V=de=oe+5,oe+4<=V&&D!==-1?R(T,D,oe,ue):T.strategy===4||de===V?(Q(T,2+(ue?1:0),3),Ve(T,se,F)):(Q(T,4+(ue?1:0),3),function(pe,Ne,Xe,Le){var gt;for(Q(pe,Ne-257,5),Q(pe,Xe-1,5),Q(pe,Le-4,4),gt=0;gt<Le;gt++)Q(pe,pe.bl_tree[2*U[gt]+1],3);te(pe,pe.dyn_ltree,Ne-1),te(pe,pe.dyn_dtree,Xe-1)}(T,T.l_desc.max_code+1,T.d_desc.max_code+1,Ee+1),Ve(T,T.dyn_ltree,T.dyn_dtree)),Ae(T),ue&&J(T)},i._tr_tally=function(T,D,oe){return T.pending_buf[T.d_buf+2*T.last_lit]=D>>>8&255,T.pending_buf[T.d_buf+2*T.last_lit+1]=255&D,T.pending_buf[T.l_buf+T.last_lit]=255&oe,T.last_lit++,D===0?T.dyn_ltree[2*oe]++:(T.matches++,D--,T.dyn_ltree[2*(v[oe]+c+1)]++,T.dyn_dtree[2*j(D)]++),T.last_lit===T.lit_bufsize-1},i._tr_align=function(T){Q(T,2,3),me(T,k,se),function(D){D.bi_valid===16?(Y(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)}(T)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,f,c,h=1,m={},d=!1,p=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,l={}.toString.call(o.process)==="[object process]"?function(y){process.nextTick(function(){$(y)})}:function(){if(o.postMessage&&!o.importScripts){var y=!0,P=o.onmessage;return o.onmessage=function(){y=!1},o.postMessage("","*"),o.onmessage=P,y}}()?(c="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",k,!1):o.attachEvent("onmessage",k),function(y){o.postMessage(c+y,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(y){$(y.data)},function(y){f.port2.postMessage(y)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(y){var P=p.createElement("script");P.onreadystatechange=function(){$(y),P.onreadystatechange=null,u.removeChild(P),P=null},u.appendChild(P)}):function(y){setTimeout($,0,y)},g.setImmediate=function(y){typeof y!="function"&&(y=new Function(""+y));for(var P=new Array(arguments.length-1),C=0;C<P.length;C++)P[C]=arguments[C+1];var A={callback:y,args:P};return m[h]=A,l(h),h++},g.clearImmediate=_}function _(y){delete m[y]}function $(y){if(d)setTimeout($,0,y);else{var P=m[y];if(P){d=!0;try{(function(C){var A=C.callback,O=C.args;switch(O.length){case 0:A();break;case 1:A(O[0]);break;case 2:A(O[0],O[1]);break;case 3:A(O[0],O[1],O[2]);break;default:A.apply(a,O)}})(P)}finally{_(y),d=!1}}}}function k(y){y.source===o&&typeof y.data=="string"&&y.data.indexOf(c)===0&&$(+y.data.slice(c.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Pn<"u"?Pn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Dd);class Bs{constructor(e){Re(this,"i",0);this.prefix=e}generate(){return`${this.prefix}-${this.i++}`}}function gn(r,e){const t=URL.createObjectURL(r);return e(t).finally(()=>URL.revokeObjectURL(t))}function xs(r){return new Promise((e,t)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=function(){return e(n)},n.onerror=function(){return t(new Error(`Can't load image ${r}`))},n.src=r})}function ts(r){return e=>{const t=document.createElement("a");t.download=r,t.href=URL.createObjectURL(e),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href)}}/* @license twgl.js 5.3.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */let Qn=Float32Array;function Mt(r,e,t){const n=new Qn(3);return r&&(n[0]=r),e&&(n[1]=e),t&&(n[2]=t),n}function Ld(r,e,t){return t=t||new Qn(3),t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function ns(r,e,t){t=t||new Qn(3);const n=r[2]*e[0]-r[0]*e[2],i=r[0]*e[1]-r[1]*e[0];return t[0]=r[1]*e[2]-r[2]*e[1],t[1]=n,t[2]=i,t}function pr(r,e){e=e||new Qn(3);const t=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],n=Math.sqrt(t);return n>1e-5?(e[0]=r[0]/n,e[1]=r[1]/n,e[2]=r[2]/n):(e[0]=0,e[1]=0,e[2]=0),e}let Ye=Float32Array;function Od(r){const e=Ye;return Ye=r,e}function Gd(r,e){return e=e||new Ye(16),e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e[3]=-r[3],e[4]=-r[4],e[5]=-r[5],e[6]=-r[6],e[7]=-r[7],e[8]=-r[8],e[9]=-r[9],e[10]=-r[10],e[11]=-r[11],e[12]=-r[12],e[13]=-r[13],e[14]=-r[14],e[15]=-r[15],e}function Hd(){return new Ye(16).fill(0)}function Ms(r,e){return e=e||new Ye(16),e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}function zs(r){return r=r||new Ye(16),r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function jd(r,e){if(e=e||new Ye(16),e===r){let $;return $=r[1],r[1]=r[4],r[4]=$,$=r[2],r[2]=r[8],r[8]=$,$=r[3],r[3]=r[12],r[12]=$,$=r[6],r[6]=r[9],r[9]=$,$=r[7],r[7]=r[13],r[13]=$,$=r[11],r[11]=r[14],r[14]=$,e}const t=r[0*4+0],n=r[0*4+1],i=r[0*4+2],s=r[0*4+3],o=r[1*4+0],a=r[1*4+1],l=r[1*4+2],u=r[1*4+3],f=r[2*4+0],c=r[2*4+1],h=r[2*4+2],m=r[2*4+3],d=r[3*4+0],p=r[3*4+1],g=r[3*4+2],_=r[3*4+3];return e[0]=t,e[1]=o,e[2]=f,e[3]=d,e[4]=n,e[5]=a,e[6]=c,e[7]=p,e[8]=i,e[9]=l,e[10]=h,e[11]=g,e[12]=s,e[13]=u,e[14]=m,e[15]=_,e}function Us(r,e){e=e||new Ye(16);const t=r[0*4+0],n=r[0*4+1],i=r[0*4+2],s=r[0*4+3],o=r[1*4+0],a=r[1*4+1],l=r[1*4+2],u=r[1*4+3],f=r[2*4+0],c=r[2*4+1],h=r[2*4+2],m=r[2*4+3],d=r[3*4+0],p=r[3*4+1],g=r[3*4+2],_=r[3*4+3],$=h*_,k=g*m,y=l*_,P=g*u,C=l*m,A=h*u,O=i*_,L=g*s,U=i*m,se=h*s,F=i*u,I=l*s,v=f*p,q=d*c,_e=o*p,z=d*a,he=o*c,ee=f*a,ye=t*p,H=d*n,j=t*c,Y=f*n,Q=t*a,me=o*n,ie=$*a+P*c+C*p-(k*a+y*c+A*p),Z=k*n+O*c+se*p-($*n+L*c+U*p),Ae=y*n+L*a+F*p-(P*n+O*a+I*p),J=A*n+U*a+I*c-(C*n+se*a+F*c),Fe=1/(t*ie+o*Z+f*Ae+d*J);return e[0]=Fe*ie,e[1]=Fe*Z,e[2]=Fe*Ae,e[3]=Fe*J,e[4]=Fe*(k*o+y*f+A*d-($*o+P*f+C*d)),e[5]=Fe*($*t+L*f+U*d-(k*t+O*f+se*d)),e[6]=Fe*(P*t+O*o+I*d-(y*t+L*o+F*d)),e[7]=Fe*(C*t+se*o+F*f-(A*t+U*o+I*f)),e[8]=Fe*(v*u+z*m+he*_-(q*u+_e*m+ee*_)),e[9]=Fe*(q*s+ye*m+Y*_-(v*s+H*m+j*_)),e[10]=Fe*(_e*s+H*u+Q*_-(z*s+ye*u+me*_)),e[11]=Fe*(ee*s+j*u+me*m-(he*s+Y*u+Q*m)),e[12]=Fe*(_e*h+ee*g+q*l-(he*g+v*l+z*h)),e[13]=Fe*(j*g+v*i+H*h-(ye*h+Y*g+q*i)),e[14]=Fe*(ye*l+me*g+z*i-(Q*g+_e*i+H*l)),e[15]=Fe*(Q*h+he*i+Y*l-(j*l+me*h+ee*i)),e}function Wd(r,e,t){t=t||new Ye(16);const n=r[0],i=r[1],s=r[2],o=r[3],a=r[4+0],l=r[4+1],u=r[4+2],f=r[4+3],c=r[8+0],h=r[8+1],m=r[8+2],d=r[8+3],p=r[12+0],g=r[12+1],_=r[12+2],$=r[12+3],k=e[0],y=e[1],P=e[2],C=e[3],A=e[4+0],O=e[4+1],L=e[4+2],U=e[4+3],se=e[8+0],F=e[8+1],I=e[8+2],v=e[8+3],q=e[12+0],_e=e[12+1],z=e[12+2],he=e[12+3];return t[0]=n*k+a*y+c*P+p*C,t[1]=i*k+l*y+h*P+g*C,t[2]=s*k+u*y+m*P+_*C,t[3]=o*k+f*y+d*P+$*C,t[4]=n*A+a*O+c*L+p*U,t[5]=i*A+l*O+h*L+g*U,t[6]=s*A+u*O+m*L+_*U,t[7]=o*A+f*O+d*L+$*U,t[8]=n*se+a*F+c*I+p*v,t[9]=i*se+l*F+h*I+g*v,t[10]=s*se+u*F+m*I+_*v,t[11]=o*se+f*F+d*I+$*v,t[12]=n*q+a*_e+c*z+p*he,t[13]=i*q+l*_e+h*z+g*he,t[14]=s*q+u*_e+m*z+_*he,t[15]=o*q+f*_e+d*z+$*he,t}function Vd(r,e,t){return t=t||zs(),r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11]),t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Zd(r,e){return e=e||Mt(),e[0]=r[12],e[1]=r[13],e[2]=r[14],e}function Xd(r,e,t){t=t||Mt();const n=e*4;return t[0]=r[n+0],t[1]=r[n+1],t[2]=r[n+2],t}function qd(r,e,t,n){n!==r&&(n=Ms(r,n));const i=t*4;return n[i+0]=e[0],n[i+1]=e[1],n[i+2]=e[2],n}function Yd(r,e,t,n,i){i=i||new Ye(16);const s=Math.tan(Math.PI*.5-.5*r),o=1/(t-n);return i[0]=s/e,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=s,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(t+n)*o,i[11]=-1,i[12]=0,i[13]=0,i[14]=t*n*o*2,i[15]=0,i}function Kd(r,e,t,n,i,s,o){return o=o||new Ye(16),o[0]=2/(e-r),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(n-t),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2/(i-s),o[11]=0,o[12]=(e+r)/(r-e),o[13]=(n+t)/(t-n),o[14]=(s+i)/(i-s),o[15]=1,o}function Jd(r,e,t,n,i,s,o){o=o||new Ye(16);const a=e-r,l=n-t,u=i-s;return o[0]=2*i/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*i/l,o[6]=0,o[7]=0,o[8]=(r+e)/a,o[9]=(n+t)/l,o[10]=s/u,o[11]=-1,o[12]=0,o[13]=0,o[14]=i*s/u,o[15]=0,o}let Nt,Wt,St;function Qd(r,e,t,n){return n=n||new Ye(16),Nt=Nt||Mt(),Wt=Wt||Mt(),St=St||Mt(),pr(Ld(r,e,St),St),pr(ns(t,St,Nt),Nt),pr(ns(St,Nt,Wt),Wt),n[0]=Nt[0],n[1]=Nt[1],n[2]=Nt[2],n[3]=0,n[4]=Wt[0],n[5]=Wt[1],n[6]=Wt[2],n[7]=0,n[8]=St[0],n[9]=St[1],n[10]=St[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function e0(r,e){return e=e||new Ye(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function t0(r,e,t){t=t||new Ye(16);const n=e[0],i=e[1],s=e[2],o=r[0],a=r[1],l=r[2],u=r[3],f=r[1*4+0],c=r[1*4+1],h=r[1*4+2],m=r[1*4+3],d=r[2*4+0],p=r[2*4+1],g=r[2*4+2],_=r[2*4+3],$=r[3*4+0],k=r[3*4+1],y=r[3*4+2],P=r[3*4+3];return r!==t&&(t[0]=o,t[1]=a,t[2]=l,t[3]=u,t[4]=f,t[5]=c,t[6]=h,t[7]=m,t[8]=d,t[9]=p,t[10]=g,t[11]=_),t[12]=o*n+f*i+d*s+$,t[13]=a*n+c*i+p*s+k,t[14]=l*n+h*i+g*s+y,t[15]=u*n+m*i+_*s+P,t}function n0(r,e){e=e||new Ye(16);const t=Math.cos(r),n=Math.sin(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function r0(r,e,t){t=t||new Ye(16);const n=r[4],i=r[5],s=r[6],o=r[7],a=r[8],l=r[9],u=r[10],f=r[11],c=Math.cos(e),h=Math.sin(e);return t[4]=c*n+h*a,t[5]=c*i+h*l,t[6]=c*s+h*u,t[7]=c*o+h*f,t[8]=c*a-h*n,t[9]=c*l-h*i,t[10]=c*u-h*s,t[11]=c*f-h*o,r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function i0(r,e){e=e||new Ye(16);const t=Math.cos(r),n=Math.sin(r);return e[0]=t,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function s0(r,e,t){t=t||new Ye(16);const n=r[0*4+0],i=r[0*4+1],s=r[0*4+2],o=r[0*4+3],a=r[2*4+0],l=r[2*4+1],u=r[2*4+2],f=r[2*4+3],c=Math.cos(e),h=Math.sin(e);return t[0]=c*n-h*a,t[1]=c*i-h*l,t[2]=c*s-h*u,t[3]=c*o-h*f,t[8]=c*a+h*n,t[9]=c*l+h*i,t[10]=c*u+h*s,t[11]=c*f+h*o,r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function o0(r,e){e=e||new Ye(16);const t=Math.cos(r),n=Math.sin(r);return e[0]=t,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function a0(r,e,t){t=t||new Ye(16);const n=r[0*4+0],i=r[0*4+1],s=r[0*4+2],o=r[0*4+3],a=r[1*4+0],l=r[1*4+1],u=r[1*4+2],f=r[1*4+3],c=Math.cos(e),h=Math.sin(e);return t[0]=c*n+h*a,t[1]=c*i+h*l,t[2]=c*s+h*u,t[3]=c*o+h*f,t[4]=c*a-h*n,t[5]=c*l-h*i,t[6]=c*u-h*s,t[7]=c*f-h*o,r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function l0(r,e,t){t=t||new Ye(16);let n=r[0],i=r[1],s=r[2];const o=Math.sqrt(n*n+i*i+s*s);n/=o,i/=o,s/=o;const a=n*n,l=i*i,u=s*s,f=Math.cos(e),c=Math.sin(e),h=1-f;return t[0]=a+(1-a)*f,t[1]=n*i*h+s*c,t[2]=n*s*h-i*c,t[3]=0,t[4]=n*i*h-s*c,t[5]=l+(1-l)*f,t[6]=i*s*h+n*c,t[7]=0,t[8]=n*s*h+i*c,t[9]=i*s*h-n*c,t[10]=u+(1-u)*f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u0(r,e,t,n){n=n||new Ye(16);let i=e[0],s=e[1],o=e[2];const a=Math.sqrt(i*i+s*s+o*o);i/=a,s/=a,o/=a;const l=i*i,u=s*s,f=o*o,c=Math.cos(t),h=Math.sin(t),m=1-c,d=l+(1-l)*c,p=i*s*m+o*h,g=i*o*m-s*h,_=i*s*m-o*h,$=u+(1-u)*c,k=s*o*m+i*h,y=i*o*m+s*h,P=s*o*m-i*h,C=f+(1-f)*c,A=r[0],O=r[1],L=r[2],U=r[3],se=r[4],F=r[5],I=r[6],v=r[7],q=r[8],_e=r[9],z=r[10],he=r[11];return n[0]=d*A+p*se+g*q,n[1]=d*O+p*F+g*_e,n[2]=d*L+p*I+g*z,n[3]=d*U+p*v+g*he,n[4]=_*A+$*se+k*q,n[5]=_*O+$*F+k*_e,n[6]=_*L+$*I+k*z,n[7]=_*U+$*v+k*he,n[8]=y*A+P*se+C*q,n[9]=y*O+P*F+C*_e,n[10]=y*L+P*I+C*z,n[11]=y*U+P*v+C*he,r!==n&&(n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]),n}function f0(r,e){return e=e||new Ye(16),e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c0(r,e,t){t=t||new Ye(16);const n=e[0],i=e[1],s=e[2];return t[0]=n*r[0*4+0],t[1]=n*r[0*4+1],t[2]=n*r[0*4+2],t[3]=n*r[0*4+3],t[4]=i*r[1*4+0],t[5]=i*r[1*4+1],t[6]=i*r[1*4+2],t[7]=i*r[1*4+3],t[8]=s*r[2*4+0],t[9]=s*r[2*4+1],t[10]=s*r[2*4+2],t[11]=s*r[2*4+3],r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t}function h0(r,e,t){t=t||Mt();const n=e[0],i=e[1],s=e[2],o=n*r[0*4+3]+i*r[1*4+3]+s*r[2*4+3]+r[3*4+3];return t[0]=(n*r[0*4+0]+i*r[1*4+0]+s*r[2*4+0]+r[3*4+0])/o,t[1]=(n*r[0*4+1]+i*r[1*4+1]+s*r[2*4+1]+r[3*4+1])/o,t[2]=(n*r[0*4+2]+i*r[1*4+2]+s*r[2*4+2]+r[3*4+2])/o,t}function m0(r,e,t){t=t||Mt();const n=e[0],i=e[1],s=e[2];return t[0]=n*r[0*4+0]+i*r[1*4+0]+s*r[2*4+0],t[1]=n*r[0*4+1]+i*r[1*4+1]+s*r[2*4+1],t[2]=n*r[0*4+2]+i*r[1*4+2]+s*r[2*4+2],t}function d0(r,e,t){t=t||Mt();const n=Us(r),i=e[0],s=e[1],o=e[2];return t[0]=i*n[0*4+0]+s*n[0*4+1]+o*n[0*4+2],t[1]=i*n[1*4+0]+s*n[1*4+1]+o*n[1*4+2],t[2]=i*n[2*4+0]+s*n[2*4+1]+o*n[2*4+2],t}var pt=Object.freeze({__proto__:null,axisRotate:u0,axisRotation:l0,copy:Ms,create:Hd,frustum:Jd,getAxis:Xd,getTranslation:Zd,identity:zs,inverse:Us,lookAt:Qd,multiply:Wd,negate:Gd,ortho:Kd,perspective:Yd,rotateX:r0,rotateY:s0,rotateZ:a0,rotationX:n0,rotationY:i0,rotationZ:o0,scale:c0,scaling:f0,setAxis:qd,setDefaultType:Od,setTranslation:Vd,transformDirection:m0,transformNormal:d0,transformPoint:h0,translate:t0,translation:e0,transpose:jd});const Mr=5120,En=5121,zr=5122,Ur=5123,Dr=5124,Lr=5125,Or=5126,p0=32819,_0=32820,g0=33635,b0=5131,v0=33640,$0=35899,w0=35902,y0=36269,E0=34042,Ds={};{const r=Ds;r[Mr]=Int8Array,r[En]=Uint8Array,r[zr]=Int16Array,r[Ur]=Uint16Array,r[Dr]=Int32Array,r[Lr]=Uint32Array,r[Or]=Float32Array,r[p0]=Uint16Array,r[_0]=Uint16Array,r[g0]=Uint16Array,r[b0]=Uint16Array,r[v0]=Uint32Array,r[$0]=Uint32Array,r[w0]=Uint32Array,r[y0]=Uint32Array,r[E0]=Uint32Array}function Gr(r){if(r instanceof Int8Array)return Mr;if(r instanceof Uint8Array||r instanceof Uint8ClampedArray)return En;if(r instanceof Int16Array)return zr;if(r instanceof Uint16Array)return Ur;if(r instanceof Int32Array)return Dr;if(r instanceof Uint32Array)return Lr;if(r instanceof Float32Array)return Or;throw new Error("unsupported typed array type")}function Ls(r){if(r===Int8Array)return Mr;if(r===Uint8Array||r===Uint8ClampedArray)return En;if(r===Int16Array)return zr;if(r===Uint16Array)return Ur;if(r===Int32Array)return Dr;if(r===Uint32Array)return Lr;if(r===Float32Array)return Or;throw new Error("unsupported typed array type")}function Os(r){const e=Ds[r];if(!e)throw new Error("unknown gl type");return e}const Vn=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function Gs(...r){console.error(...r)}const rs=new Map;function er(r,e){if(!r||typeof r!="object")return!1;let t=rs.get(e);t||(t=new WeakMap,rs.set(e,t));let n=t.get(r);if(n===void 0){const i=Object.prototype.toString.call(r);n=i.substring(8,i.length-1)===e,t.set(r,n)}return n}function k0(r,e){return typeof WebGLBuffer<"u"&&er(e,"WebGLBuffer")}function Hs(r,e){return typeof WebGLRenderbuffer<"u"&&er(e,"WebGLRenderbuffer")}function tr(r,e){return typeof WebGLTexture<"u"&&er(e,"WebGLTexture")}function A0(r,e){return typeof WebGLSampler<"u"&&er(e,"WebGLSampler")}const js=35044,qt=34962,T0=34963,S0=34660,I0=5120,C0=5121,F0=5122,R0=5123,P0=5124,N0=5125,Ws=5126,Vs={attribPrefix:""};function B0(r,e,t,n,i){r.bindBuffer(e,t),r.bufferData(e,n,i||js)}function Zs(r,e,t,n){if(k0(r,e))return e;t=t||qt;const i=r.createBuffer();return B0(r,t,i,e,n),i}function Xs(r){return r==="indices"}function x0(r){return r===Int8Array||r===Uint8Array}function M0(r){return r.length?r:r.data}const z0=/coord|texture/i,U0=/color|colour/i;function D0(r,e){let t;if(z0.test(r)?t=2:U0.test(r)?t=4:t=3,e%t>0)throw new Error(`Can not guess numComponents for attribute '${r}'. Tried ${t} but ${e} values is not evenly divisible by ${t}. You should specify it.`);return t}function L0(r,e,t){return r.numComponents||r.size||D0(e,t||M0(r).length)}function qs(r,e){if(Vn(r))return r;if(Vn(r.data))return r.data;Array.isArray(r)&&(r={data:r});let t=r.type?Hr(r.type):void 0;return t||(Xs(e)?t=Uint16Array:t=Float32Array),new t(r.data)}function O0(r){return typeof r=="number"?r:r?Ls(r):Ws}function Hr(r){return typeof r=="number"?Os(r):r||Float32Array}function G0(r,e){return{buffer:e.buffer,numValues:2*3*4,type:O0(e.type),arrayType:Hr(e.type)}}function H0(r,e){const t=e.data||e,n=Hr(e.type),i=t*n.BYTES_PER_ELEMENT,s=r.createBuffer();return r.bindBuffer(qt,s),r.bufferData(qt,i,e.drawType||js),{buffer:s,numValues:t,type:Ls(n),arrayType:n}}function j0(r,e,t){const n=qs(e,t);return{arrayType:n.constructor,buffer:Zs(r,n,void 0,e.drawType),type:Gr(n),numValues:0}}function W0(r,e){const t={};return Object.keys(e).forEach(function(n){if(!Xs(n)){const i=e[n],s=i.attrib||i.name||i.attribName||Vs.attribPrefix+n;if(i.value){if(!Array.isArray(i.value)&&!Vn(i.value))throw new Error("array.value is not array or typedarray");t[s]={value:i.value}}else{let o;i.buffer&&i.buffer instanceof WebGLBuffer?o=G0:typeof i=="number"||typeof i.data=="number"?o=H0:o=j0;const{buffer:a,type:l,numValues:u,arrayType:f}=o(r,i,n),c=i.normalize!==void 0?i.normalize:x0(f),h=L0(i,n,u);t[s]={buffer:a,numComponents:h,type:l,normalize:c,stride:i.stride||0,offset:i.offset||0,divisor:i.divisor===void 0?void 0:i.divisor,drawType:i.drawType}}}}),r.bindBuffer(qt,null),t}function V0(r,e){return e===I0||e===C0?1:e===F0||e===R0?2:e===P0||e===N0||e===Ws?4:0}const _r=["position","positions","a_position"];function Z0(r,e){let t,n;for(n=0;n<_r.length&&(t=_r[n],!(t in e||(t=Vs.attribPrefix+t,t in e)));++n);n===_r.length&&(t=Object.keys(e)[0]);const i=e[t];if(!i.buffer)return 1;r.bindBuffer(qt,i.buffer);const s=r.getBufferParameter(qt,S0);r.bindBuffer(qt,null);const o=V0(r,i.type),a=s/o,l=i.numComponents||i.size,u=a/l;if(u%1!==0)throw new Error(`numComponents ${l} not correct for length ${length}`);return u}function X0(r,e,t){const n=W0(r,e),i=Object.assign({},t||{});i.attribs=Object.assign({},t?t.attribs:{},n);const s=e.indices;if(s){const o=qs(s,"indices");i.indices=Zs(r,o,T0),i.numElements=o.length,i.elementType=Gr(o)}else i.numElements||(i.numElements=Z0(r,i.attribs));return i}function Tn(r){return!!r.texStorage2D}const Ys=function(){const r={},e={};function t(n){const i=n.constructor.name;if(!r[i]){for(const s in n)if(typeof n[s]=="number"){const o=e[n[s]];e[n[s]]=o?`${o} | ${s}`:s}r[i]=!0}}return function(i,s){return t(i),e[s]||(typeof s=="number"?`0x${s.toString(16)}`:s)}}(),Lt={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},on=Vn,Ks=function(){let r;return function(){return r=r||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),r}}(),is=6406,Et=6407,Je=6408,ss=6409,os=6410,pn=6402,as=34041,Zn=33071,q0=9728,Y0=9729,Rt=3553,Ft=34067,zt=32879,Ut=35866,nr=34069,K0=34070,J0=34071,Q0=34072,ep=34073,tp=34074,Ar=10241,Tr=10240,Xn=10242,qn=10243,ls=32882,np=33082,rp=33083,ip=33084,sp=33085,jr=3317,Js=3314,Qs=32878,eo=3316,to=3315,no=32877,op=37443,ap=37441,lp=37440,up=33321,fp=36756,cp=33325,hp=33326,mp=33330,dp=33329,pp=33338,_p=33337,gp=33340,bp=33339,vp=33323,$p=36757,wp=33327,yp=33328,Ep=33336,kp=33335,Ap=33332,Tp=33331,Sp=33334,Ip=33333,Cp=32849,Fp=35905,Rp=36194,Pp=36758,Np=35898,Bp=35901,xp=34843,Mp=34837,zp=36221,Up=36239,Dp=36215,Lp=36233,Op=36209,Gp=36227,Hp=32856,jp=35907,Wp=36759,Vp=32855,Zp=32854,Xp=32857,qp=34842,Yp=34836,Kp=36220,Jp=36238,Qp=36975,e1=36214,t1=36232,n1=36226,r1=36208,i1=33189,s1=33190,o1=36012,a1=36013,l1=35056,Bt=5120,Ke=5121,Bn=5122,Kt=5123,xn=5124,Vt=5125,lt=5126,us=32819,fs=32820,cs=33635,bt=5131,_n=36193,gr=33640,u1=35899,f1=35902,c1=36269,h1=34042,Mn=33319,Jt=33320,zn=6403,Qt=36244,en=36248,Zt=36249;let br;function rr(r){if(!br){const e={};e[is]={textureFormat:is,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ke,bt,_n,lt]},e[ss]={textureFormat:ss,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ke,bt,_n,lt]},e[os]={textureFormat:os,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Ke,bt,_n,lt]},e[Et]={textureFormat:Et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Ke,bt,_n,lt,cs]},e[Je]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Ke,bt,_n,lt,us,fs]},e[pn]={textureFormat:pn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Vt,Kt]},e[up]={textureFormat:zn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Ke]},e[fp]={textureFormat:zn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Bt]},e[cp]={textureFormat:zn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[lt,bt]},e[hp]={textureFormat:zn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[lt]},e[mp]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Ke]},e[dp]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Bt]},e[Ap]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Kt]},e[Tp]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Bn]},e[Sp]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Vt]},e[Ip]={textureFormat:Qt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[xn]},e[vp]={textureFormat:Mn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Ke]},e[$p]={textureFormat:Mn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Bt]},e[wp]={textureFormat:Mn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[lt,bt]},e[yp]={textureFormat:Mn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[lt]},e[Ep]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ke]},e[kp]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Bt]},e[pp]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Kt]},e[_p]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Bn]},e[gp]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Vt]},e[bp]={textureFormat:Jt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[xn]},e[Cp]={textureFormat:Et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Ke]},e[Fp]={textureFormat:Et,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Ke]},e[Rp]={textureFormat:Et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Ke,cs]},e[Pp]={textureFormat:Et,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Bt]},e[Np]={textureFormat:Et,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[lt,bt,u1]},e[Bp]={textureFormat:Et,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[lt,bt,f1]},e[xp]={textureFormat:Et,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[lt,bt]},e[Mp]={textureFormat:Et,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[lt]},e[zp]={textureFormat:en,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Ke]},e[Up]={textureFormat:en,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Bt]},e[Dp]={textureFormat:en,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Kt]},e[Lp]={textureFormat:en,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Bn]},e[Op]={textureFormat:en,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Vt]},e[Gp]={textureFormat:en,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[xn]},e[Hp]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ke]},e[jp]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ke]},e[Wp]={textureFormat:Je,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Bt]},e[Vp]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Ke,fs,gr]},e[Zp]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Ke,us]},e[Xp]={textureFormat:Je,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[gr]},e[qp]={textureFormat:Je,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[lt,bt]},e[Yp]={textureFormat:Je,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[lt]},e[Kp]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ke]},e[Jp]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Bt]},e[Qp]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[gr]},e[e1]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Kt]},e[t1]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Bn]},e[n1]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[xn]},e[r1]={textureFormat:Zt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Vt]},e[i1]={textureFormat:pn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Kt,Vt]},e[s1]={textureFormat:pn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Vt]},e[o1]={textureFormat:pn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[lt]},e[l1]={textureFormat:as,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[h1]},e[a1]={textureFormat:as,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[c1]},Object.keys(e).forEach(function(t){const n=e[t];n.bytesPerElementMap={},n.bytesPerElement.forEach(function(i,s){const o=n.type[s];n.bytesPerElementMap[o]=i})}),br=e}return br[r]}function m1(r,e){const t=rr(r);if(!t)throw"unknown internal format";const n=t.bytesPerElementMap[e];if(n===void 0)throw"unknown internal format";return n}function un(r){const e=rr(r);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function hs(r){return(r&r-1)===0}function d1(r,e,t,n){if(!Tn(r))return hs(e)&&hs(t);const i=rr(n);if(!i)throw"unknown internal format";return i.colorRenderable&&i.textureFilterable}function p1(r){const e=rr(r);if(!e)throw"unknown internal format";return e.textureFilterable}function ro(r,e,t){return on(e)?Gr(e):t||Ke}function Un(r,e,t,n,i){if(i%1!==0)throw"can't guess dimensions";if(!t&&!n){const s=Math.sqrt(i/(e===Ft?6:1));s%1===0?(t=s,n=s):(t=i,n=1)}else if(n){if(!t&&(t=i/n,t%1))throw"can't guess dimensions"}else if(n=i/t,n%1)throw"can't guess dimensions";return{width:t,height:n}}function an(r,e){e.colorspaceConversion!==void 0&&r.pixelStorei(op,e.colorspaceConversion),e.premultiplyAlpha!==void 0&&r.pixelStorei(ap,e.premultiplyAlpha),e.flipY!==void 0&&r.pixelStorei(lp,e.flipY)}function io(r){r.pixelStorei(jr,4),Tn(r)&&(r.pixelStorei(Js,0),r.pixelStorei(Qs,0),r.pixelStorei(eo,0),r.pixelStorei(to,0),r.pixelStorei(no,0))}function _1(r,e,t,n){n.minMag&&(t.call(r,e,Ar,n.minMag),t.call(r,e,Tr,n.minMag)),n.min&&t.call(r,e,Ar,n.min),n.mag&&t.call(r,e,Tr,n.mag),n.wrap&&(t.call(r,e,Xn,n.wrap),t.call(r,e,qn,n.wrap),(e===zt||A0(r,e))&&t.call(r,e,ls,n.wrap)),n.wrapR&&t.call(r,e,ls,n.wrapR),n.wrapS&&t.call(r,e,Xn,n.wrapS),n.wrapT&&t.call(r,e,qn,n.wrapT),n.minLod&&t.call(r,e,np,n.minLod),n.maxLod&&t.call(r,e,rp,n.maxLod),n.baseLevel&&t.call(r,e,ip,n.baseLevel),n.maxLevel&&t.call(r,e,sp,n.maxLevel)}function so(r,e,t){const n=t.target||Rt;r.bindTexture(n,e),_1(r,n,r.texParameteri,t)}function g1(r){return r=r||Lt.textureColor,on(r)?r:new Uint8Array([r[0]*255,r[1]*255,r[2]*255,r[3]*255])}function Sr(r,e,t,n,i,s){t=t||Lt.textureOptions,s=s||Je;const o=t.target||Rt;if(n=n||t.width,i=i||t.height,r.bindTexture(o,e),d1(r,n,i,s))r.generateMipmap(o);else{const a=p1(s)?Y0:q0;r.texParameteri(o,Ar,a),r.texParameteri(o,Tr,a),r.texParameteri(o,Xn,Zn),r.texParameteri(o,qn,Zn)}}function kn(r){return r.auto===!0||r.auto===void 0&&r.level===void 0}function Ir(r,e){return e=e||{},e.cubeFaceOrder||[nr,K0,J0,Q0,ep,tp]}function Cr(r,e){const n=Ir(r,e).map(function(i,s){return{face:i,ndx:s}});return n.sort(function(i,s){return i.face-s.face}),n}function Wr(r,e,t,n){n=n||Lt.textureOptions;const i=n.target||Rt,s=n.level||0;let o=t.width,a=t.height;const l=n.internalFormat||n.format||Je,u=un(l),f=n.format||u.format,c=n.type||u.type;if(an(r,n),r.bindTexture(i,e),i===Ft){const h=t.width,m=t.height;let d,p;if(h/6===m)d=m,p=[0,0,1,0,2,0,3,0,4,0,5,0];else if(m/6===h)d=h,p=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===m/2)d=h/3,p=[0,0,1,0,2,0,0,1,1,1,2,1];else if(h/2===m/3)d=h/2,p=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);const g=Ks();g?(g.canvas.width=d,g.canvas.height=d,o=d,a=d,Cr(r,n).forEach(function(_){const $=p[_.ndx*2+0]*d,k=p[_.ndx*2+1]*d;g.drawImage(t,$,k,d,d,0,0,d,d),r.texImage2D(_.face,s,l,f,c,g.canvas)}),g.canvas.width=1,g.canvas.height=1):typeof createImageBitmap<"u"&&(o=d,a=d,Cr(r,n).forEach(function(_){const $=p[_.ndx*2+0]*d,k=p[_.ndx*2+1]*d;r.texImage2D(_.face,s,l,d,d,0,f,c,null),createImageBitmap(t,$,k,d,d,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(y){an(r,n),r.bindTexture(i,e),r.texImage2D(_.face,s,l,f,c,y),kn(n)&&Sr(r,e,n,o,a,l)})}))}else if(i===zt||i===Ut){const h=Math.min(t.width,t.height),m=Math.max(t.width,t.height),d=m/h;if(d%1!==0)throw"can not compute 3D dimensions of element";const p=t.width===m?1:0,g=t.height===m?1:0;r.pixelStorei(jr,1),r.pixelStorei(Js,t.width),r.pixelStorei(Qs,0),r.pixelStorei(no,0),r.texImage3D(i,s,l,h,h,h,0,f,c,null);for(let _=0;_<d;++_){const $=_*h*p,k=_*h*g;r.pixelStorei(eo,$),r.pixelStorei(to,k),r.texSubImage3D(i,s,0,0,_,h,h,1,f,c,t)}io(r)}else r.texImage2D(i,s,l,f,c,t);kn(n)&&Sr(r,e,n,o,a,l),so(r,e,n)}function Sn(){}function b1(r){if(typeof document<"u"){const e=document.createElement("a");return e.href=r,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}else{const e=new URL(location.href).origin;return new URL(r,location.href).origin===e}}function v1(r,e){return e===void 0&&!b1(r)?"anonymous":e}function $1(r,e,t){t=t||Sn;let n;if(e=e!==void 0?e:Lt.crossOrigin,e=v1(r,e),typeof Image<"u"){n=new Image,e!==void 0&&(n.crossOrigin=e);const i=function(){n.removeEventListener("error",s),n.removeEventListener("load",o),n=null},s=function(){const l="couldn't load image: "+r;Gs(l),t(l,n),i()},o=function(){t(null,n),i()};return n.addEventListener("error",s),n.addEventListener("load",o),n.src=r,n}else if(typeof ImageBitmap<"u"){let i,s;const o=function(){t(i,s)},a={};e&&(a.mode="cors"),fetch(r,a).then(function(l){if(!l.ok)throw l;return l.blob()}).then(function(l){return createImageBitmap(l,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(l){s=l,setTimeout(o)}).catch(function(l){i=l,setTimeout(o)}),n=null}return n}function oo(r){return typeof ImageBitmap<"u"&&r instanceof ImageBitmap||typeof ImageData<"u"&&r instanceof ImageData||typeof HTMLElement<"u"&&r instanceof HTMLElement}function Vr(r,e,t){return oo(r)?(setTimeout(function(){t(null,r)}),r):$1(r,e,t)}function Zr(r,e,t){t=t||Lt.textureOptions;const n=t.target||Rt;if(r.bindTexture(n,e),t.color===!1)return;const i=g1(t.color);if(n===Ft)for(let s=0;s<6;++s)r.texImage2D(nr+s,0,Je,1,1,0,Je,Ke,i);else n===zt||n===Ut?r.texImage3D(n,0,Je,1,1,1,0,Je,Ke,i):r.texImage2D(n,0,Je,1,1,0,Je,Ke,i)}function w1(r,e,t,n){return n=n||Sn,t=t||Lt.textureOptions,Zr(r,e,t),t=Object.assign({},t),Vr(t.src,t.crossOrigin,function(s,o){s?n(s,e,o):(Wr(r,e,o,t),n(null,e,o))})}function y1(r,e,t,n){n=n||Sn;const i=t.src;if(i.length!==6)throw"there must be 6 urls for a cubemap";const s=t.level||0,o=t.internalFormat||t.format||Je,a=un(o),l=t.format||a.format,u=t.type||Ke,f=t.target||Rt;if(f!==Ft)throw"target must be TEXTURE_CUBE_MAP";Zr(r,e,t),t=Object.assign({},t);let c=6;const h=[],m=Ir(r,t);let d;function p(g){return function(_,$){--c,_?h.push(_):$.width!==$.height?h.push("cubemap face img is not a square: "+$.src):(an(r,t),r.bindTexture(f,e),c===5?Ir().forEach(function(k){r.texImage2D(k,s,o,l,u,$)}):r.texImage2D(g,s,o,l,u,$),kn(t)&&r.generateMipmap(f)),c===0&&n(h.length?h:void 0,e,d)}}d=i.map(function(g,_){return Vr(g,t.crossOrigin,p(m[_]))})}function E1(r,e,t,n){n=n||Sn;const i=t.src,s=t.internalFormat||t.format||Je,o=un(s),a=t.format||o.format,l=t.type||Ke,u=t.target||Ut;if(u!==zt&&u!==Ut)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Zr(r,e,t),t=Object.assign({},t);let f=i.length;const c=[];let h;const m=t.level||0;let d=t.width,p=t.height;const g=i.length;let _=!0;function $(k){return function(y,P){if(--f,y)c.push(y);else{if(an(r,t),r.bindTexture(u,e),_){_=!1,d=t.width||P.width,p=t.height||P.height,r.texImage3D(u,m,s,d,p,g,0,a,l,null);for(let C=0;C<g;++C)r.texSubImage3D(u,m,0,0,C,d,p,1,a,l,P)}else{let C=P,A;(P.width!==d||P.height!==p)&&(A=Ks(),C=A.canvas,A.canvas.width=d,A.canvas.height=p,A.drawImage(P,0,0,d,p)),r.texSubImage3D(u,m,0,0,k,d,p,1,a,l,C),A&&C===A.canvas&&(A.canvas.width=0,A.canvas.height=0)}kn(t)&&r.generateMipmap(u)}f===0&&n(c.length?c:void 0,e,h)}}h=i.map(function(k,y){return Vr(k,t.crossOrigin,$(y))})}function k1(r,e,t,n){n=n||Lt.textureOptions;const i=n.target||Rt;r.bindTexture(i,e);let s=n.width,o=n.height,a=n.depth;const l=n.level||0,u=n.internalFormat||n.format||Je,f=un(u),c=n.format||f.format,h=n.type||ro(r,t,f.type);if(on(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{const g=Os(h);t=new g(t)}const m=m1(u,h),d=t.byteLength/m;if(d%1)throw"length wrong size for format: "+Ys(r,c);let p;if(i===zt||i===Ut)if(!s&&!o&&!a){const g=Math.cbrt(d);if(g%1!==0)throw"can't guess cube size of array of numElements: "+d;s=g,o=g,a=g}else s&&(!o||!a)?(p=Un(r,i,o,a,d/s),o=p.width,a=p.height):o&&(!s||!a)?(p=Un(r,i,s,a,d/o),s=p.width,a=p.height):(p=Un(r,i,s,o,d/a),s=p.width,o=p.height);else p=Un(r,i,s,o,d),s=p.width,o=p.height;if(io(r),r.pixelStorei(jr,n.unpackAlignment||1),an(r,n),i===Ft){const g=m/t.BYTES_PER_ELEMENT,_=d/6*g;Cr(r,n).forEach($=>{const k=_*$.ndx,y=t.subarray(k,k+_);r.texImage2D($.face,l,u,s,o,0,c,h,y)})}else i===zt||i===Ut?r.texImage3D(i,l,u,s,o,a,0,c,h,t):r.texImage2D(i,l,u,s,o,0,c,h,t);return{width:s,height:o,depth:a,type:h}}function A1(r,e,t){const n=t.target||Rt;r.bindTexture(n,e);const i=t.level||0,s=t.internalFormat||t.format||Je,o=un(s),a=t.format||o.format,l=t.type||o.type;if(an(r,t),n===Ft)for(let u=0;u<6;++u)r.texImage2D(nr+u,i,s,t.width,t.height,0,a,l,null);else n===zt||n===Ut?r.texImage3D(n,i,s,t.width,t.height,t.depth,0,a,l,null):r.texImage2D(n,i,s,t.width,t.height,0,a,l,null)}function ao(r,e,t){t=t||Sn,e=e||Lt.textureOptions;const n=r.createTexture(),i=e.target||Rt;let s=e.width||1,o=e.height||1;const a=e.internalFormat||Je;r.bindTexture(i,n),i===Ft&&(r.texParameteri(i,Xn,Zn),r.texParameteri(i,qn,Zn));let l=e.src;if(l)if(typeof l=="function"&&(l=l(r,e)),typeof l=="string")w1(r,n,e,t);else if(on(l)||Array.isArray(l)&&(typeof l[0]=="number"||Array.isArray(l[0])||on(l[0]))){const u=k1(r,n,l,e);s=u.width,o=u.height}else Array.isArray(l)&&(typeof l[0]=="string"||oo(l[0]))?i===Ft?y1(r,n,e,t):E1(r,n,e,t):(Wr(r,n,l,e),s=l.width,o=l.height);else A1(r,n,e);return kn(e)&&Sr(r,n,e,s,o,a),so(r,n,e),n}function T1(r,e,t,n,i,s){n=n||t.width,i=i||t.height,s=s||t.depth;const o=t.target||Rt;r.bindTexture(o,e);const a=t.level||0,l=t.internalFormat||t.format||Je,u=un(l),f=t.format||u.format;let c;const h=t.src;if(h&&(on(h)||Array.isArray(h)&&typeof h[0]=="number")?c=t.type||ro(r,h,u.type):c=t.type||u.type,o===Ft)for(let m=0;m<6;++m)r.texImage2D(nr+m,a,l,n,i,0,f,c,null);else o===zt||o===Ut?r.texImage3D(o,a,l,n,i,s,0,f,c,null):r.texImage2D(o,a,l,n,i,0,f,c,null)}const Xr=Gs;function S1(r){return typeof document<"u"&&document.getElementById?document.getElementById(r):null}const Yn=33984,ir=34962,I1=34963,C1=35713,F1=35714,R1=35632,P1=35633,N1=35981,lo=35718,B1=35721,x1=35971,M1=35382,z1=35396,U1=35398,D1=35392,L1=35395,sr=5126,uo=35664,fo=35665,co=35666,qr=5124,ho=35667,mo=35668,po=35669,_o=35670,go=35671,bo=35672,vo=35673,$o=35674,wo=35675,yo=35676,O1=35678,G1=35680,H1=35679,j1=35682,W1=35685,V1=35686,Z1=35687,X1=35688,q1=35689,Y1=35690,K1=36289,J1=36292,Q1=36293,Yr=5125,Eo=36294,ko=36295,Ao=36296,e_=36298,t_=36299,n_=36300,r_=36303,i_=36306,s_=36307,o_=36308,a_=36311,or=3553,ar=34067,Kr=32879,lr=35866,Ue={};function To(r,e){return Ue[e].bindPoint}function l_(r,e){return function(t){r.uniform1f(e,t)}}function u_(r,e){return function(t){r.uniform1fv(e,t)}}function f_(r,e){return function(t){r.uniform2fv(e,t)}}function c_(r,e){return function(t){r.uniform3fv(e,t)}}function h_(r,e){return function(t){r.uniform4fv(e,t)}}function So(r,e){return function(t){r.uniform1i(e,t)}}function Io(r,e){return function(t){r.uniform1iv(e,t)}}function Co(r,e){return function(t){r.uniform2iv(e,t)}}function Fo(r,e){return function(t){r.uniform3iv(e,t)}}function Ro(r,e){return function(t){r.uniform4iv(e,t)}}function m_(r,e){return function(t){r.uniform1ui(e,t)}}function d_(r,e){return function(t){r.uniform1uiv(e,t)}}function p_(r,e){return function(t){r.uniform2uiv(e,t)}}function __(r,e){return function(t){r.uniform3uiv(e,t)}}function g_(r,e){return function(t){r.uniform4uiv(e,t)}}function b_(r,e){return function(t){r.uniformMatrix2fv(e,!1,t)}}function v_(r,e){return function(t){r.uniformMatrix3fv(e,!1,t)}}function $_(r,e){return function(t){r.uniformMatrix4fv(e,!1,t)}}function w_(r,e){return function(t){r.uniformMatrix2x3fv(e,!1,t)}}function y_(r,e){return function(t){r.uniformMatrix3x2fv(e,!1,t)}}function E_(r,e){return function(t){r.uniformMatrix2x4fv(e,!1,t)}}function k_(r,e){return function(t){r.uniformMatrix4x2fv(e,!1,t)}}function A_(r,e){return function(t){r.uniformMatrix3x4fv(e,!1,t)}}function T_(r,e){return function(t){r.uniformMatrix4x3fv(e,!1,t)}}function ht(r,e,t,n){const i=To(r,e);return Tn(r)?function(s){let o,a;!s||tr(r,s)?(o=s,a=null):(o=s.texture,a=s.sampler),r.uniform1i(n,t),r.activeTexture(Yn+t),r.bindTexture(i,o),r.bindSampler(t,a)}:function(s){r.uniform1i(n,t),r.activeTexture(Yn+t),r.bindTexture(i,s)}}function mt(r,e,t,n,i){const s=To(r,e),o=new Int32Array(i);for(let a=0;a<i;++a)o[a]=t+a;return Tn(r)?function(a){r.uniform1iv(n,o),a.forEach(function(l,u){r.activeTexture(Yn+o[u]);let f,c;tr(r,l)?(f=l,c=null):(f=l.texture,c=l.sampler),r.bindSampler(t,c),r.bindTexture(s,f)})}:function(a){r.uniform1iv(n,o),a.forEach(function(l,u){r.activeTexture(Yn+o[u]),r.bindTexture(s,l)})}}Ue[sr]={Type:Float32Array,size:4,setter:l_,arraySetter:u_};Ue[uo]={Type:Float32Array,size:8,setter:f_,cols:2};Ue[fo]={Type:Float32Array,size:12,setter:c_,cols:3};Ue[co]={Type:Float32Array,size:16,setter:h_,cols:4};Ue[qr]={Type:Int32Array,size:4,setter:So,arraySetter:Io};Ue[ho]={Type:Int32Array,size:8,setter:Co,cols:2};Ue[mo]={Type:Int32Array,size:12,setter:Fo,cols:3};Ue[po]={Type:Int32Array,size:16,setter:Ro,cols:4};Ue[Yr]={Type:Uint32Array,size:4,setter:m_,arraySetter:d_};Ue[Eo]={Type:Uint32Array,size:8,setter:p_,cols:2};Ue[ko]={Type:Uint32Array,size:12,setter:__,cols:3};Ue[Ao]={Type:Uint32Array,size:16,setter:g_,cols:4};Ue[_o]={Type:Uint32Array,size:4,setter:So,arraySetter:Io};Ue[go]={Type:Uint32Array,size:8,setter:Co,cols:2};Ue[bo]={Type:Uint32Array,size:12,setter:Fo,cols:3};Ue[vo]={Type:Uint32Array,size:16,setter:Ro,cols:4};Ue[$o]={Type:Float32Array,size:32,setter:b_,rows:2,cols:2};Ue[wo]={Type:Float32Array,size:48,setter:v_,rows:3,cols:3};Ue[yo]={Type:Float32Array,size:64,setter:$_,rows:4,cols:4};Ue[W1]={Type:Float32Array,size:32,setter:w_,rows:2,cols:3};Ue[V1]={Type:Float32Array,size:32,setter:E_,rows:2,cols:4};Ue[Z1]={Type:Float32Array,size:48,setter:y_,rows:3,cols:2};Ue[X1]={Type:Float32Array,size:48,setter:A_,rows:3,cols:4};Ue[q1]={Type:Float32Array,size:64,setter:k_,rows:4,cols:2};Ue[Y1]={Type:Float32Array,size:64,setter:T_,rows:4,cols:3};Ue[O1]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:or};Ue[G1]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:ar};Ue[H1]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:Kr};Ue[j1]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:or};Ue[K1]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:lr};Ue[J1]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:lr};Ue[Q1]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:ar};Ue[e_]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:or};Ue[t_]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:Kr};Ue[n_]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:ar};Ue[r_]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:lr};Ue[i_]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:or};Ue[s_]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:Kr};Ue[o_]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:ar};Ue[a_]={Type:null,size:0,setter:ht,arraySetter:mt,bindPoint:lr};function ur(r,e){return function(t){if(t.value)switch(r.disableVertexAttribArray(e),t.value.length){case 4:r.vertexAttrib4fv(e,t.value);break;case 3:r.vertexAttrib3fv(e,t.value);break;case 2:r.vertexAttrib2fv(e,t.value);break;case 1:r.vertexAttrib1fv(e,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else r.bindBuffer(ir,t.buffer),r.enableVertexAttribArray(e),r.vertexAttribPointer(e,t.numComponents||t.size,t.type||sr,t.normalize||!1,t.stride||0,t.offset||0),r.vertexAttribDivisor&&r.vertexAttribDivisor(e,t.divisor||0)}}function Ot(r,e){return function(t){if(t.value)if(r.disableVertexAttribArray(e),t.value.length===4)r.vertexAttrib4iv(e,t.value);else throw new Error("The length of an integer constant value must be 4!");else r.bindBuffer(ir,t.buffer),r.enableVertexAttribArray(e),r.vertexAttribIPointer(e,t.numComponents||t.size,t.type||qr,t.stride||0,t.offset||0),r.vertexAttribDivisor&&r.vertexAttribDivisor(e,t.divisor||0)}}function fr(r,e){return function(t){if(t.value)if(r.disableVertexAttribArray(e),t.value.length===4)r.vertexAttrib4uiv(e,t.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else r.bindBuffer(ir,t.buffer),r.enableVertexAttribArray(e),r.vertexAttribIPointer(e,t.numComponents||t.size,t.type||Yr,t.stride||0,t.offset||0),r.vertexAttribDivisor&&r.vertexAttribDivisor(e,t.divisor||0)}}function Jr(r,e,t){const n=t.size,i=t.count;return function(s){r.bindBuffer(ir,s.buffer);const o=s.size||s.numComponents||n,a=o/i,l=s.type||sr,f=Ue[l].size*o,c=s.normalize||!1,h=s.offset||0,m=f/i;for(let d=0;d<i;++d)r.enableVertexAttribArray(e+d),r.vertexAttribPointer(e+d,a,l,c,f,h+m*d),r.vertexAttribDivisor&&r.vertexAttribDivisor(e+d,s.divisor||0)}}const rt={};rt[sr]={size:4,setter:ur};rt[uo]={size:8,setter:ur};rt[fo]={size:12,setter:ur};rt[co]={size:16,setter:ur};rt[qr]={size:4,setter:Ot};rt[ho]={size:8,setter:Ot};rt[mo]={size:12,setter:Ot};rt[po]={size:16,setter:Ot};rt[Yr]={size:4,setter:fr};rt[Eo]={size:8,setter:fr};rt[ko]={size:12,setter:fr};rt[Ao]={size:16,setter:fr};rt[_o]={size:4,setter:Ot};rt[go]={size:8,setter:Ot};rt[bo]={size:12,setter:Ot};rt[vo]={size:16,setter:Ot};rt[$o]={size:4,setter:Jr,count:2};rt[wo]={size:9,setter:Jr,count:3};rt[yo]={size:16,setter:Jr,count:4};const S_=/ERROR:\s*\d+:(\d+)/gi;function I_(r,e="",t=0){const n=[...e.matchAll(S_)],i=new Map(n.map((s,o)=>{const a=parseInt(s[1]),l=n[o+1],u=l?l.index:e.length,f=e.substring(s.index,u);return[a-1,f]}));return r.split(`
`).map((s,o)=>{const a=i.get(o);return`${o+1+t}: ${s}${a?`

^^^ ${a}`:""}`}).join(`
`)}const ms=/^[ \t]*\n/;function Po(r){let e=0;return ms.test(r)&&(e=1,r=r.replace(ms,"")),{lineOffset:e,shaderSource:r}}function C_(r,e,t,n){if(n=n||Xr,!r.getShaderParameter(t,C1)){const s=r.getShaderInfoLog(t),{lineOffset:o,shaderSource:a}=Po(r.getShaderSource(t)),l=`${I_(a,s,o)}
Error compiling ${Ys(r,e)}: ${s}`;return n(l),l}return""}function No(r,e,t){let n,i,s;if(typeof e=="function"&&(t=e,e=void 0),typeof r=="function")t=r,r=void 0;else if(r&&!Array.isArray(r)){const u=r;t=u.errorCallback,r=u.attribLocations,n=u.transformFeedbackVaryings,i=u.transformFeedbackMode,s=u.callback}const o=t||Xr,a=[],l={errorCallback(u,...f){a.push(u),o(u,...f)},transformFeedbackVaryings:n,transformFeedbackMode:i,callback:s,errors:a};{let u={};Array.isArray(r)?r.forEach(function(f,c){u[f]=e?e[c]:c}):u=r||{},l.attribLocations=u}return l}const F_=["VERTEX_SHADER","FRAGMENT_SHADER"];function R_(r,e){if(e.indexOf("frag")>=0)return R1;if(e.indexOf("vert")>=0)return P1}const P_=(r=0)=>new Promise(e=>setTimeout(e,r));function N_(r,e,t){const n=r.createProgram(),{attribLocations:i,transformFeedbackVaryings:s,transformFeedbackMode:o}=No(t);for(let a=0;a<e.length;++a){let l=e[a];if(typeof l=="string"){const u=S1(l),f=u?u.text:l;let c=r[F_[a]];u&&u.type&&(c=R_(r,u.type)||c),l=r.createShader(c),r.shaderSource(l,Po(f).shaderSource),r.compileShader(l),r.attachShader(n,l)}}Object.entries(i).forEach(([a,l])=>r.bindAttribLocation(n,l,a));{let a=s;a&&(a.attribs&&(a=a.attribs),Array.isArray(a)||(a=Object.keys(a)),r.transformFeedbackVaryings(n,a,o||N1))}return r.linkProgram(n),n}async function B_(r,e){const t=r.getExtension("KHR_parallel_shader_compile"),n=t?(s,o)=>s.getProgramParameter(o,t.COMPLETION_STATUS_KHR):()=>!0;let i=0;do await P_(i),i=1e3/60;while(!n(r,e))}async function x_(r,e){for(const t of Object.values(e))await B_(r,t)}function M_(r,e,t){if(t=t||Xr,!r.getProgramParameter(e,F1)){const i=r.getProgramInfoLog(e);t(`Error in program linking: ${i}`);const o=r.getAttachedShaders(e).map(a=>C_(r,r.getShaderParameter(a,r.SHADER_TYPE),a,t));return`${i}
${o.filter(a=>a).join(`
`)}`}}function Bo(r){const e=r.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const z_=/(\.|\[|]|\w+)/g,U_=r=>r>="0"&&r<="9";function D_(r,e,t,n){const i=r.split(z_).filter(a=>a!=="");let s=0,o="";for(;;){const a=i[s++];o+=a;const l=U_(a[0]),u=l?parseInt(a):a;if(l&&(o+=i[s++]),s===i.length){t[u]=e;break}else{const c=i[s++],h=c==="[",m=t[u]||(h?[]:{});t[u]=m,t=m,n[o]=n[o]||function(d){return function(p){xo(d,p)}}(m),o+=c}}}function L_(r,e){let t=0;function n(a,l,u){const f=l.name.endsWith("[0]"),c=l.type,h=Ue[c];if(!h)throw new Error(`unknown type: 0x${c.toString(16)}`);let m;if(h.bindPoint){const d=t;t+=l.size,f?m=h.arraySetter(r,c,d,u,l.size):m=h.setter(r,c,d,u,l.size)}else h.arraySetter&&f?m=h.arraySetter(r,u):m=h.setter(r,u);return m.location=u,m}const i={},s={},o=r.getProgramParameter(e,lo);for(let a=0;a<o;++a){const l=r.getActiveUniform(e,a);if(Bo(l))continue;let u=l.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));const f=r.getUniformLocation(e,l.name);if(f){const c=n(e,l,f);i[u]=c,D_(u,c,s,i)}}return i}function O_(r,e){const t={},n=r.getProgramParameter(e,x1);for(let i=0;i<n;++i){const s=r.getTransformFeedbackVarying(e,i);t[s.name]={index:i,type:s.type,size:s.size}}return t}function G_(r,e){const t=r.getProgramParameter(e,lo),n=[],i=[];for(let a=0;a<t;++a){i.push(a),n.push({});const l=r.getActiveUniform(e,a);n[a].name=l.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const l=a[0],u=a[1];r.getActiveUniforms(e,i,r[l]).forEach(function(f,c){n[c][u]=f})});const s={},o=r.getProgramParameter(e,M1);for(let a=0;a<o;++a){const l=r.getActiveUniformBlockName(e,a),u={index:r.getUniformBlockIndex(e,l),usedByVertexShader:r.getActiveUniformBlockParameter(e,a,z1),usedByFragmentShader:r.getActiveUniformBlockParameter(e,a,U1),size:r.getActiveUniformBlockParameter(e,a,D1),uniformIndices:r.getActiveUniformBlockParameter(e,a,L1)};u.used=u.usedByVertexShader||u.usedByFragmentShader,s[l]=u}return{blockSpecs:s,uniformData:n}}function xo(r,e){for(const t in e){const n=r[t];typeof n=="function"?n(e[t]):xo(r[t],e[t])}}function tn(r,...e){const t=r.uniformSetters||r,n=e.length;for(let i=0;i<n;++i){const s=e[i];if(Array.isArray(s)){const o=s.length;for(let a=0;a<o;++a)tn(t,s[a])}else for(const o in s){const a=t[o];a&&a(s[o])}}}function H_(r,e){const t={},n=r.getProgramParameter(e,B1);for(let i=0;i<n;++i){const s=r.getActiveAttrib(e,i);if(Bo(s))continue;const o=r.getAttribLocation(e,s.name),a=rt[s.type],l=a.setter(r,o,a);l.location=o,t[s.name]=l}return t}function j_(r,e){for(const t in e){const n=r[t];n&&n(e[t])}}function vr(r,e,t){t.vertexArrayObject?r.bindVertexArray(t.vertexArrayObject):(j_(e.attribSetters||e,t.attribs),t.indices&&r.bindBuffer(I1,t.indices))}function W_(r,e){const t=L_(r,e),n=H_(r,e),i={program:e,uniformSetters:t,attribSetters:n};return Tn(r)&&(i.uniformBlockSpec=G_(r,e),i.transformFeedbackInfo=O_(r,e)),i}function ds(r,e,t,n,i){for(const[s,o]of Object.entries(e)){const a={...i},l=t[s];Array.isArray(l)||Object.assign(a,l);const u=M_(r,o,a.errorCallback);if(u){for(const f of Object.values(e)){const c=r.getAttachedShaders(f);r.deleteProgram(f);for(const h of c)n.has(h)||r.deleteShader(h)}return u}}}function V_(r,e,t={}){const n=new Set,i=Object.fromEntries(Object.entries(e).map(([o,a])=>{const l={...t},u=Array.isArray(a)?a:a.shaders;return Array.isArray(a)||Object.assign(l,a),u.forEach(n.add,n),[o,N_(r,u,l)]}));if(t.callback){x_(r,i).then(()=>{const o=ds(r,i,e,n,t);t.callback(o,o?void 0:i)});return}return ds(r,i,e,n,t)?void 0:i}function Z_(r,e,t){t=No(t);function n(o,a){return Object.fromEntries(Object.entries(a).map(([l,u])=>[l,W_(o,u)]))}const i=t.callback;i&&(t.callback=(o,a)=>{i(o,o?void 0:n(r,a))});const s=V_(r,e,t);if(!(i||!s))return n(r,s)}const X_=36160,Xt=36161,q_=3553,Y_=5121,K_=6402,J_=6408,Q_=33190,eg=36012,tg=35056,ng=36013,rg=32854,ig=32855,sg=36194,Mo=33189,zo=6401,Uo=36168,Qr=34041,Fr=36064,cr=36096,Do=36128,ei=33306,Rr=33071,Pr=9729,Lo=[{format:J_,type:Y_,min:Pr,wrap:Rr},{format:Qr}],$t={};$t[Qr]=ei;$t[zo]=Do;$t[Uo]=Do;$t[K_]=cr;$t[Mo]=cr;$t[Q_]=cr;$t[eg]=cr;$t[tg]=ei;$t[ng]=ei;function og(r,e){return $t[r]||$t[e]}const Gt={};Gt[rg]=!0;Gt[ig]=!0;Gt[sg]=!0;Gt[Qr]=!0;Gt[Mo]=!0;Gt[zo]=!0;Gt[Uo]=!0;function ag(r){return Gt[r]}const lg=32;function ug(r){return r>=Fr&&r<Fr+lg}function fg(r,e,t,n){const i=X_,s=r.createFramebuffer();r.bindFramebuffer(i,s),t=t||r.drawingBufferWidth,n=n||r.drawingBufferHeight,e=e||Lo;const o=[],a={framebuffer:s,attachments:[],width:t,height:n};return e.forEach(function(l,u){let f=l.attachment;const c=l.samples,h=l.format;let m=l.attachmentPoint||og(h,l.internalFormat);if(m||(m=Fr+u),ug(m)&&o.push(m),!f)if(c!==void 0||ag(h))f=r.createRenderbuffer(),r.bindRenderbuffer(Xt,f),c>1?r.renderbufferStorageMultisample(Xt,c,h,t,n):r.renderbufferStorage(Xt,h,t,n);else{const d=Object.assign({},l);d.width=t,d.height=n,d.auto===void 0&&(d.auto=!1,d.min=d.min||d.minMag||Pr,d.mag=d.mag||d.minMag||Pr,d.wrapS=d.wrapS||d.wrap||Rr,d.wrapT=d.wrapT||d.wrap||Rr),f=ao(r,d)}if(Hs(r,f))r.framebufferRenderbuffer(i,m,Xt,f);else if(tr(r,f))l.layer!==void 0?r.framebufferTextureLayer(i,m,f,l.level||0,l.layer):r.framebufferTexture2D(i,m,l.target||q_,f,l.level||0);else throw new Error("unknown attachment type");a.attachments.push(f)}),r.drawBuffers&&r.drawBuffers(o),a}function cg(r,e,t,n,i){n=n||r.drawingBufferWidth,i=i||r.drawingBufferHeight,e.width=n,e.height=i,t=t||Lo,t.forEach(function(s,o){const a=e.attachments[o],l=s.format,u=s.samples;if(u!==void 0||Hs(r,a))r.bindRenderbuffer(Xt,a),u>1?r.renderbufferStorageMultisample(Xt,u,l,n,i):r.renderbufferStorage(Xt,l,n,i);else if(tr(r,a))T1(r,a,s,n,i);else throw new Error("unknown attachment type")})}class hg{constructor(e,t,n,i){this.id=e,this.original=t,this.texture=n,this.meta=i}get width(){return this.original.width}get height(){return this.original.height}}class mg{constructor(e,t=new Bs("textures")){Re(this,"textures",new Map);this.gl=e,this.idGenerator=t}addImage(e,t){let n=t==null?void 0:t.id;if(n&&this.textures.has(n))throw new Error(`Texture with id ${n} already exists`);if(!n){for(let o=0;o<this.textures.size+5&&(n=this.idGenerator.generate(),!!this.textures.has(n));o++)n=void 0;if(!n)throw new Error("Textures overflow!")}const i=ao(this.gl,{src:e}),s=new hg(n,e,i,t.meta);return this.textures.set(n,s),s}downloadImage(e,t){return xs(e).then(n=>this.addImage(n,t))}delete(e){const t=this.textures.get(e);if(!t)throw new Error(`Texture with id ${e} already deleted`);return this.gl.deleteTexture(t.texture),this.textures.delete(e),t.original}get(e){const t=this.textures.get(e);if(!t)throw new Error(`Texture with id ${e} not found`);return t}has(e){return this.textures.has(e)}clear(){this.textures.forEach(e=>this.gl.deleteTexture(e.texture)),this.textures.clear()}}const ps=`#version 300 es
precision highp  float;
precision highp  int;

vec2[6] v;
vec2[6] t;

out vec2 texCoord;
void main() {
    v[0] = vec2(-1, -1);
    v[1] = vec2(1, -1);
    v[2] = vec2(1, 1);
    v[3] = vec2(1, 1);
    v[4] = vec2(-1, 1);
    v[5] = vec2(-1, -1);
    int i = gl_VertexID;
    gl_Position = vec4(v[i], 0, 1);
    t[0] = vec2(0, 0);
    t[1] = vec2(1, 0);
    t[2] = vec2(1, 1);
    t[3] = vec2(1, 1);
    t[4] = vec2(0, 1);
    t[5] = vec2(0, 0);
    texCoord = vec2(t[i].x, t[i].y);
}`,dg=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform vec3 color;
uniform float alpha;
uniform float blur;
uniform vec2 resolution;
uniform bool dim;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    if(blur <= 0.) {
        vec4 origin = texture(stencilSampler, texCoord);
        FragColor = vec4(color, alpha * origin.a);
        return;
    }

    float sum = 0.0;
    float r = blur * 0.5;
    float scaleX = 1. / resolution.x;
    float scaleY = 1. / resolution.y;
    float from = -2.0 * r;
    float to = 2.0 * r;
    float C1 = 2. * r * r;
    float C2 = sqrt(C1 * PI);
    float channel = float(dim);
    for(float delta = from; delta <= to; delta++) {
        float x = (1. - channel) * delta;
        float y = channel * delta;
        vec2 shift = vec2(x * scaleX, y * scaleY);
        vec4 origin = texture(stencilSampler, texCoord + shift);
        float g = exp(-(x * x + y * y) / C1) / C2;
        sum += origin.a * g;
    }
    FragColor = vec4(color, alpha * sum);
}`,pg=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D textureSampler;

in vec2 texCoord;
out vec4 FragColor;

void main() {
    FragColor = texture(textureSampler, vec2(texCoord.x, texCoord.y));
}`,Dn=`float channelAlpha(int currentChannel, int channels, vec4 o);

float fillAlpha(vec4 o) {
    return o.g * o.a;
}

float strokeFullAlpha(vec4 o) {
    float a = (1. - fillAlpha(o));
    if(a == 0.0)
        return o.a * o.r;
    return o.a * o.r / a;
}

float strokeSimpleAlpha(vec4 o) {
    return o.r * o.a;
}

#define STENCIL_CHANNEL_STROKE 1
#define STENCIL_CHANNEL_FILL 2

float channelAlpha(int currentChannel, int channels, vec4 o) {
    if(currentChannel == STENCIL_CHANNEL_FILL)
        return fillAlpha(o);
    if((channels & STENCIL_CHANNEL_FILL) != 0)
        return strokeFullAlpha(o);
    return strokeSimpleAlpha(o);
}

void main();`,_s=`#version 300 es
precision highp  float;
precision highp  int;

in vec3 position;
in vec2 textureCoordinate;

uniform mat4 transform;
uniform mat4 camera;

out vec2 texCoord;
void main() {
    gl_Position = camera * transform * vec4(position, 1);

    texCoord = textureCoordinate;
}`,gs=`#version 300 es
precision highp  float;
precision highp  int;

uniform sampler2D stencilSampler;
uniform float alpha;
uniform int channel;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int channel, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    FragColor = vec4(texCoord, 0, channelAlpha(channel, origin) * alpha);
}
`;function nn(r){const e=parseInt(r.slice(1),16);return[(e>>2*8)/255,(e>>8&255)/255,(e&255)/255]}class _g{constructor(e,t=[{format:e.RGBA}]){Re(this,"freeBuffers",[]);Re(this,"usedBuffers",new Set);this.gl=e,this.options=t}get(e,t){const n=this.freeBuffers.pop();if(n)return(n.height!==t||n.width!==e)&&cg(this.gl,n,this.options,e,t),this.usedBuffers.add(n),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,n.framebuffer),this.gl.clear(this.gl.COLOR_BUFFER_BIT),n;const i=fg(this.gl,this.options,e,t);return this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.usedBuffers.add(i),console.log(`Создан новый буфер, всего: ${this.usedBuffers.size}`),i}free(e){this.usedBuffers.delete(e)||console.trace("FrameBuffersPull: free not used buffer!"),this.freeBuffers.push(e)}clear(){this.freeBuffers.forEach(e=>{this.gl.deleteFramebuffer(e.framebuffer),e.attachments.forEach(t=>{this.gl.isTexture(t)?this.gl.deleteTexture(t):this.gl.deleteRenderbuffer(t)})}),console.log("FREEEE"),this.freeBuffers=[],this.usedBuffers.size&&console.trace(`FrameBuffersPull: call clear with ${this.usedBuffers.size} buffers in use!`)}}class gg{constructor(e,t,n,i){Re(this,"shaders");Re(this,"buffersPull");Re(this,"shadowProgram");Re(this,"imageProgram");Re(this,"rectangleBuffer");Re(this,"_canvasRenderBuffer",{framebuffer:null,width:0,height:0});this.gl=e,this.textures=t,e.clearColor(0,0,0,0),e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);const s=Object.entries(n).map(([a,{vertex:l,fragment:u}])=>[a,[l||_s,(u||gs)+Dn]]).concat(Object.entries(i).map(([a,{vertex:l,fragment:u}])=>[a,[l||ps,(u||gs)+Dn]]),[["__shadow__",[ps,dg+Dn]],["__image__",[_s,pg+Dn]]]),o=Z_(e,Object.fromEntries(s));this.shaders=Object.fromEntries(Object.entries({...n,...i}).map(([a,l])=>[a,{uniforms:(u,f,c)=>l.uniforms(u,f,c),info:o[a]}])),this.shadowProgram=o.__shadow__,this.imageProgram=o.__image__,this.rectangleBuffer=X0(e,{position:[[-.5,-.5,0],[.5,-.5,0],[.5,.5,0],[.5,.5,0],[-.5,.5,0],[-.5,-.5,0]].flat(),textureCoordinate:[[0,0],[1,0],[1,1],[1,1],[0,1],[0,0]].flat()}),this.buffersPull=new _g(this.gl)}get canvasRenderBuffer(){return this._canvasRenderBuffer}get size(){return{width:this.gl.canvas.width,height:this.gl.canvas.height}}clear(){this.buffersPull.clear()}resize(e,t){this.canvasRenderBuffer.width==e&&this.canvasRenderBuffer.height==t||(this.gl.canvas.width=this._canvasRenderBuffer.width=e,this.gl.canvas.height=this._canvasRenderBuffer.height=t,this.gl.viewport(0,0,e,t))}drawImage(e){this.gl.useProgram(this.imageProgram.program),this.imageProgram.uniformSetters.textureSampler(e),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}drawShadow(e,t,n,i,s,o,a){const l=this.gl,u=this.buffersPull.get(a.width,a.height);this.drawStencilLayer(e,t,n,{...i,position:{x:i.position.x+o.offset.x,y:i.position.y+o.offset.y}},s,u,!1);const f={color:nn(o.color),alpha:1,resolution:[this.size.width,this.size.height],blur:Math.min(o.blur,3600)};l.useProgram(this.shadowProgram.program);const c=this.buffersPull.get(a.width,a.height);l.bindFramebuffer(l.FRAMEBUFFER,c.framebuffer),l.clear(l.COLOR_BUFFER_BIT),tn(this.shadowProgram,{...f,stencilSampler:u.attachments[0],dim:0}),l.drawArrays(l.TRIANGLES,0,6),l.bindFramebuffer(l.FRAMEBUFFER,a.framebuffer),tn(this.shadowProgram,{...f,stencilSampler:c.attachments[0],dim:1}),l.drawArrays(l.TRIANGLES,0,6),this.buffersPull.free(u),this.buffersPull.free(c)}drawStencilLayer(e,t,n,i,s,o=this.canvasRenderBuffer,a=!0){const l=this.gl;if(s.settings.type=="disabled")return;a&&s.shadow&&this.drawShadow(e,t,n,i,s,s.shadow,o);const u=this.shaders[s.settings.type],f={camera:pt.ortho(0,this.size.width,this.size.height,0,-100,100),transform:pt.scale(pt.rotateZ(pt.translation([i.position.x,i.position.y,0]),i.rotation),[i.width,i.height,1]),stencilSampler:e,channel:t,channels:n,alpha:s.alpha,...u.uniforms(s.settings,i,this)};l.useProgram(u.info.program),tn(u.info,f),vr(l,u.info,this.rectangleBuffer),l.bindFramebuffer(l.FRAMEBUFFER,o.framebuffer),l.drawArrays(l.TRIANGLES,0,6)}drawModifications(e,t,n,i,s){const o=this.gl,a=this.buffersPull.get(i.width,i.height),l=s?n:this.buffersPull.get(i.width,i.height);let u=n,f=a;for(let c=0;c<e.length;c++){const h=c===e.length-1?i:f,m=e[c],d=this.shaders[m.settings.type],p={layer:u.attachments[0],resolution:[this.size.width,this.size.height],...d.uniforms(m.settings,t,this)};o.bindFramebuffer(o.FRAMEBUFFER,h.framebuffer),h!==i&&o.clear(o.COLOR_BUFFER_BIT),o.useProgram(d.info.program),tn(d.info,p),vr(o,d.info,this.rectangleBuffer),o.drawArrays(o.TRIANGLES,0,6),h!==i&&(f=u,u=h)}this.buffersPull.free(a),s||this.buffersPull.free(l)}drawRectImage(e,t,n){const i=this.gl,s=this.imageProgram,o={camera:pt.ortho(0,this.size.width,this.size.height,0,-100,100),transform:pt.scale(pt.rotateZ(pt.translation([t.position.x,t.position.y,0]),t.rotation),[t.width,t.height,1]),textureSampler:e};i.useProgram(s.program),tn(s,o),vr(i,s,this.rectangleBuffer),i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer),i.drawArrays(i.TRIANGLES,0,6)}}function bg(r,e){switch(e){case"As is":return r;case"UPPER":return r.toUpperCase();case"lower":return r.toLowerCase()}throw new Error(`Unsupported text case type: ${e}`)}class vg{constructor(e=document.createElement("canvas").getContext("2d")){this.ctx=e}set baseline(e){this.ctx.textBaseline=e}get baseline(){return this.ctx.textBaseline}set align(e){this.ctx.textAlign=e}get align(){return this.ctx.textAlign}measureText(e,t,n){n&&t&&(this.ctx.font=Yt(t,n));const i=this.ctx.measureText(e);return{advancedWidth:i.width,width:i.actualBoundingBoxLeft+i.actualBoundingBoxRight,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent,boundingBox:{top:i.actualBoundingBoxAscent,bottom:i.actualBoundingBoxDescent,left:i.actualBoundingBoxLeft,right:i.actualBoundingBoxRight}}}}const ti=class{constructor(e=new vg,t=100){Re(this,"heightMeasuresCache",new Map);this.measurer=e,this.interpolationPoint=t,e.baseline="bottom"}drawTextInfo(e,t,n,i){const s=bg(e,t.case).split(`
`);return this.drawLinesInfo(s,t.font,t.strokeWidth/100,t.align,t.baseline,t.lineSpacing,n,i)}fontSize(e,t,n,i,s,o,a){if(e<2||t<2)return Math.min(e,t);const l=n.map($=>{const k=this.measurer.measureText($,i,o);return{line:$,width:k.width}}).reduce(($,k)=>k.width>$.width?k:$).line,u=s*o,f=this.measureHeight(i,o)+u/2,h=(this.linesHeight(f,n.length,a)+u/2)/o,p=(this.measurer.measureText(l,i,o).width+u)/o,g=e/p,_=t/h;return Math.min(_,g)}measureHeight(e,t){return this.measureReference(e,t).height}measureReference(e,t){const n=Yt(e,t),i=this.heightMeasuresCache.get(n);if(i)return i;const s=this.measurer.measureText(ti.MAX_HEIGHT_TEXT_EXAMPLE,e,t);return this.heightMeasuresCache.set(n,s),s}linesHeight(e,t,n){return e*(t+n*(t-1))}drawLinesInfo(e,t,n,i,s,o,a,l){const u=this.fontSize(a-2,l-2,e,t,n,this.interpolationPoint,o),f=n*u,c=f/2,h=i=="left"?c:i=="right"?a-c:a/2|0,m=this.measureReference(t,u),d=m.height+f/2,p=d*(1+o),g=this.linesHeight(d,e.length,o)+f/2,_=s=="top"?0:s=="middle"?(l-g)/2|0:l-g,$=d+_-m.boundingBox.bottom,k=new Array;this.measurer.align=i;for(let y=0;y<e.length;y++){const P=e[y],C=this.measurer.measureText(P,t,u).boundingBox,A=$+y*p;let O=h;switch(i){case"center":O+=(C.left-C.right)/2;break;case"left":O+=C.left;break;case"right":O-=C.right;break}k.push({text:P,x:O,y:A})}return{lines:k,font:t,fontSize:u,lineWidth:f,stringHeight:d,totalHeight:g,baseline:"bottom",align:i}}};let Gn=ti;Re(Gn,"MAX_HEIGHT_TEXT_EXAMPLE","AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZzАаБбВвГгДдЕеЁёЖжЗзИиЙйКкЛлМмНнОоПпРрСсТтУуФфХхЦцЧчШшЩщЪъЫыЬьЭэЮюЯя");class $g{constructor(e,t=document.createElement("canvas").getContext("2d")){Re(this,"textManager");Re(this,"stencilTexture");Re(this,"ctx");if(this.gl=e,!t)throw new Error("TextStencilService require not null ctx: CanvasRenderingContext2D.");this.ctx=t,this.textManager=new Gn;const n=e.createTexture();if(!n)throw new Error("Failed to create WebGL texture in TextStencilService.");this.stencilTexture=n}getTextStencil(e,t,n,i){const s=Math.ceil(Math.abs(n)),o=Math.ceil(Math.abs(i)),a=this.textManager.drawTextInfo(e,t,s,o),l=this.ctx.canvas;l.height!=o&&(l.height=o),l.width!=s&&(l.width=s),this.ctx.clearRect(0,0,s,o),this.draw(this.ctx,a);const u=this.gl;return Wr(u,this.stencilTexture,l,{wrap:u.CLAMP_TO_EDGE,min:u.LINEAR}),{stencil:this.stencilTexture,info:a}}draw(e,t,n=!1){e.lineJoin="round",e.miterLimit=2,e.textAlign=t.align,e.textBaseline=t.baseline,e.lineWidth=t.lineWidth,e.font=Yt(t.font,t.fontSize),e.strokeStyle="#ff0000",e.fillStyle="#00ff00";const i=t.lines;for(let s=0;s<i.length;s++){const o=i[s];e.strokeText(o.text,o.x,o.y)}for(let s=0;s<i.length;s++){const o=i[s];e.fillText(o.text,o.x,o.y)}if(n){e.strokeStyle="#ffffff",e.lineWidth=1;for(let s=0;s<i.length;s++){const o=i[s],a=o.y,l=o.x,u=e.measureText(o.text);console.debug(o),console.debug(u),e.moveTo(0,a),e.lineTo(e.canvas.width,a),e.stroke(),e.moveTo(l,a-u.actualBoundingBoxAscent),e.lineTo(l,a+u.actualBoundingBoxDescent),e.stroke(),e.strokeRect(l-u.actualBoundingBoxLeft,a-u.actualBoundingBoxAscent,u.actualBoundingBoxLeft+u.actualBoundingBoxRight,u.actualBoundingBoxAscent+u.actualBoundingBoxDescent)}e.lineWidth=3,e.strokeRect(0,0,e.canvas.width,e.canvas.height)}}}const wg=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform vec3 color;
uniform float alpha;
uniform int channel;
uniform int channels;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec2 tcoords = texCoord;
    vec4 origin = texture(stencilSampler, tcoords);
    float originAlpha = channelAlpha(channel, channels, origin);
    FragColor = vec4(color, originAlpha * alpha);
}
`,yg={fragment:wg,uniforms(r){return{color:nn(r.value)}}},Eg=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D stencilSampler;
uniform vec3 colors[4];
uniform float alpha;
uniform int channel;
uniform int channels;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    vec3 color = (1.0 - texCoord.x) * colors[0];
    color += (texCoord.x) * colors[1];
    color += (1.0 - texCoord.y) * colors[2];
    color += (texCoord.y) * colors[3];
    FragColor = vec4(color, channelAlpha(channel, channels, origin) * alpha);
}
`,kg={fragment:Eg,uniforms(r){return{colors:[nn(r.color1),nn(r.color2),nn(r.color3),nn(r.color4)].flat()}}},Ag=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform sampler2D patternSampler;
uniform float alpha;
uniform int channel;
uniform int channels;
uniform mat4 patternTransform;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    vec4 patternCoord = patternTransform * vec4(texCoord, 0, 1);
    FragColor = texture(patternSampler, patternCoord.xy / patternCoord.w);
    FragColor.a *= channelAlpha(channel, channels, origin) * alpha;
}
`;function Tg(r){return{fragment:Ag,uniforms(e,t,n){const i=n.textures.get(r.getTexture(e.name)),s=e.scale=="font"?pt.identity():pt.scaling([t.width/(i.width*e.scale.x),t.height/(i.height*e.scale.y),1]);return{patternSampler:i.texture,patternTransform:pt.multiply(pt.rotateZ(pt.translation([e.shift.x/i.width,e.shift.y/i.height,0]),e.rotate/180*Math.PI),s)}}}}function Sg(r){return{color:yg,pattern:Tg(r),gradient4:kg}}class Ig{constructor(e,t){Re(this,"textService");Re(this,"graphics");this.gl=e,this.textures=t,this.textService=new $g(e),this.graphics=new gg(e,t,Sg(vt),Wm())}clear(){this.graphics.clear()}drawFrame(e){this.graphics.resize(e.width,e.height);const t=this.graphics.buffersPull.get(e.width,e.height),n=this.gl;n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT),e.blocks.forEach(i=>{this.drawBlock(e,i,t)}),this.graphics.buffersPull.free(t)}drawBlock(e,t,n){const{graphics:i,textures:s}=this,o=this.blockSize(e,t),{container:a,content:l}=t;let u=i.canvasRenderBuffer;t.effects.length&&(u=n,this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,n.framebuffer),this.gl.clear(this.gl.COLOR_BUFFER_BIT));let f;switch(l.type){case"image":{const c=s.get(l.value.id);switch(a.type){case"global":{const h=i.size;i.drawRectImage(c.texture,f={...o,position:{x:h.width/2,y:h.height/2},rotation:0},u);break}case"rectangle":{i.drawRectImage(c.texture,f=a.value,u);break}}break}case"text":{const{text:c,style:h}=l.value,m=this.textService.getTextStencil(c,h,o.width,o.height);f=this.textRectangle(e,t,o,h.baseline,m.info);const d=h.stroke.settings.type!=="disabled",p=h.fill.settings.type!=="disabled",g=+d*1|+p*2;d&&i.drawStencilLayer(m.stencil,1,g,f,h.stroke,u),p&&i.drawStencilLayer(m.stencil,2,g,f,h.fill,u);break}}t.effects.length!==0&&i.drawModifications(t.effects,f,n,i.canvasRenderBuffer,!0)}blockSize(e,t){const n=t.container,i=t.content;if(n.type=="rectangle")return n.value;if(i.type=="text"){const s=i.value.text.split(`
`),o=s.length,a=Math.max(...s.map(l=>l.length));return{width:e.width*n.value.maxWidth,height:e.height*Math.max(n.value.minHeight,Math.min(n.value.maxHeight,o*(.175+Math.max(-.05,.03*(2.5-a/10)))))}}return{width:e.width*n.value.maxWidth,height:e.height*n.value.maxHeight}}textRectangle(e,t,n,i,s){const o=t.container;if(o.type=="rectangle")return o.value;const a=2/9,l=n.height/2+s.fontSize*a,u=i=="top"?l:i=="middle"?e.height/2:e.height-l;return{...n,rotation:0,position:{x:e.width/2,y:u}}}}function bs(r,e){if(!e)return 1;if(r===e)return 0;const[t,n,i]=r.split(".").map(l=>Number(l)),[s,o,a]=e.split(".").map(l=>Number(l));return t<s?-1:t>s?1:n<o?-1:n>o?1:i<a?-1:i>a?1:0}const vn=class{static fromFile(e){return new yn().loadAsync(e).then(n=>{const i=n.file("index.json");return i?i.async("string").then(s=>{const o=JSON.parse(s,(l,u)=>(l==="container"&&u.type==="global"&&(u.value.minHeight=.1),u));if(bs(this.FormatVersion,o.formatVersion)==-1)throw new Hn(`application version ${this.FormatVersion} lower than file version ${o.formatVersion}`);let a=Promise.all([Promise.all(o.resources.images.map(l=>{const u=n.file(this.imageFilepath(l));if(!u)throw new Error(`Not found image with id ${l}`);return u.async("blob").then(f=>({id:l,blob:f}))})),Promise.all((o.resources.patterns||[]).map(l=>{const u=n.file(this.patternFilepath(l));if(!u)throw new Error(`Not found pattern with id ${l}`);return u.async("blob").then(f=>({name:l,blob:f}))}))]).then(([l,u])=>({meme:o.meme,resources:{images:l,patterns:u}}));return bs(o.formatVersion,"0.2.2")===-1&&(a=a.then(this.fromV0_2_1ToV0_2_2)),a}):vn.zeroVersion(n).then(vn.fromV0_2_0ToV0_2_1).then(vn.fromV0_2_1ToV0_2_2)})}static fromV0_2_0ToV0_2_1(e){return{...e,resources:{...e.resources,patterns:[]}}}static fromV0_2_1ToV0_2_2(e){return{...e,meme:{frames:e.meme.frames.map(t=>({...t,blocks:t.blocks.map(n=>({...n,effects:[]}))}))}}}static toFile(e){const t=new yn;e.resources.images.forEach(({id:i,blob:s})=>{t.file(this.imageFilepath(i),s,{binary:!0})}),e.resources.patterns.forEach(({name:i,blob:s})=>{t.file(this.patternFilepath(i),s,{binary:!0})});const n={meme:e.meme,formatVersion:this.FormatVersion,editorVersion:this.EditorVersion,resources:{images:e.resources.images.map(i=>i.id),patterns:e.resources.patterns.map(i=>i.name)}};return t.file("index.json",JSON.stringify(n)),t.generateAsync({type:"blob"})}static imageFilepath(e){return`resources/images/${e}.png`}static patternFilepath(e){return`resources/patterns/${e}.png`}static zeroVersion(e){const t=e.file("text.json");if(!t)throw new Hn("Unknown format");const n=t.comment;return t.async("string").then(i=>{const s=JSON.parse(i),o=e.file(/.*\.png/),a=new Array(o.length);return Promise.all(o.map(l=>l.async("blob").then(u=>{const f=+l.name.substring(0,l.name.length-4);return this.imageSizes(u).then(({width:c,height:h})=>{const m={id:`old-frame-${f}`,blocks:[{id:`old-frame-${f}-background`,container:{type:"global",value:{maxHeight:1,maxWidth:1,minHeight:1}},content:{type:"image",value:{id:l.name}}}],height:h,width:c};a[f]=m}).then(()=>({id:l.name,blob:u}))}))).then(l=>{for(let u=0;u<s.length;u++){const f=s[u],c=a[u];if(n)switch(n){case"v0.0.3":c.blocks.push(...f.textContent.map((h,m)=>{const d=h.box,p=It.mergePartials(It.DefaultStyle(),h.style);return{id:`old-frame-${u}-block-${m}`,container:h.main?{type:"global",value:{maxHeight:.4,maxWidth:.96,minHeight:.1}}:{type:"rectangle",value:{height:d.height,width:d.width,position:{x:d.x,y:d.y},rotation:0}},content:{type:"text",value:{text:h.text,style:$r(p,h.main)}}}}));break;case"v0.0.4":c.blocks.push(...f.textContent.map((h,m)=>{const d=h.box,p=It.mergePartials(It.DefaultStyle(),h.style);return{id:`old-frame-${u}-block-${m}`,container:h.main?{type:"global",value:{maxHeight:.4,minHeight:.1,maxWidth:.96}}:{type:"rectangle",value:{height:d._height,width:d._width,position:{x:d.transform.x,y:d.transform.y},rotation:d.transform.rotate}},content:{type:"text",value:{text:h.text,style:$r(p,h.main)}}}}));break;default:throw new Hn(`Unexpected legacy version ${n}`)}else{const h=typeof f=="string"?f:f.text,m=typeof f=="string"?It.DefaultStyle():f.textContent.style,d={text:h,style:$r(It.mergePartials(It.DefaultStyle(),m),!0)};c.blocks.push({id:`old-frame-${u}-block-0`,container:{type:"global",value:{maxHeight:.4,maxWidth:.96,minHeight:.1}},content:{type:"text",value:d}})}}return{meme:{frames:a},resources:{images:l}}})})}static imageSizes(e){return gn(e,xs)}};let rn=vn;Re(rn,"FormatVersion","0.2.2"),Re(rn,"EditorVersion","v0.2.2-4-g7d0cfe4");class Hn extends Error{constructor(e,t){super(`Unsupported version: ${e}`,{cause:t})}}function $r(r,e){var n;const t=(n=r.shadow)!=null&&n.enabled?{blur:r.shadow.blur,color:r.shadow.color,offset:r.shadow.offset}:void 0;return{align:"center",baseline:e?"bottom":"middle",case:r.case,experimental:{},fill:{alpha:1,shadow:t,settings:vs(r.fill)},stroke:{alpha:1,shadow:t,settings:vs(r.stroke)},lineSpacing:r.experimental.lineWidthCoefficient*(r.experimental.lineSpacingCoefficient-.5),strokeWidth:r.experimental.lineWidthCoefficient*100,font:r.font}}function vs(r){switch(r.type){case"color":return{type:"color",value:r.name};case"pattern":return{type:"pattern",name:r.name,rotate:r.patternSettings.rotate,scale:r.patternSettings.scale,shift:r.patternSettings.shift};case"none":return{type:"disabled"};default:throw new Hn(`Failed convert old brush ${JSON.stringify(r)} to material settings`)}}var It;(r=>{function e(){return{case:"UPPER",fill:{name:"#ffffff",type:"color",patternSettings:{rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}},stroke:{name:"#000000",type:"color",patternSettings:{rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}},name:"custom",font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1},shadow:{enabled:!1,color:"#000000",blur:10,offset:{x:0,y:0}},experimental:{lineSpacingCoefficient:.5,lineWidthCoefficient:.1385,interpolationPoint:100}}}r.DefaultStyle=e;function t(i){return i!==null&&typeof i=="object"}function n(i,s){for(const o in i){const a=s[o],l=i[o];t(l)&&(!a||t(a))?s[o]=n(l,a||{}):a===void 0&&(s[o]=l)}return s}r.mergePartials=n})(It||(It={}));function Cg(r){const e=new Set(Object.keys(r));return["empty","await"].every(t=>e.has(t))}function Fg(r){return Object.values(r).every(Cg)}class Rg{constructor(e,t,n,i,s){Re(this,"textures");Re(this,"drawer");Re(this,"meme",{frames:[]});Re(this,"activeFrame");Re(this,"activeBlock");Re(this,"inUpdate",{meme:!1,frame:!1,block:!1});Re(this,"gl");Re(this,"backgroundTasks",new Map);Re(this,"placeholdersTextures",new Array);Re(this,"usedImages",new Map);Re(this,"blockIdGenerator",new Bs("v.0.2.0-"+Date.now().toString()+"-"));Re(this,"setBackground",e=>{const t=new FileReader,n=new Promise((i,s)=>{t.addEventListener("load",()=>i(t.result)),t.addEventListener("error",()=>s(t.error))});t.readAsDataURL(e),this.runTask("Меняем фон",n.then(i=>this.textures.downloadImage(i,{meta:{source:"user",type:"image"}}).then(s=>{this.removeImageUsage(this.activeFrame.blocks[0]),this.activeFrame.blocks[0].content={type:"image",value:{id:s.id}},this.activeFrame.width=s.width,this.activeFrame.height=s.height,this.addImageUsage(this.activeFrame.blocks[0]),this.frameUpdated()})))});Re(this,"drawPreviewAsync",Ng(e=>{this.drawer.drawFrame(e),this.drawPreview(e)},250));Re(this,"zipCanvas",document.createElement("canvas"));Re(this,"zipCtx",this.zipCanvas.getContext("2d"));this.stores=e;const o=t.getContext("webgl2",{premultipliedAlpha:!1});if(!o)throw new Error("Failed to create WebGL2 context!");this.gl=o,this.textures=new mg(o),this.drawer=new Ig(o,this.textures),this.runTask("Загрузка ресурсов",Promise.all(n.map(({name:l,url:u})=>this.textures.downloadImage(u,{id:l,wrap:o.REPEAT,meta:{source:"default",type:"pattern"}}).then(f=>[l,f]))).then(l=>l.map(([u,f])=>({name:u,textureId:f.id}))).then(l=>vt.addPattern(...l))),this.runTask("Загрузка шрифтов",gh()),this.runTask("Загрузка плейсхолдеров",Promise.all(Object.entries(i).map(([l,{empty:u}])=>Promise.all(u.map(({name:f,url:c})=>this.textures.downloadImage(c,{id:`placeholder-${l}-${f}`,meta:{source:"default",type:"image"}}))).then(f=>[l,f]))).then(Object.fromEntries).then(l=>this.placeholdersTextures=l[s]??l.default).then(()=>this.deleteFrame(this.activeFrame)).then(()=>this.draw(this.activeFrame,!0)));const a=Pg(()=>this.draw());e.meme.subscribe(l=>{this.inUpdate.meme||(this.meme=l)}),e.frame.subscribe(l=>{a(),!this.inUpdate.frame&&(this.activeFrame=l)}),e.block.subscribe(l=>{a(),!this.inUpdate.block&&(this.activeBlock=l)})}get busy(){return this.backgroundTasks.size!=0}get currentTask(){return this.busy?this.backgroundTasks.values().next().value:""}runTask(e,t){return this.backgroundTasks.set(t,e),this.stores.busy.set(this.currentTask),t.finally(()=>{this.backgroundTasks.delete(t),this.stores.busy.set(this.currentTask)}),t}addImageUsage(e){if(e.content.type!="image")return;const t=e.content.value.id;if(this.textures.get(t).meta.source=="default")return;let i=this.usedImages.get(t);i||this.usedImages.set(t,i=new Set),i.add(e)}removeImageUsage(e){if(e.content.type!="image")return;const t=e.content.value.id;if(this.textures.get(t).meta.source=="default")return;const i=this.usedImages.get(t);i&&(i.delete(e),i.size==0&&this.textures.delete(t))}memeUpdated(){this.inUpdate.meme=!0,this.stores.meme.set(this.meme),this.inUpdate.meme=!1}frameUpdated(){this.inUpdate.frame=!0,this.stores.frame.set(this.activeFrame),this.inUpdate.frame=!1}blockUpdated(){this.inUpdate.block=!0,this.stores.block.set(this.activeBlock),this.inUpdate.block=!1}shiftBlock(e,t){const n=this.activeFrame.blocks,i=n.indexOf(e);let s=-1;const o=n.length;for(let a=i+t;a>0&&a<o;a+=t)if(n[a].content.type=="text"){s=a;break}s!=-1&&(n[i]=n[s],n[s]=e,this.frameUpdated())}shiftFrame(e,t){const n=this.meme.frames,i=n.indexOf(e),s=i+t;s<0||s>=n.length||(n[i]=n[s],n[s]=e,this.memeUpdated())}addBlock(e=this.activeBlock){e.content.type!=="text"&&(e=this.activeFrame.blocks.find(n=>n.content.type==="text")),e=sn(e),e.id=this.blockIdGenerator.generate(),e.content.type==="text"&&(e.content.value.text="Текст",e.container.type==="global"&&(e.content.value.style.baseline="middle",e.content.value.style.align="center"));const t=this.activeFrame;e.container={type:"rectangle",value:{width:t.width*.5|0,height:t.height*.5|0,position:{x:t.width*.5|0,y:t.height*.5|0},rotation:0}},this.activeFrame.blocks.push(e),this.frameUpdated(),this.activeBlock=e,this.blockUpdated()}newFrame(e){var n,i;const t={...sn(((i=(n=this.activeBlock)==null?void 0:n.content)==null?void 0:i.type)==="text"?this.activeBlock.content.value.style:Fs),baseline:"bottom"};return{id:this.blockIdGenerator.generate(),blocks:[{id:this.blockIdGenerator.generate(),container:{type:"global",value:{maxHeight:1,maxWidth:1,minHeight:1}},content:{type:"image",value:{id:e.id}},effects:[]},{id:this.blockIdGenerator.generate(),container:{type:"global",value:{maxWidth:.96,maxHeight:.4,minHeight:0}},content:{type:"text",value:{text:"",style:t}},effects:[]}],height:e.height,width:e.width}}copyFrame(e){const t=sn(e);return t.id=this.blockIdGenerator.generate(),e.blocks.forEach(n=>n.id=this.blockIdGenerator.generate()),t}addFrame(e){const t=e?this.copyFrame(e):this.newFrame(this.placeholdersTextures[Math.floor(Math.random()*this.placeholdersTextures.length)]);return this.meme.frames.push(t),this.activeFrame=t,t.blocks.forEach(n=>this.addImageUsage(n)),this.memeUpdated(),this.frameUpdated(),t}deleteBlock(e){if(e.id==this.activeBlock.id){const t=this.activeFrame.blocks.find(n=>n.id!=e.id&&n.content.type==="text");t?(this.activeBlock=t,this.blockUpdated()):this.addBlock()}this.removeImageUsage(e),this.activeFrame.blocks.splice(this.activeFrame.blocks.indexOf(e),1),this.frameUpdated()}deleteFrame(e){if(e.id==this.activeFrame.id){const t=this.meme.frames.find(n=>n.id!=e.id);t?(this.activeFrame=t,this.frameUpdated()):this.addFrame()}this.meme.frames.splice(this.meme.frames.indexOf(e),1),e.blocks.forEach(t=>this.removeImageUsage(t)),this.memeUpdated()}copyFrameToClipboard(){return this.runTask("Копируем",this.frameBlob(this.activeFrame).then(e=>Bg(e)))}frameBlob(e){return this.drawer.drawFrame(e),wr(this.gl.canvas)}drawPreview(e){var t,n;(n=(t=this.stores.previews.value)[e.id])==null||n.call(t,this.gl.canvas)}draw(e=this.activeFrame,t=!1){this.busy&&!t||(this.drawer.drawFrame(e),t?this.drawPreview(e):this.drawPreviewAsync(e))}renderMeme(){return this.runTask("Пакуем мем",Promise.all(this.meme.frames.map(e=>this.frameBlob(e))).then(e=>{if(this.drawer.drawFrame(this.activeFrame),e.length==1)return{ext:"png",blob:e[0]};const t=new yn,n=e.length.toString().length;return e.forEach((i,s)=>{t.file(`${(s+1).toString().padStart(n,"0")}.png`,i,{binary:!0})}),t.generateAsync({type:"blob"}).then(i=>({ext:"zip",blob:i}))}))}getImagesList(e=this.meme){return Array.from(new Set(e.frames.flatMap(t=>t.blocks.map(n=>n.content).map(n=>n.type=="image"?this.textures.get(n.value.id):"").filter(n=>n&&n.meta.source=="user"&&n.meta.type=="image"))))}getPatternsList(e=this.meme){return Array.from(new Set(e.frames.flatMap(t=>t.blocks.map(n=>n.content).flatMap(n=>{if(n.type!="text")return[];const i=[],s=n.value.style;return s.fill.settings.type=="pattern"&&i.push(s.fill.settings.name),s.stroke.settings.type=="pattern"&&i.push(s.stroke.settings.name),i}).filter(n=>n)))).map(t=>({name:t,texture:this.textures.get(vt.getTexture(t))})).filter(({texture:t})=>t.meta.source=="user")}exportMeme(){const e=this.getImagesList(),t=this.getPatternsList();return this.runTask("Пакуем мем",Promise.all([Promise.all(e.map(n=>(this.zipCanvas.width=n.width,this.zipCanvas.height=n.height,this.zipCtx.drawImage(n.original,0,0),wr(this.zipCanvas).then(i=>({id:n.id,blob:i}))))),Promise.all(t.map(({name:n,texture:i})=>(this.zipCanvas.width=i.width,this.zipCanvas.height=i.height,this.zipCtx.drawImage(i.original,0,0),wr(this.zipCanvas).then(s=>({name:n,blob:s})))))]).then(([n,i])=>rn.toFile({meme:this.meme,resources:{images:n,patterns:i}})))}openMeme(e){return this.runTask("Распаковываем мем",rn.fromFile(e).then(t=>(this.getImagesList().forEach(n=>this.textures.delete(n.id)),this.usedImages.clear(),Promise.all(t.resources.images.map(({id:n,blob:i})=>gn(i,s=>this.textures.downloadImage(s,{id:n,meta:{source:"user",type:"image"}}))).concat(t.resources.patterns.map(({name:n,blob:i})=>gn(i,s=>(vt.has(n)&&(this.textures.delete(vt.getTexture(n)),vt.delete(n)),this.textures.downloadImage(s,{meta:{source:"user",type:"pattern"}}).then(o=>vt.addPattern({name:n,textureId:o.id}))))))).then(()=>(this.meme=t.meme,this.meme.frames.flatMap(n=>n.blocks).forEach(n=>this.addImageUsage(n)),this.activeFrame=this.meme.frames[0],this.memeUpdated(),this.frameUpdated(),yr())).then(()=>{this.meme.frames.forEach(n=>this.draw(n,!0)),this.draw()}))))}framesFromImages(e){return this.runTask("Загружаем картинки",Promise.all(e.map(t=>gn(t,n=>this.textures.downloadImage(n,{meta:{source:"user",type:"image"}})))).then(t=>t.map(n=>this.addFrame(this.newFrame(n)))).then(t=>yr().then(()=>t)).then(t=>{t.forEach(n=>this.draw(n,!0))}))}addPattern(e,t){return this.runTask("Добавляем паттерн",gn(t,n=>this.textures.downloadImage(n,{meta:{source:"user",type:"pattern"}})).then(n=>{const i={name:e,textureId:n.id};return vt.addPattern(i),i})).then(()=>this.draw(this.activeFrame))}clear(){vt.clear(),this.textures.clear(),this.usedImages.clear(),this.drawer.clear()}}function Pg(r){let e=0;return(...t)=>{e||(e=requestAnimationFrame(()=>{e=0,r.apply(void 0,t)}))}}function Ng(r,e){let t=0;return(...n)=>{t&&clearTimeout(t),t=setTimeout(()=>{t=0,r.apply(void 0,n)},e)}}function wr(r){return new Promise((e,t)=>r.toBlob(n=>{if(!n){t(new Error("Failed to get blob from canvas"));return}e(n)}))}class Oo extends Error{constructor(e,t){super(e),this.blob=t}}function Bg(r){return window.ClipboardItem?window.navigator.clipboard.write([new ClipboardItem({[r.type]:r})]):Promise.reject(new Oo("Ваш браузер не поддерживает копирование изображений из скриптов.",r))}function xg(r){let e,t;return{c(){e=ne("article"),t=ge(r[6]),this.h()},l(n){e=re(n,"ARTICLE",{class:!0});var i=ae(e);t=be(i,r[6]),i.forEach(S),this.h()},h(){W(e,"class","svelte-1ow4yee")},m(n,i){G(n,e,i),X(e,t)},p(n,i){i[0]&64&&ot(t,n[6])},d(n){n&&S(e)}}}function Mg(r){let e,t,n,i,s,o,a,l,u,f,c,h,m;e=new wn({props:{open:r[6]!=="",closable:!1,$$slots:{default:[xg]},$$scope:{ctx:r}}});function d(A){r[20](A)}let p={};r[4]!==void 0&&(p.fallbackBlob=r[4]),n=new lf({props:p}),Te.push(()=>Ie(n,"fallbackBlob",d));function g(A){r[21](A)}function _(A){r[22](A)}function $(A){r[23](A)}function k(A){r[24](A)}function y(A){r[25](A)}function P(A){r[26](A)}let C={version:"v0.2.2-4-g7d0cfe4",memeExampleURL:r[0]};return r[7]!==void 0&&(C.meme=r[7]),r[8]!==void 0&&(C.frame=r[8]),r[9]!==void 0&&(C.block=r[9]),r[3]!==void 0&&(C.canvasUI=r[3]),r[2]!==void 0&&(C.canvasWebgl=r[2]),r[10]!==void 0&&(C.previews=r[10]),o=new Ed({props:C}),Te.push(()=>Ie(o,"meme",g)),Te.push(()=>Ie(o,"frame",_)),Te.push(()=>Ie(o,"block",$)),Te.push(()=>Ie(o,"canvasUI",k)),Te.push(()=>Ie(o,"canvasWebgl",y)),Te.push(()=>Ie(o,"previews",P)),o.$on("openMeme",r[27]),o.$on("saveMeme",r[28]),o.$on("renderMeme",r[29]),o.$on("changeBackground",r[30]),o.$on("frameToClipboard",r[16]),o.$on("createBlock",r[31]),o.$on("shiftBlock",r[32]),o.$on("deleteBlock",r[33]),o.$on("createFrame",r[34]),o.$on("shiftFrame",r[35]),o.$on("deleteFrame",r[36]),o.$on("framesFromImages",r[37]),o.$on("addPattern",r[38]),{c(){N(e.$$.fragment),t=fe(),N(n.$$.fragment),s=fe(),N(o.$$.fragment)},l(A){B(e.$$.fragment,A),t=ce(A),B(n.$$.fragment,A),s=ce(A),B(o.$$.fragment,A)},m(A,O){x(e,A,O),G(A,t,O),x(n,A,O),G(A,s,O),x(o,A,O),m=!0},p(A,O){const L={};O[0]&64&&(L.open=A[6]!==""),O[0]&64|O[1]&2048&&(L.$$scope={dirty:O,ctx:A}),e.$set(L);const U={};!i&&O[0]&16&&(i=!0,U.fallbackBlob=A[4],Ce(()=>i=!1)),n.$set(U);const se={};O[0]&1&&(se.memeExampleURL=A[0]),!a&&O[0]&128&&(a=!0,se.meme=A[7],Ce(()=>a=!1)),!l&&O[0]&256&&(l=!0,se.frame=A[8],Ce(()=>l=!1)),!u&&O[0]&512&&(u=!0,se.block=A[9],Ce(()=>u=!1)),!f&&O[0]&8&&(f=!0,se.canvasUI=A[3],Ce(()=>f=!1)),!c&&O[0]&4&&(c=!0,se.canvasWebgl=A[2],Ce(()=>c=!1)),!h&&O[0]&1024&&(h=!0,se.previews=A[10],Ce(()=>h=!1)),o.$set(se)},i(A){m||(w(e.$$.fragment,A),w(n.$$.fragment,A),w(o.$$.fragment,A),m=!0)},o(A){E(e.$$.fragment,A),E(n.$$.fragment,A),E(o.$$.fragment,A),m=!1},d(A){M(e,A),A&&S(t),M(n,A),A&&S(s),M(o,A)}}}function zg(r){let e,t,n;function i(o){r[39](o)}let s={$$slots:{default:[Mg]},$$scope:{ctx:r}};return r[5]!==void 0&&(s.theme=r[5]),e=new Td({props:s}),Te.push(()=>Ie(e,"theme",i)),{c(){N(e.$$.fragment)},l(o){B(e.$$.fragment,o)},m(o,a){x(e,o,a),n=!0},p(o,a){const l={};a[0]&2015|a[1]&2048&&(l.$$scope={dirty:a,ctx:o}),!t&&a[0]&32&&(t=!0,l.theme=o[5],Ce(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){M(e,o)}}}function Ug(r,e,t){let n,i,s,o,a,l;Ct(r,Yi,J=>t(5,n=J));let{patternUrls:u}=e,{placeholdersUrls:f}=e,{memeURL:c=null}=e,{memeExampleURL:h}=e;const m=new Fn({frames:[{height:300,width:600,id:"loading-placeholder",blocks:[{id:"loading-block-placeholder",container:{type:"global",value:{maxHeight:.9,maxWidth:.9,minHeight:0}},content:{type:"text",value:{text:"Loading...",style:Fs}},effects:[]}]}]});Ct(r,m,J=>t(7,s=J));const d=new Fn(m.value.frames[0]);Ct(r,d,J=>t(8,o=J));const p=new Fn(d.value.blocks.find(J=>J.content.type=="text"));Ct(r,p,J=>t(9,a=J));let g=d.value.id;m.subscribe(()=>{g=""}),d.subscribe(J=>{g!=J.id&&(g=J.id,p.set(J.blocks.find(Fe=>Fe.content.type=="text")))});let _,$,k,y=new Fn({});Ct(r,y,J=>t(10,l=J));let P=Kn("Собираем интерфейс...");Ct(r,P,J=>t(6,i=J));let C="default";ln(()=>(C=new URL(location.href).searchParams.get("skin")??C,t(1,_=new Rg({block:p,frame:d,meme:m,busy:P,previews:y},$,u,f,C)),new xd(k,$,m,d,p),c&&yr().then(()=>fetch(c)).then(J=>J.blob()).then(J=>_.openMeme(J)),()=>_.clear()));let A=null;function O(){_&&_.copyFrameToClipboard().catch(J=>{if(J instanceof Oo)t(4,A=J.blob);else throw J})}function L(J){A=J,t(4,A)}function U(J){s=J,m.set(s)}function se(J){o=J,d.set(o)}function F(J){a=J,p.set(a)}function I(J){k=J,t(3,k)}function v(J){$=J,t(2,$)}function q(J){l=J,y.set(l)}const _e=J=>_==null?void 0:_.openMeme(J.detail.file),z=()=>{var J;return(J=_==null?void 0:_.exportMeme())==null?void 0:J.then(ts("meme.meme"))},he=()=>{var J;return(J=_==null?void 0:_.renderMeme())==null?void 0:J.then(({ext:Fe,blob:De})=>ts(`meme.${Fe}`)(De))},ee=J=>_==null?void 0:_.setBackground(J.detail.file),ye=J=>{var Fe;return _==null?void 0:_.addBlock((Fe=J.detail)==null?void 0:Fe.origin)},H=J=>_==null?void 0:_.shiftBlock(J.detail.block,J.detail.shift),j=J=>_==null?void 0:_.deleteBlock(J.detail.block),Y=J=>{var Fe;return _==null?void 0:_.addFrame((Fe=J.detail)==null?void 0:Fe.origin)},Q=J=>_==null?void 0:_.shiftFrame(J.detail.frame,J.detail.shift),me=J=>_==null?void 0:_.deleteFrame(J.detail.frame),ie=J=>_==null?void 0:_.framesFromImages(J.detail.files),Z=J=>_==null?void 0:_.addPattern(J.detail.name,J.detail.image);function Ae(J){n=J,Yi.set(n)}return r.$$set=J=>{"patternUrls"in J&&t(17,u=J.patternUrls),"placeholdersUrls"in J&&t(18,f=J.placeholdersUrls),"memeURL"in J&&t(19,c=J.memeURL),"memeExampleURL"in J&&t(0,h=J.memeExampleURL)},[h,_,$,k,A,n,i,s,o,a,l,m,d,p,y,P,O,u,f,c,L,U,se,F,I,v,q,_e,z,he,ee,ye,H,j,Y,Q,me,ie,Z,Ae]}class Dg extends $e{constructor(e){super(),we(this,e,Ug,zg,ve,{patternUrls:17,placeholdersUrls:18,memeURL:19,memeExampleURL:0},null,[-1,-1])}}const Lg=""+new URL("../assets/docs.382a62e4.meme",import.meta.url).href,Og=""+new URL("../assets/checkered.07b41575.webp",import.meta.url).href,Gg=""+new URL("../assets/debug.ca573084.webp",import.meta.url).href,Hg=""+new URL("../assets/fire.f2d0e917.webp",import.meta.url).href,jg=""+new URL("../assets/glitter-gold.b5c4520e.webp",import.meta.url).href,Wg=""+new URL("../assets/rainbow.3197970b.webp",import.meta.url).href,Vg=""+new URL("../assets/stars.049cd9a5.webp",import.meta.url).href,Zg=""+new URL("../assets/1.fc1781c3.webp",import.meta.url).href,Xg=""+new URL("../assets/1.218b17fc.webp",import.meta.url).href,qg=""+new URL("../assets/1.949784d4.webp",import.meta.url).href,Yg=""+new URL("../assets/1.11d6ce27.webp",import.meta.url).href,Kg=""+new URL("../assets/2.97d5dc7d.webp",import.meta.url).href,Jg=""+new URL("../assets/3.e8249041.webp",import.meta.url).href,Qg=""+new URL("../assets/4.94ed153e.webp",import.meta.url).href,e2=""+new URL("../assets/5.843b6f84.webp",import.meta.url).href,t2=""+new URL("../assets/6.056d0cf4.webp",import.meta.url).href,n2=""+new URL("../assets/7.6fc2d0f6.webp",import.meta.url).href;function r2([r,e]){const t=r.split("/");let n=t[t.length-1];return n=n.slice(0,n.lastIndexOf(".")),{name:n,url:e}}function i2(r){return Object.entries(r).map(r2)}const s2=i2(Object.assign({"/src/lib/resources/patterns/checkered.png":Og,"/src/lib/resources/patterns/debug.png":Gg,"/src/lib/resources/patterns/fire.png":Hg,"/src/lib/resources/patterns/glitter-gold.jpg":jg,"/src/lib/resources/patterns/rainbow.png":Wg,"/src/lib/resources/patterns/stars.png":Vg})),Nr=Object.entries(Object.assign({"/src/lib/resources/placeholders/default/await/1.png":Zg,"/src/lib/resources/placeholders/default/empty/1.png":Xg,"/src/lib/resources/placeholders/inside/await/1.png":qg,"/src/lib/resources/placeholders/inside/empty/1.png":Yg,"/src/lib/resources/placeholders/inside/empty/2.png":Kg,"/src/lib/resources/placeholders/inside/empty/3.png":Jg,"/src/lib/resources/placeholders/inside/empty/4.png":Qg,"/src/lib/resources/placeholders/inside/empty/5.png":e2,"/src/lib/resources/placeholders/inside/empty/6.png":t2,"/src/lib/resources/placeholders/inside/empty/7.png":n2})).map(([r,e])=>{const t=/placeholders\//.exec(r);if(!t)throw Error(`Not found prefix 'placeholder' in '${r}''`);const n=t.index+t[0].length,i=r.substring(n),[s,o,a]=i.split("/"),l=a.slice(0,a.lastIndexOf("."));return{skin:s,category:o,name:l,url:e}}).reduce((r,e)=>(r[e.skin]=r[e.skin]??{},r[e.skin][e.category]=r[e.skin][e.category]??[],r[e.skin][e.category].push(e),r),{});if(!Fg(Nr))throw Error(`Incorrect configuration: this is not skins map: ${JSON.stringify(Nr)}`);const $s={patternUrls:s2,placeholdersUrls:Nr};function o2(r){let e,t;return e=new Dg({props:{patternUrls:$s.patternUrls,placeholdersUrls:$s.placeholdersUrls,memeExampleURL:Lg}}),{c(){N(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,i){x(e,n,i),t=!0},p:Qe,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}class f2 extends $e{constructor(e){super(),we(this,e,null,o2,ve,{})}}export{f2 as default};
