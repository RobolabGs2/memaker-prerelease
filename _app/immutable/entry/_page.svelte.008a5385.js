var ea=Object.defineProperty;var ta=(i,e,t)=>e in i?ea(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Fe=(i,e,t)=>(ta(i,typeof e!="symbol"?e+"":e,t),t);import{S as we,i as ye,s as ve,C as Me,J as fe,K as Ss,e as Oe,L as Ts,m as re,h as A,M as Vn,b as O,G as H,D as ze,E as Ue,F as De,N as He,g as w,d as k,O as kn,P as li,Q as Ie,y as M,z,A as U,R as Ve,B as D,k as J,l as Q,n as L,T as Zn,U as nt,V as Re,W as lt,X as Ce,v as je,f as We,Y as na,Z as vt,o as hn,a as le,c as ue,_ as ra,q as de,r as pe,$ as En,p as pt,a0 as Is,a1 as Cs,H as qe,w as ke,u as st,a2 as it,a3 as ia,a4 as Se,a5 as Te,a6 as xt,a7 as ft,I as At,t as Ar,a8 as sa}from"../chunks/index.b300e087.js";import{w as An}from"../chunks/index.d7a5938c.js";var ui={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function fi(i,e,t){const n=i.slice();return n[9]=e[t][0],n[10]=e[t][1],n}function dr(i){let e,t=[i[10]],n={};for(let r=0;r<t.length;r+=1)n=fe(n,t[r]);return{c(){e=Ss(i[9]),this.h()},l(r){e=Ts(r,i[9],{}),re(e).forEach(A),this.h()},h(){Vn(e,n)},m(r,s){O(r,e,s)},p(r,s){n=He(t,[s&16&&r[10]]),Vn(e,n)},d(r){r&&A(e)}}}function ci(i){let e=i[9],t,n=i[9]&&dr(i);return{c(){n&&n.c(),t=Oe()},l(r){n&&n.l(r),t=Oe()},m(r,s){n&&n.m(r,s),O(r,t,s)},p(r,s){r[9]?e?ve(e,r[9])?(n.d(1),n=dr(r),n.c(),n.m(t.parentNode,t)):n.p(r,s):(n=dr(r),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=r[9]},d(r){r&&A(t),n&&n.d(r)}}}function oa(i){let e,t,n,r,s=i[4],o=[];for(let c=0;c<s.length;c+=1)o[c]=ci(fi(i,s,c));const a=i[8].default,l=Me(a,i,i[7],null);let u=[ui,i[5],{width:i[2]},{height:i[2]},{stroke:i[1]},{"stroke-width":i[3]},{class:n=`tabler-icon tabler-icon-${i[0]} ${i[6].class??""}`}],f={};for(let c=0;c<u.length;c+=1)f=fe(f,u[c]);return{c(){e=Ss("svg");for(let c=0;c<o.length;c+=1)o[c].c();t=Oe(),l&&l.c(),this.h()},l(c){e=Ts(c,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var h=re(e);for(let m=0;m<o.length;m+=1)o[m].l(h);t=Oe(),l&&l.l(h),h.forEach(A),this.h()},h(){Vn(e,f)},m(c,h){O(c,e,h);for(let m=0;m<o.length;m+=1)o[m].m(e,null);H(e,t),l&&l.m(e,null),r=!0},p(c,[h]){if(h&16){s=c[4];let m;for(m=0;m<s.length;m+=1){const d=fi(c,s,m);o[m]?o[m].p(d,h):(o[m]=ci(d),o[m].c(),o[m].m(e,t))}for(;m<o.length;m+=1)o[m].d(1);o.length=s.length}l&&l.p&&(!r||h&128)&&ze(l,a,c,c[7],r?De(a,c[7],h,null):Ue(c[7]),null),Vn(e,f=He(u,[ui,h&32&&c[5],(!r||h&4)&&{width:c[2]},(!r||h&4)&&{height:c[2]},(!r||h&2)&&{stroke:c[1]},(!r||h&8)&&{"stroke-width":c[3]},(!r||h&65&&n!==(n=`tabler-icon tabler-icon-${c[0]} ${c[6].class??""}`))&&{class:n}]))},i(c){r||(w(l,c),r=!0)},o(c){k(l,c),r=!1},d(c){c&&A(e),kn(o,c),l&&l.d(c)}}}function aa(i,e,t){const n=["name","color","size","stroke","iconNode"];let r=li(e,n),{$$slots:s={},$$scope:o}=e,{name:a}=e,{color:l="currentColor"}=e,{size:u=24}=e,{stroke:f=2}=e,{iconNode:c}=e;return i.$$set=h=>{t(6,e=fe(fe({},e),Ie(h))),t(5,r=li(e,n)),"name"in h&&t(0,a=h.name),"color"in h&&t(1,l=h.color),"size"in h&&t(2,u=h.size),"stroke"in h&&t(3,f=h.stroke),"iconNode"in h&&t(4,c=h.iconNode),"$$scope"in h&&t(7,o=h.$$scope)},e=Ie(e),[a,l,u,f,c,r,e,o,s]}class la extends we{constructor(e){super(),ye(this,e,aa,oa,ve,{name:0,color:1,size:2,stroke:3,iconNode:4})}}const Ze=la;function ua(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function fa(i){let e,t;const n=[{name:"align-box-bottom-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ua]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function ca(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M9 15v2"}],["path",{d:"M12 11v6"}],["path",{d:"M15 13v4"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class ha extends we{constructor(e){super(),ye(this,e,ca,fa,ve,{})}}const ma=ha;function da(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function pa(i){let e,t;const n=[{name:"align-box-center-middle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[da]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function _a(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M11 15h2"}],["path",{d:"M9 12h6"}],["path",{d:"M10 9h4"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class ga extends we{constructor(e){super(),ye(this,e,_a,pa,ve,{})}}const ba=ga;function va(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function $a(i){let e,t;const n=[{name:"align-box-top-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[va]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function wa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}],["path",{d:"M9 9v-2"}],["path",{d:"M12 13v-6"}],["path",{d:"M15 11v-4"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class ya extends we{constructor(e){super(),ye(this,e,wa,$a,ve,{})}}const Ea=ya;function ka(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Aa(i){let e,t;const n=[{name:"align-center"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ka]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Sa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M8 12l8 0"}],["path",{d:"M6 18l12 0"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Ta extends we{constructor(e){super(),ye(this,e,Sa,Aa,ve,{})}}const Ia=Ta;function Ca(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ra(i){let e,t;const n=[{name:"align-left"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ca]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Fa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M4 12l10 0"}],["path",{d:"M4 18l14 0"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Na extends we{constructor(e){super(),ye(this,e,Fa,Ra,ve,{})}}const Pa=Na;function Ba(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ma(i){let e,t;const n=[{name:"align-right"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ba]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function za(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 6l16 0"}],["path",{d:"M10 12l10 0"}],["path",{d:"M6 18l14 0"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Ua extends we{constructor(e){super(),ye(this,e,za,Ma,ve,{})}}const Da=Ua;function La(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function xa(i){let e,t;const n=[{name:"arrow-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[La]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Oa(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M18 13l-6 6"}],["path",{d:"M6 13l6 6"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Ga extends we{constructor(e){super(),ye(this,e,Oa,xa,ve,{})}}const Ha=Ga;function ja(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Wa(i){let e,t;const n=[{name:"arrow-up"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ja]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Va(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M18 11l-6 -6"}],["path",{d:"M6 11l6 -6"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Za extends we{constructor(e){super(),ye(this,e,Va,Wa,ve,{})}}const Xa=Za;function qa(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ka(i){let e,t;const n=[{name:"bold"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[qa]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Ya(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Ja extends we{constructor(e){super(),ye(this,e,Ya,Ka,ve,{})}}const Qa=Ja;function el(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function tl(i){let e,t;const n=[{name:"box-align-bottom"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[el]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function nl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 14h16v5a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1v-5z"}],["path",{d:"M4 9v.01"}],["path",{d:"M4 4v.01"}],["path",{d:"M9 4v.01"}],["path",{d:"M15 4v.01"}],["path",{d:"M20 4v.01"}],["path",{d:"M20 9v.01"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class rl extends we{constructor(e){super(),ye(this,e,nl,tl,ve,{})}}const il=rl;function sl(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ol(i){let e,t;const n=[{name:"box-align-top"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[sl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function al(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 9.505h16v-5a1 1 0 0 0 -1 -1h-14a1 1 0 0 0 -1 1v5z"}],["path",{d:"M4 14.505v-.01"}],["path",{d:"M4 19.505v-.01"}],["path",{d:"M9 19.505v-.01"}],["path",{d:"M15 19.505v-.01"}],["path",{d:"M20 19.505v-.01"}],["path",{d:"M20 14.505v-.01"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class ll extends we{constructor(e){super(),ye(this,e,al,ol,ve,{})}}const ul=ll;function fl(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function cl(i){let e,t;const n=[{name:"brand-github-filled"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[fl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function hl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M5.315 2.1c.791 -.113 1.9 .145 3.333 .966l.272 .161l.16 .1l.397 -.083a13.3 13.3 0 0 1 4.59 -.08l.456 .08l.396 .083l.161 -.1c1.385 -.84 2.487 -1.17 3.322 -1.148l.164 .008l.147 .017l.076 .014l.05 .011l.144 .047a1 1 0 0 1 .53 .514a5.2 5.2 0 0 1 .397 2.91l-.047 .267l-.046 .196l.123 .163c.574 .795 .93 1.728 1.03 2.707l.023 .295l.007 .272c0 3.855 -1.659 5.883 -4.644 6.68l-.245 .061l-.132 .029l.014 .161l.008 .157l.004 .365l-.002 .213l-.003 3.834a1 1 0 0 1 -.883 .993l-.117 .007h-6a1 1 0 0 1 -.993 -.883l-.007 -.117v-.734c-1.818 .26 -3.03 -.424 -4.11 -1.878l-.535 -.766c-.28 -.396 -.455 -.579 -.589 -.644l-.048 -.019a1 1 0 0 1 .564 -1.918c.642 .188 1.074 .568 1.57 1.239l.538 .769c.76 1.079 1.36 1.459 2.609 1.191l.001 -.678l-.018 -.168a5.03 5.03 0 0 1 -.021 -.824l.017 -.185l.019 -.12l-.108 -.024c-2.976 -.71 -4.703 -2.573 -4.875 -6.139l-.01 -.31l-.004 -.292a5.6 5.6 0 0 1 .908 -3.051l.152 -.222l.122 -.163l-.045 -.196a5.2 5.2 0 0 1 .145 -2.642l.1 -.282l.106 -.253a1 1 0 0 1 .529 -.514l.144 -.047l.154 -.03z","stroke-width":"0",fill:"currentColor"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class ml extends we{constructor(e){super(),ye(this,e,hl,cl,ve,{})}}const dl=ml;function pl(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function _l(i){let e,t;const n=[{name:"brand-vk"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[pl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function gl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M14 19h-4a8 8 0 0 1 -8 -8v-5h4v5a4 4 0 0 0 4 4h0v-9h4v4.5l.03 0a4.531 4.531 0 0 0 3.97 -4.496h4l-.342 1.711a6.858 6.858 0 0 1 -3.658 4.789h0a5.34 5.34 0 0 1 3.566 4.111l.434 2.389h0h-4a4.531 4.531 0 0 0 -3.97 -4.496v4.5z"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class bl extends we{constructor(e){super(),ye(this,e,gl,_l,ve,{})}}const vl=bl;function $l(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function wl(i){let e,t;const n=[{name:"chevron-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[$l]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function yl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M6 9l6 6l6 -6"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class El extends we{constructor(e){super(),ye(this,e,yl,wl,ve,{})}}const kl=El;function Al(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Sl(i){let e,t;const n=[{name:"copy"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Al]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Tl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}],["path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Il extends we{constructor(e){super(),ye(this,e,Tl,Sl,ve,{})}}const Rs=Il;function Cl(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Rl(i){let e,t;const n=[{name:"device-floppy"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Cl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Fl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}],["path",{d:"M14 4l0 4l-6 0l0 -4"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Nl extends we{constructor(e){super(),ye(this,e,Fl,Rl,ve,{})}}const Pl=Nl;function Bl(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ml(i){let e,t;const n=[{name:"help"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Bl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function zl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}],["path",{d:"M12 17l0 .01"}],["path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Ul extends we{constructor(e){super(),ye(this,e,zl,Ml,ve,{})}}const Dl=Ul;function Ll(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function xl(i){let e,t;const n=[{name:"history"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Ll]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Ol(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 8l0 4l2 2"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Gl extends we{constructor(e){super(),ye(this,e,Ol,xl,ve,{})}}const Hl=Gl;function jl(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Wl(i){let e,t;const n=[{name:"info-circle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[jl]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Vl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}],["path",{d:"M12 9h.01"}],["path",{d:"M11 12h1v4h1"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Zl extends we{constructor(e){super(),ye(this,e,Vl,Wl,ve,{})}}const Xl=Zl;function ql(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Kl(i){let e,t;const n=[{name:"italic"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ql]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Yl(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M11 5l6 0"}],["path",{d:"M7 19l6 0"}],["path",{d:"M14 5l-4 14"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Jl extends we{constructor(e){super(),ye(this,e,Yl,Kl,ve,{})}}const Ql=Jl;function eu(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function tu(i){let e,t;const n=[{name:"line-height"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[eu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function nu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 8l3 -3l3 3"}],["path",{d:"M3 16l3 3l3 -3"}],["path",{d:"M6 5l0 14"}],["path",{d:"M13 6l7 0"}],["path",{d:"M13 12l7 0"}],["path",{d:"M13 18l7 0"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class ru extends we{constructor(e){super(),ye(this,e,nu,tu,ve,{})}}const iu=ru;function su(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ou(i){let e,t;const n=[{name:"minus"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[su]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function au(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M5 12l14 0"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class lu extends we{constructor(e){super(),ye(this,e,au,ou,ve,{})}}const uu=lu;function fu(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function cu(i){let e,t;const n=[{name:"new-section"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[fu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function hu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M9 12l6 0"}],["path",{d:"M12 9l0 6"}],["path",{d:"M4 6v-1a1 1 0 0 1 1 -1h1m5 0h2m5 0h1a1 1 0 0 1 1 1v1m0 5v2m0 5v1a1 1 0 0 1 -1 1h-1m-5 0h-2m-5 0h-1a1 1 0 0 1 -1 -1v-1m0 -5v-2m0 -5"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class mu extends we{constructor(e){super(),ye(this,e,hu,cu,ve,{})}}const Fs=mu;function du(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function pu(i){let e,t;const n=[{name:"photo-down"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[du]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function _u(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4"}],["path",{d:"M14 14l1 -1c.653 -.629 1.413 -.815 2.13 -.559"}],["path",{d:"M19 16v6"}],["path",{d:"M22 19l-3 3l-3 -3"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class gu extends we{constructor(e){super(),ye(this,e,_u,pu,ve,{})}}const bu=gu;function vu(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function $u(i){let e,t;const n=[{name:"photo-up"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[vu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function wu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l3.5 3.5"}],["path",{d:"M14 14l1 -1c.679 -.653 1.473 -.829 2.214 -.526"}],["path",{d:"M19 22v-6"}],["path",{d:"M22 19l-3 -3l-3 3"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class yu extends we{constructor(e){super(),ye(this,e,wu,$u,ve,{})}}const Eu=yu;function ku(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Au(i){let e,t;const n=[{name:"photo"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[ku]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Su(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M15 8h.01"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Tu extends we{constructor(e){super(),ye(this,e,Su,Au,ve,{})}}const Iu=Tu;function Cu(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ru(i){let e,t;const n=[{name:"plus"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Cu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Fu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M12 5l0 14"}],["path",{d:"M5 12l14 0"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Nu extends we{constructor(e){super(),ye(this,e,Fu,Ru,ve,{})}}const Ns=Nu;function Pu(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Bu(i){let e,t;const n=[{name:"rectangle"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Pu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Mu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class zu extends we{constructor(e){super(),ye(this,e,Mu,Bu,ve,{})}}const Uu=zu;function Du(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Lu(i){let e,t;const n=[{name:"settings"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Du]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function xu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Ou extends we{constructor(e){super(),ye(this,e,xu,Lu,ve,{})}}const Gu=Ou;function Hu(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ju(i){let e,t;const n=[{name:"trash"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Hu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Wu(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 7l16 0"}],["path",{d:"M10 11l0 6"}],["path",{d:"M14 11l0 6"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Vu extends we{constructor(e){super(),ye(this,e,Wu,ju,ve,{})}}const Zu=Vu;function Xu(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function qu(i){let e,t;const n=[{name:"upload"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Xu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function Ku(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}],["path",{d:"M7 9l5 -5l5 5"}],["path",{d:"M12 4l0 12"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class Yu extends we{constructor(e){super(),ye(this,e,Ku,qu,ve,{})}}const Ju=Yu;function Qu(i){let e;const t=i[2].default,n=Me(t,i,i[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&8)&&ze(n,t,r,r[3],e?De(t,r[3],s,null):Ue(r[3]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function ef(i){let e,t;const n=[{name:"x"},i[1],{iconNode:i[0]}];let r={$$slots:{default:[Qu]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=fe(r,n[s]);return e=new Ze({props:r}),{c(){M(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,o){U(e,s,o),t=!0},p(s,[o]){const a=o&3?He(n,[n[0],o&2&&Ve(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){k(e.$$.fragment,s),t=!1},d(s){D(e,s)}}}function tf(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=[["path",{d:"M18 6l-12 12"}],["path",{d:"M6 6l12 12"}]];return i.$$set=o=>{t(1,e=fe(fe({},e),Ie(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=Ie(e),[s,e,n,r]}class nf extends we{constructor(e){super(),ye(this,e,tf,ef,ve,{})}}const rf=nf;function sf(i){let e,t,n,r,s,o;const a=i[11].default,l=Me(a,i,i[10],null);return{c(){e=J("main"),l&&l.c(),this.h()},l(u){e=Q(u,"MAIN",{role:!0,tabindex:!0,title:!0,class:!0,style:!0});var f=re(e);l&&l.l(f),f.forEach(A),this.h()},h(){L(e,"role","button"),L(e,"tabindex",1),L(e,"title",i[4]),L(e,"class",t=Zn(i[2])+" svelte-1nn75kw"),L(e,"style",n=`justify-content:${i[6]};width:${i[8]};${i[9]?`${i[9]};`:""}${i[3]};`),nt(e,"active",i[0]),nt(e,"disabled",i[1]),nt(e,"disablePadding",i[5]),nt(e,"border",i[7])},m(u,f){O(u,e,f),l&&l.m(e,null),r=!0,s||(o=[Re(e,"click",i[12]),Re(e,"mousemove",i[13]),Re(e,"mouseout",i[14]),Re(e,"mouseover",i[15]),Re(e,"mouseup",i[16]),Re(e,"mousedown",i[17]),Re(e,"mouseenter",i[18]),Re(e,"mouseleave",i[19]),Re(e,"touchstart",i[20],{passive:!0}),Re(e,"touchmove",i[21],{passive:!0}),Re(e,"touchcancel",i[22],{passive:!0}),Re(e,"touchend",i[23],{passive:!0}),Re(e,"keydown",i[24]),Re(e,"keyup",i[25]),Re(e,"focus",i[26]),Re(e,"focusin",i[27]),Re(e,"focusout",i[28]),Re(e,"blur",i[29])],s=!0)},p(u,[f]){l&&l.p&&(!r||f&1024)&&ze(l,a,u,u[10],r?De(a,u[10],f,null):Ue(u[10]),null),(!r||f&16)&&L(e,"title",u[4]),(!r||f&4&&t!==(t=Zn(u[2])+" svelte-1nn75kw"))&&L(e,"class",t),(!r||f&840&&n!==(n=`justify-content:${u[6]};width:${u[8]};${u[9]?`${u[9]};`:""}${u[3]};`))&&L(e,"style",n),(!r||f&5)&&nt(e,"active",u[0]),(!r||f&6)&&nt(e,"disabled",u[1]),(!r||f&36)&&nt(e,"disablePadding",u[5]),(!r||f&132)&&nt(e,"border",u[7])},i(u){r||(w(l,u),r=!0)},o(u){k(l,u),r=!1},d(u){u&&A(e),l&&l.d(u),s=!1,lt(o)}}}function of(i,e,t){let{$$slots:n={},$$scope:r}=e,{active:s=!1}=e,{disabled:o=!1}=e,{type:a="default"}=e,{style:l=""}=e,{title:u=""}=e,{disablePadding:f=!1}=e,{justifyContent:c="center"}=e,{border:h=!0}=e,{width:m="100%"}=e,{height:d=""}=e;function p(x){Ce.call(this,i,x)}function _(x){Ce.call(this,i,x)}function g(x){Ce.call(this,i,x)}function $(x){Ce.call(this,i,x)}function E(x){Ce.call(this,i,x)}function y(x){Ce.call(this,i,x)}function R(x){Ce.call(this,i,x)}function I(x){Ce.call(this,i,x)}function B(x){Ce.call(this,i,x)}function j(x){Ce.call(this,i,x)}function N(x){Ce.call(this,i,x)}function P(x){Ce.call(this,i,x)}function oe(x){Ce.call(this,i,x)}function C(x){Ce.call(this,i,x)}function T(x){Ce.call(this,i,x)}function b(x){Ce.call(this,i,x)}function X(x){Ce.call(this,i,x)}function be(x){Ce.call(this,i,x)}return i.$$set=x=>{"active"in x&&t(0,s=x.active),"disabled"in x&&t(1,o=x.disabled),"type"in x&&t(2,a=x.type),"style"in x&&t(3,l=x.style),"title"in x&&t(4,u=x.title),"disablePadding"in x&&t(5,f=x.disablePadding),"justifyContent"in x&&t(6,c=x.justifyContent),"border"in x&&t(7,h=x.border),"width"in x&&t(8,m=x.width),"height"in x&&t(9,d=x.height),"$$scope"in x&&t(10,r=x.$$scope)},[s,o,a,l,u,f,c,h,m,d,r,n,p,_,g,$,E,y,R,I,B,j,N,P,oe,C,T,b,X,be]}class rt extends we{constructor(e){super(),ye(this,e,of,sf,ve,{active:0,disabled:1,type:2,style:3,title:4,disablePadding:5,justifyContent:6,border:7,width:8,height:9})}}const af=i=>({}),hi=i=>({}),lf=i=>({}),mi=i=>({});function di(i){let e,t,n,r,s,o,a,l,u,f,c=i[4].title&&pi(i);const h=i[5].default,m=Me(h,i,i[8],null);let d=i[4].footer&&gi(i);return{c(){e=J("button"),t=le(),n=J("div"),r=J("article"),c&&c.c(),s=le(),o=J("main"),m&&m.c(),a=le(),d&&d.c(),this.h()},l(p){e=Q(p,"BUTTON",{class:!0}),re(e).forEach(A),t=ue(p),n=Q(p,"DIV",{class:!0});var _=re(n);r=Q(_,"ARTICLE",{class:!0});var g=re(r);c&&c.l(g),s=ue(g),o=Q(g,"MAIN",{class:!0});var $=re(o);m&&m.l($),$.forEach(A),a=ue(g),d&&d.l(g),g.forEach(A),_.forEach(A),this.h()},h(){L(e,"class","backdrop fixed svelte-1fd19w4"),L(o,"class","svelte-1fd19w4"),L(r,"class","svelte-1fd19w4"),L(n,"class","container fixed svelte-1fd19w4")},m(p,_){O(p,e,_),O(p,t,_),O(p,n,_),H(n,r),c&&c.m(r,null),H(r,s),H(r,o),m&&m.m(o,null),H(r,a),d&&d.m(r,null),l=!0,u||(f=[Re(e,"click",i[6]),Re(n,"keypress",i[3])],u=!0)},p(p,_){p[4].title?c?(c.p(p,_),_&16&&w(c,1)):(c=pi(p),c.c(),w(c,1),c.m(r,s)):c&&(je(),k(c,1,1,()=>{c=null}),We()),m&&m.p&&(!l||_&256)&&ze(m,h,p,p[8],l?De(h,p[8],_,null):Ue(p[8]),null),p[4].footer?d?(d.p(p,_),_&16&&w(d,1)):(d=gi(p),d.c(),w(d,1),d.m(r,null)):d&&(je(),k(d,1,1,()=>{d=null}),We())},i(p){l||(w(c),w(m,p),w(d),l=!0)},o(p){k(c),k(m,p),k(d),l=!1},d(p){p&&A(e),p&&A(t),p&&A(n),c&&c.d(),m&&m.d(p),d&&d.d(),u=!1,lt(f)}}}function pi(i){let e,t,n;const r=i[5].title,s=Me(r,i,i[8],mi);let o=i[1]&&_i(i);return{c(){e=J("header"),s&&s.c(),t=le(),o&&o.c(),this.h()},l(a){e=Q(a,"HEADER",{class:!0});var l=re(e);s&&s.l(l),t=ue(l),o&&o.l(l),l.forEach(A),this.h()},h(){L(e,"class","svelte-1fd19w4")},m(a,l){O(a,e,l),s&&s.m(e,null),H(e,t),o&&o.m(e,null),n=!0},p(a,l){s&&s.p&&(!n||l&256)&&ze(s,r,a,a[8],n?De(r,a[8],l,lf):Ue(a[8]),mi),a[1]?o?(o.p(a,l),l&2&&w(o,1)):(o=_i(a),o.c(),w(o,1),o.m(e,null)):o&&(je(),k(o,1,1,()=>{o=null}),We())},i(a){n||(w(s,a),w(o),n=!0)},o(a){k(s,a),k(o),n=!1},d(a){a&&A(e),s&&s.d(a),o&&o.d()}}}function _i(i){let e,t;return e=new rt({props:{title:"Закрыть",width:"auto",border:!1,$$slots:{default:[uf]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function uf(i){let e,t;return e=new rf({}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function gi(i){let e,t;const n=i[5].footer,r=Me(n,i,i[8],hi);return{c(){e=J("footer"),r&&r.c(),this.h()},l(s){e=Q(s,"FOOTER",{class:!0});var o=re(e);r&&r.l(o),o.forEach(A),this.h()},h(){L(e,"class","svelte-1fd19w4")},m(s,o){O(s,e,o),r&&r.m(e,null),t=!0},p(s,o){r&&r.p&&(!t||o&256)&&ze(r,n,s,s[8],t?De(n,s[8],o,af):Ue(s[8]),hi)},i(s){t||(w(r,s),t=!0)},o(s){k(r,s),t=!1},d(s){s&&A(e),r&&r.d(s)}}}function ff(i){let e,t,n=i[0]&&di(i);return{c(){n&&n.c(),e=Oe()},l(r){n&&n.l(r),e=Oe()},m(r,s){n&&n.m(r,s),O(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&w(n,1)):(n=di(r),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(je(),k(n,1,1,()=>{n=null}),We())},i(r){t||(w(n),t=!0)},o(r){k(n),t=!1},d(r){n&&n.d(r),r&&A(e)}}}function cf(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=na(n);let{open:o=!0}=e,{closable:a=!0}=e;const l=vt();function u(d="cancel"){a&&l("close",{action:d},{cancelable:!0})&&t(0,o=!1)}function f(d){o&&d.key==="Escape"&&u("cancel")}function c(d){o&&(l("paste",{event:d}),d.stopPropagation())}hn(()=>(document.addEventListener("keyup",f),document.addEventListener("paste",c,{capture:!0}),()=>{document.removeEventListener("paste",c),document.removeEventListener("keyup",f)}));const h=()=>u("cancel"),m=()=>u("cancel");return i.$$set=d=>{"open"in d&&t(0,o=d.open),"closable"in d&&t(1,a=d.closable),"$$scope"in d&&t(8,r=d.$$scope)},[o,a,u,f,s,n,h,m,r]}class ln extends we{constructor(e){super(),ye(this,e,cf,ff,ve,{open:0,closable:1})}}const hf=""+new URL("../assets/firefox_copy_helper.d346afe2.webp",import.meta.url).href;function mf(i){let e,t,n,r,s,o,a,l,u,f,c,h,m,d,p,_,g,$;return{c(){e=J("main"),t=J("p"),n=de(`Ваш браузер отключил или не поддерживает копирование изображений из скриптов. Вы можете
			скопировать эту копию фрейма вручную с помощью ПКМ.`),r=le(),s=J("img"),a=le(),l=J("p"),u=de("Если это Firefox версии 87 и выше, вы можете включить опцию "),f=J("span"),c=de("dom.events.asyncClipboard.clipboardItem"),h=de(", открыв в новой вкладке страницу "),m=J("span"),d=de("about:config"),p=de(`. Тогда вы перестанете видеть это
			окно, а функционал копирования заработает корректно.`),_=le(),g=J("img"),this.h()},l(E){e=Q(E,"MAIN",{class:!0});var y=re(e);t=Q(y,"P",{});var R=re(t);n=pe(R,`Ваш браузер отключил или не поддерживает копирование изображений из скриптов. Вы можете
			скопировать эту копию фрейма вручную с помощью ПКМ.`),R.forEach(A),r=ue(y),s=Q(y,"IMG",{src:!0,alt:!0,class:!0}),a=ue(y),l=Q(y,"P",{});var I=re(l);u=pe(I,"Если это Firefox версии 87 и выше, вы можете включить опцию "),f=Q(I,"SPAN",{class:!0});var B=re(f);c=pe(B,"dom.events.asyncClipboard.clipboardItem"),B.forEach(A),h=pe(I,", открыв в новой вкладке страницу "),m=Q(I,"SPAN",{class:!0});var j=re(m);d=pe(j,"about:config"),j.forEach(A),p=pe(I,`. Тогда вы перестанете видеть это
			окно, а функционал копирования заработает корректно.`),I.forEach(A),_=ue(y),g=Q(y,"IMG",{src:!0,alt:!0,class:!0}),y.forEach(A),this.h()},h(){En(s.src,o=i[1])||L(s,"src",o),L(s,"alt","Копия фрейма"),L(s,"class","svelte-1qucpf4"),L(f,"class","svelte-1qucpf4"),L(m,"class","svelte-1qucpf4"),En(g.src,$=hf)||L(g,"src",$),L(g,"alt","Скриншот страницы about:config"),L(g,"class","svelte-1qucpf4"),L(e,"class","svelte-1qucpf4")},m(E,y){O(E,e,y),H(e,t),H(t,n),H(e,r),H(e,s),H(e,a),H(e,l),H(l,u),H(l,f),H(f,c),H(l,h),H(l,m),H(m,d),H(l,p),H(e,_),H(e,g)},p(E,y){y&2&&!En(s.src,o=E[1])&&L(s,"src",o)},d(E){E&&A(e)}}}function df(i){let e;return{c(){e=de("Ваш браузер не поддерживает копирование")},l(t){e=pe(t,"Ваш браузер не поддерживает копирование")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function pf(i){let e,t;return e=new ln({props:{open:i[0]!=null,$$slots:{title:[df],default:[mf]},$$scope:{ctx:i}}}),e.$on("close",i[3]),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.open=n[0]!=null),r&18&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function _f(i,e,t){let{fallbackBlob:n=null}=e,r=n,s="";ra(()=>{s&&URL.revokeObjectURL(s)});const o=()=>t(0,n=null);return i.$$set=a=>{"fallbackBlob"in a&&t(0,n=a.fallbackBlob)},i.$$.update=()=>{i.$$.dirty&7&&n!=r&&(s&&URL.revokeObjectURL(s),t(2,r=n),t(1,s=r?URL.createObjectURL(r):""))},[n,s,r,o]}class gf extends we{constructor(e){super(),ye(this,e,_f,pf,ve,{fallbackBlob:0})}}function bi(i,e,t){const n=i.slice();return n[5]=e[t],n}const bf=i=>({tab:i&2}),vi=i=>({tab:i[5]});function $i(i,e,t){const n=i.slice();return n[5]=e[t],n}const vf=i=>({tab:i&2}),wi=i=>({tab:i[5]});function yi(i){let e,t,n,r,s;const o=i[3].default,a=Me(o,i,i[2],wi);function l(){return i[4](i[5])}return{c(){e=J("section"),a&&a.c(),t=le(),this.h()},l(u){e=Q(u,"SECTION",{class:!0});var f=re(e);a&&a.l(f),t=ue(f),f.forEach(A),this.h()},h(){L(e,"class","tab svelte-lu853g"),nt(e,"active",i[0]===i[5])},m(u,f){O(u,e,f),a&&a.m(e,null),H(e,t),n=!0,r||(s=Re(e,"click",l),r=!0)},p(u,f){i=u,a&&a.p&&(!n||f&6)&&ze(a,o,i,i[2],n?De(o,i[2],f,vf):Ue(i[2]),wi),(!n||f&3)&&nt(e,"active",i[0]===i[5])},i(u){n||(w(a,u),n=!0)},o(u){k(a,u),n=!1},d(u){u&&A(e),a&&a.d(u),r=!1,s()}}}function Ei(i){let e,t,n;const r=i[3].content,s=Me(r,i,i[2],vi);return{c(){e=J("section"),s&&s.c(),t=le(),this.h()},l(o){e=Q(o,"SECTION",{class:!0});var a=re(e);s&&s.l(a),t=ue(a),a.forEach(A),this.h()},h(){L(e,"class","content svelte-lu853g"),nt(e,"hide",i[0]!==i[5])},m(o,a){O(o,e,a),s&&s.m(e,null),H(e,t),n=!0},p(o,a){s&&s.p&&(!n||a&6)&&ze(s,r,o,o[2],n?De(r,o[2],a,bf):Ue(o[2]),vi),(!n||a&3)&&nt(e,"hide",o[0]!==o[5])},i(o){n||(w(s,o),n=!0)},o(o){k(s,o),n=!1},d(o){o&&A(e),s&&s.d(o)}}}function $f(i){let e,t,n,r,s=i[1],o=[];for(let c=0;c<s.length;c+=1)o[c]=yi($i(i,s,c));const a=c=>k(o[c],1,1,()=>{o[c]=null});let l=i[1],u=[];for(let c=0;c<l.length;c+=1)u[c]=Ei(bi(i,l,c));const f=c=>k(u[c],1,1,()=>{u[c]=null});return{c(){e=J("article"),t=J("header");for(let c=0;c<o.length;c+=1)o[c].c();n=le();for(let c=0;c<u.length;c+=1)u[c].c();this.h()},l(c){e=Q(c,"ARTICLE",{class:!0});var h=re(e);t=Q(h,"HEADER",{class:!0});var m=re(t);for(let d=0;d<o.length;d+=1)o[d].l(m);m.forEach(A),n=ue(h);for(let d=0;d<u.length;d+=1)u[d].l(h);h.forEach(A),this.h()},h(){L(t,"class","svelte-lu853g"),L(e,"class","svelte-lu853g")},m(c,h){O(c,e,h),H(e,t);for(let m=0;m<o.length;m+=1)o[m].m(t,null);H(e,n);for(let m=0;m<u.length;m+=1)u[m].m(e,null);r=!0},p(c,[h]){if(h&7){s=c[1];let m;for(m=0;m<s.length;m+=1){const d=$i(c,s,m);o[m]?(o[m].p(d,h),w(o[m],1)):(o[m]=yi(d),o[m].c(),w(o[m],1),o[m].m(t,null))}for(je(),m=s.length;m<o.length;m+=1)a(m);We()}if(h&7){l=c[1];let m;for(m=0;m<l.length;m+=1){const d=bi(c,l,m);u[m]?(u[m].p(d,h),w(u[m],1)):(u[m]=Ei(d),u[m].c(),w(u[m],1),u[m].m(e,null))}for(je(),m=l.length;m<u.length;m+=1)f(m);We()}},i(c){if(!r){for(let h=0;h<s.length;h+=1)w(o[h]);for(let h=0;h<l.length;h+=1)w(u[h]);r=!0}},o(c){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)k(o[h]);u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)k(u[h]);r=!1},d(c){c&&A(e),kn(o,c),kn(u,c)}}}function wf(i,e,t){let{$$slots:n={},$$scope:r}=e,{tabs:s}=e,{activeTab:o=s[0]}=e;const a=l=>t(0,o=l);return i.$$set=l=>{"tabs"in l&&t(1,s=l.tabs),"activeTab"in l&&t(0,o=l.activeTab),"$$scope"in l&&t(2,r=l.$$scope)},i.$$.update=()=>{i.$$.dirty&3&&(s.includes(o)||t(0,o=s[0]))},[o,s,r,n,a]}class Ps extends we{constructor(e){super(),ye(this,e,wf,$f,ve,{tabs:1,activeTab:0})}}function ki(i,e,t){const n=i.slice();return n[9]=e[t],n[11]=t,n}const yf=i=>({item:i&2,index:i&2}),Ai=i=>({item:i[9],index:i[11]});function Si(i,e){let t,n,r,s,o;const a=e[5].default,l=Me(a,e,e[4],Ai);function u(){return e[8](e[9])}return{key:i,first:null,c(){t=J("article"),l&&l.c(),n=le(),this.h()},l(f){t=Q(f,"ARTICLE",{class:!0});var c=re(t);l&&l.l(c),n=ue(c),c.forEach(A),this.h()},h(){L(t,"class","item svelte-xsb8mb"),nt(t,"active",e[9].id===e[0].id),this.first=t},m(f,c){O(f,t,c),l&&l.m(t,null),H(t,n),r=!0,s||(o=Re(t,"click",u),s=!0)},p(f,c){e=f,l&&l.p&&(!r||c&18)&&ze(l,a,e,e[4],r?De(a,e[4],c,yf):Ue(e[4]),Ai),(!r||c&3)&&nt(t,"active",e[9].id===e[0].id)},i(f){r||(w(l,f),r=!0)},o(f){k(l,f),r=!1},d(f){f&&A(t),l&&l.d(f),s=!1,o()}}}function Ef(i){let e,t=[],n=new Map,r,s,o,a=i[1];const l=u=>u[9].id;for(let u=0;u<a.length;u+=1){let f=ki(i,a,u),c=l(f);n.set(c,t[u]=Si(c,f))}return{c(){e=J("main");for(let u=0;u<t.length;u+=1)t[u].c();this.h()},l(u){e=Q(u,"MAIN",{style:!0,class:!0});var f=re(e);for(let c=0;c<t.length;c+=1)t[c].l(f);f.forEach(A),this.h()},h(){pt(e,"height",i[3]),pt(e,"min-height",i[3]),pt(e,"max-height",i[3]),L(e,"class","svelte-xsb8mb"),nt(e,"reverse",i[2])},m(u,f){O(u,e,f);for(let c=0;c<t.length;c+=1)t[c].m(e,null);r=!0,s||(o=[Re(e,"drop",i[6]),Re(e,"dragover",i[7])],s=!0)},p(u,[f]){f&19&&(a=u[1],je(),t=Is(t,f,l,1,u,a,n,e,Cs,Si,null,ki),We()),(!r||f&8)&&pt(e,"height",u[3]),(!r||f&8)&&pt(e,"min-height",u[3]),(!r||f&8)&&pt(e,"max-height",u[3]),(!r||f&4)&&nt(e,"reverse",u[2])},i(u){if(!r){for(let f=0;f<a.length;f+=1)w(t[f]);r=!0}},o(u){for(let f=0;f<t.length;f+=1)k(t[f]);r=!1},d(u){u&&A(e);for(let f=0;f<t.length;f+=1)t[f].d();s=!1,lt(o)}}}function kf(i,e,t){let{$$slots:n={},$$scope:r}=e,{items:s}=e,{active:o}=e,{reverse:a=!1}=e,{height:l="100%"}=e;function u(h){Ce.call(this,i,h)}function f(h){Ce.call(this,i,h)}const c=h=>t(0,o=h);return i.$$set=h=>{"items"in h&&t(1,s=h.items),"active"in h&&t(0,o=h.active),"reverse"in h&&t(2,a=h.reverse),"height"in h&&t(3,l=h.height),"$$scope"in h&&t(4,r=h.$$scope)},[o,s,a,l,r,n,u,f,c]}class Sr extends we{constructor(e){super(),ye(this,e,kf,Ef,ve,{items:1,active:0,reverse:2,height:3})}}function Af(i){let e,t,n,r,s,o;return{c(){e=J("article"),t=J("canvas"),n=le(),r=J("canvas"),this.h()},l(a){e=Q(a,"ARTICLE",{class:!0});var l=re(e);t=Q(l,"CANVAS",{class:!0}),re(t).forEach(A),n=ue(l),r=Q(l,"CANVAS",{class:!0}),re(r).forEach(A),l.forEach(A),this.h()},h(){L(t,"class","svelte-flcf9e"),L(r,"class","svelte-flcf9e"),L(e,"class","svelte-flcf9e")},m(a,l){O(a,e,l),H(e,t),i[4](t),H(e,n),H(e,r),i[5](r),s||(o=[Re(e,"dragover",i[2]),Re(e,"drop",i[3])],s=!0)},p:qe,i:qe,o:qe,d(a){a&&A(e),i[4](null),i[5](null),s=!1,lt(o)}}}function Sf(i,e,t){let{webgl:n}=e,{ui:r}=e;function s(u){Ce.call(this,i,u)}function o(u){Ce.call(this,i,u)}function a(u){ke[u?"unshift":"push"](()=>{n=u,t(0,n)})}function l(u){ke[u?"unshift":"push"](()=>{r=u,t(1,r)})}return i.$$set=u=>{"webgl"in u&&t(0,n=u.webgl),"ui"in u&&t(1,r=u.ui)},[n,r,s,o,a,l]}class Tf extends we{constructor(e){super(),ye(this,e,Sf,Af,ve,{webgl:0,ui:1})}}function Ti(i){let e,t;return{c(){e=J("div"),t=de(i[0]),this.h()},l(n){e=Q(n,"DIV",{class:!0});var r=re(e);t=pe(r,i[0]),r.forEach(A),this.h()},h(){L(e,"class","svelte-12wuidl")},m(n,r){O(n,e,r),H(e,t)},p(n,r){r&1&&st(t,n[0])},d(n){n&&A(e)}}}function If(i){let e,t,n;const r=i[3].default,s=Me(r,i,i[2],null);let o=i[0]&&Ti(i);return{c(){e=J("label"),s&&s.c(),t=le(),o&&o.c(),this.h()},l(a){e=Q(a,"LABEL",{for:!0,class:!0});var l=re(e);s&&s.l(l),t=ue(l),o&&o.l(l),l.forEach(A),this.h()},h(){L(e,"for",i[1]),L(e,"class","svelte-12wuidl"),nt(e,"error",i[0])},m(a,l){O(a,e,l),s&&s.m(e,null),H(e,t),o&&o.m(e,null),n=!0},p(a,[l]){s&&s.p&&(!n||l&4)&&ze(s,r,a,a[2],n?De(r,a[2],l,null):Ue(a[2]),null),a[0]?o?o.p(a,l):(o=Ti(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null),(!n||l&2)&&L(e,"for",a[1]),(!n||l&1)&&nt(e,"error",a[0])},i(a){n||(w(s,a),n=!0)},o(a){k(s,a),n=!1},d(a){a&&A(e),s&&s.d(a),o&&o.d()}}}function Cf(i,e,t){let{$$slots:n={},$$scope:r}=e,{error:s=""}=e,{for:o=void 0}=e;return i.$$set=a=>{"error"in a&&t(0,s=a.error),"for"in a&&t(1,o=a.for),"$$scope"in a&&t(2,r=a.$$scope)},[s,o,r,n]}class Ye extends we{constructor(e){super(),ye(this,e,Cf,If,ve,{error:0,for:1})}}function Rf(i){let e,t,n;return{c(){e=J("input"),this.h()},l(r){e=Q(r,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),this.h()},h(){L(e,"type","range"),L(e,"min",i[1]),L(e,"max",i[2]),L(e,"step",i[3]),L(e,"class","svelte-1kebi6n")},m(r,s){O(r,e,s),it(e,i[0]),t||(n=[Re(e,"change",i[5]),Re(e,"input",i[5]),Re(e,"input",i[6]),Re(e,"change",i[7])],t=!0)},p(r,[s]){s&2&&L(e,"min",r[1]),s&4&&L(e,"max",r[2]),s&8&&L(e,"step",r[3]),s&1&&it(e,r[0])},i:qe,o:qe,d(r){r&&A(e),t=!1,lt(n)}}}function Ff(i,e,t){let{value:n}=e,{min:r}=e,{max:s}=e,{step:o=1}=e;const a=vt();function l(){n=ia(this.value),t(0,n)}const u=c=>a("input",Number(c.currentTarget.value)),f=c=>a("change",Number(c.currentTarget.value));return i.$$set=c=>{"value"in c&&t(0,n=c.value),"min"in c&&t(1,r=c.min),"max"in c&&t(2,s=c.max),"step"in c&&t(3,o=c.step)},[n,r,s,o,a,l,u,f]}class Nf extends we{constructor(e){super(),ye(this,e,Ff,Rf,ve,{value:0,min:1,max:2,step:3})}}function Ii(i){let e,t,n;function r(o){i[16](o)}let s={min:i[3]??i[1],max:i[4]??i[2],step:i[5]};return i[0]!==void 0&&(s.value=i[0]),e=new Nf({props:s}),ke.push(()=>Se(e,"value",r)),e.$on("input",i[17]),e.$on("change",i[18]),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){const l={};a&10&&(l.min=o[3]??o[1]),a&20&&(l.max=o[4]??o[2]),a&32&&(l.step=o[5]),!t&&a&1&&(t=!0,l.value=o[0],Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function Pf(i){let e,t;return e=new uu({}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Bf(i){let e,t;return e=new Ns({}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Mf(i){let e,t,n,r,s,o,a,l,u,f,c,h,m=i[7]&&Ii(i);return a=new rt({props:{disablePadding:!0,title:i[13],$$slots:{default:[Pf]},$$scope:{ctx:i}}}),a.$on("mousedown",i[21]),a.$on("mouseup",i[22]),u=new rt({props:{disablePadding:!0,title:i[13],$$slots:{default:[Bf]},$$scope:{ctx:i}}}),u.$on("mousedown",i[23]),u.$on("mouseup",i[24]),{c(){e=J("main"),m&&m.c(),t=le(),n=J("input"),s=le(),o=J("footer"),M(a.$$.fragment),l=le(),M(u.$$.fragment),this.h()},l(d){e=Q(d,"MAIN",{class:!0});var p=re(e);m&&m.l(p),t=ue(p),n=Q(p,"INPUT",{class:!0}),s=ue(p),o=Q(p,"FOOTER",{class:!0});var _=re(o);z(a.$$.fragment,_),l=ue(_),z(u.$$.fragment,_),_.forEach(A),p.forEach(A),this.h()},h(){n.value=r=+i[0].toFixed(i[6]),L(n,"class","svelte-bxcbqd"),L(o,"class","svelte-bxcbqd"),L(e,"class","svelte-bxcbqd")},m(d,p){O(d,e,p),m&&m.m(e,null),H(e,t),H(e,n),H(e,s),H(e,o),U(a,o,null),H(o,l),U(u,o,null),f=!0,c||(h=[Re(n,"input",i[19]),Re(n,"change",i[20])],c=!0)},p(d,[p]){d[7]?m?(m.p(d,p),p&128&&w(m,1)):(m=Ii(d),m.c(),w(m,1),m.m(e,t)):m&&(je(),k(m,1,1,()=>{m=null}),We()),(!f||p&65&&r!==(r=+d[0].toFixed(d[6]))&&n.value!==r)&&(n.value=r);const _={};p&134217728&&(_.$$scope={dirty:p,ctx:d}),a.$set(_);const g={};p&134217728&&(g.$$scope={dirty:p,ctx:d}),u.$set(g)},i(d){f||(w(m),w(a.$$.fragment,d),w(u.$$.fragment,d),f=!0)},o(d){k(m),k(a.$$.fragment,d),k(u.$$.fragment,d),f=!1},d(d){d&&A(e),m&&m.d(),D(a),D(u),c=!1,lt(h)}}}function zf(i,e,t){let{value:n}=e,{min:r=-1/0}=e,{max:s=1/0}=e,{rangeMin:o=void 0}=e,{rangeMax:a=void 0}=e,{step:l=1}=e,{ctrlMultiplier:u=2}=e,{shiftMultiplier:f=5}=e,{precision:c=4}=e,{withRange:h=!1}=e;const m=vt();let d=-1,p=!1;function _(b){(!b||b.button===0)&&d!==-1&&(clearInterval(d),t(8,p=!1))}function g(b){let X=1;return b.ctrlKey&&(X*=u),b.shiftKey&&(X*=f),X}function $(b){t(0,n=+Math.min(s,Math.max(r,n+b)).toFixed(c)),m("input",n),m("change",n)}function E(b){_(),d=setInterval(()=>{t(8,p=!0),$(b)},100)}hn(()=>(document.addEventListener("mouseup",_),()=>document.removeEventListener("mouseup",_)));const y=`Шаг: ${l}
Ctrl: x${u}
Shift: x${f}`;function R(b){n=b,t(0,n)}function I(b){Ce.call(this,i,b)}function B(b){Ce.call(this,i,b)}const j=b=>{const X=Number(b.currentTarget.value);if(Number.isNaN(X)){b.currentTarget.value=(+n.toFixed(c)).toString();return}t(0,n=Math.min(s,Math.max(r,X))),m("input",n)},N=b=>m("change",Number(b.currentTarget.value)),P=b=>{b.button==0&&E(-g(b)*l)},oe=b=>{b.button==0&&(p||$(-g(b)*l))},C=b=>{b.button==0&&E(+g(b)*l)},T=b=>{b.button==0&&(p||$(+g(b)*l))};return i.$$set=b=>{"value"in b&&t(0,n=b.value),"min"in b&&t(1,r=b.min),"max"in b&&t(2,s=b.max),"rangeMin"in b&&t(3,o=b.rangeMin),"rangeMax"in b&&t(4,a=b.rangeMax),"step"in b&&t(5,l=b.step),"ctrlMultiplier"in b&&t(14,u=b.ctrlMultiplier),"shiftMultiplier"in b&&t(15,f=b.shiftMultiplier),"precision"in b&&t(6,c=b.precision),"withRange"in b&&t(7,h=b.withRange)},[n,r,s,o,a,l,c,h,p,m,g,$,E,y,u,f,R,I,B,j,N,P,oe,C,T]}class ct extends we{constructor(e){super(),ye(this,e,zf,Mf,ve,{value:0,min:1,max:2,rangeMin:3,rangeMax:4,step:5,ctrlMultiplier:14,shiftMultiplier:15,precision:6,withRange:7})}}function Uf(i){const e=i-1;return e*e*e+1}function ht(i,{delay:e=0,duration:t=400,easing:n=Uf}={}){const r=getComputedStyle(i),s=+r.opacity,o=parseFloat(r.height),a=parseFloat(r.paddingTop),l=parseFloat(r.paddingBottom),u=parseFloat(r.marginTop),f=parseFloat(r.marginBottom),c=parseFloat(r.borderTopWidth),h=parseFloat(r.borderBottomWidth);return{delay:e,duration:t,easing:n,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*s};height: ${m*o}px;padding-top: ${m*a}px;padding-bottom: ${m*l}px;margin-top: ${m*u}px;margin-bottom: ${m*f}px;border-top-width: ${m*c}px;border-bottom-width: ${m*h}px;`}}const Df=i=>({}),Ci=i=>({}),Lf=i=>({}),Ri=i=>({});function xf(i){let e,t,n;const r=i[10].header,s=Me(r,i,i[15],Ri);return t=new kl({}),{c(){s&&s.c(),e=le(),M(t.$$.fragment)},l(o){s&&s.l(o),e=ue(o),z(t.$$.fragment,o)},m(o,a){s&&s.m(o,a),O(o,e,a),U(t,o,a),n=!0},p(o,a){s&&s.p&&(!n||a&32768)&&ze(s,r,o,o[15],n?De(r,o[15],a,Lf):Ue(o[15]),Ri)},i(o){n||(w(s,o),w(t.$$.fragment,o),n=!0)},o(o){k(s,o),k(t.$$.fragment,o),n=!1},d(o){s&&s.d(o),o&&A(e),D(t,o)}}}function Fi(i){let e,t,n,r,s,o;const a=i[10].content,l=Me(a,i,i[15],Ci);return{c(){e=J("article"),l&&l.c(),this.h()},l(u){e=Q(u,"ARTICLE",{style:!0,class:!0});var f=re(e);l&&l.l(f),f.forEach(A),this.h()},h(){L(e,"style",t=`max-height:${i[7]}px;width:${i[6]}px;left:${i[9]}px;top:${i[8]}px;`),L(e,"class","svelte-1rlf41s")},m(u,f){O(u,e,f),l&&l.m(e,null),r=!0,s||(o=[Re(e,"mouseover",i[13]),Re(e,"mouseout",i[14])],s=!0)},p(u,f){l&&l.p&&(!r||f&32768)&&ze(l,a,u,u[15],r?De(a,u[15],f,Df):Ue(u[15]),Ci),(!r||f&960&&t!==(t=`max-height:${u[7]}px;width:${u[6]}px;left:${u[9]}px;top:${u[8]}px;`))&&L(e,"style",t)},i(u){r||(w(l,u),xt(()=>{n||(n=ft(e,ht,{duration:150},!0)),n.run(1)}),r=!0)},o(u){k(l,u),n||(n=ft(e,ht,{duration:150},!1)),n.run(0),r=!1},d(u){u&&A(e),l&&l.d(u),u&&n&&n.end(),s=!1,lt(o)}}}function Of(i){let e,t,n,r,s;t=new rt({props:{title:i[0],type:i[1],style:`height:${i[3].height};width:${i[3].width};`,justifyContent:"space-between",$$slots:{default:[xf]},$$scope:{ctx:i}}}),t.$on("click",i[11]),t.$on("focusout",i[12]);let o=(i[5]&&!i[2]||i[4])&&Fi(i);return{c(){e=J("main"),M(t.$$.fragment),n=le(),o&&o.c(),this.h()},l(a){e=Q(a,"MAIN",{style:!0,class:!0});var l=re(e);z(t.$$.fragment,l),n=ue(l),o&&o.l(l),l.forEach(A),this.h()},h(){L(e,"style",r=`height:${i[3].height};width:${i[3].width};${i[3].main}`),L(e,"class","svelte-1rlf41s")},m(a,l){O(a,e,l),U(t,e,null),H(e,n),o&&o.m(e,null),s=!0},p(a,[l]){const u={};l&1&&(u.title=a[0]),l&2&&(u.type=a[1]),l&8&&(u.style=`height:${a[3].height};width:${a[3].width};`),l&32768&&(u.$$scope={dirty:l,ctx:a}),t.$set(u),a[5]&&!a[2]||a[4]?o?(o.p(a,l),l&52&&w(o,1)):(o=Fi(a),o.c(),w(o,1),o.m(e,null)):o&&(je(),k(o,1,1,()=>{o=null}),We()),(!s||l&8&&r!==(r=`height:${a[3].height};width:${a[3].width};${a[3].main}`))&&L(e,"style",r)},i(a){s||(w(t.$$.fragment,a),w(o),s=!0)},o(a){k(t.$$.fragment,a),k(o),s=!1},d(a){a&&A(e),D(t),o&&o.d()}}}function Gf(i,e,t){let{$$slots:n={},$$scope:r}=e,{title:s=""}=e,{type:o="default"}=e,{hideOnClick:a=!1}=e,{css:l={height:"48px",width:"100%",main:""}}=e,u=!1,f=!1,c=0,h=0,m=0,d=0;const p=E=>{const y=E.currentTarget;if(!y)throw new Error("Not found target for button in drop down");if(!(y instanceof HTMLElement))throw new Error("Target for button is not html element");const R=y.getBoundingClientRect(),I=(visualViewport==null?void 0:visualViewport.height)||720;t(6,c=R.width),t(8,m=R.bottom),t(9,d=R.left),t(7,h=I-m),t(4,u=!u)},_=()=>setTimeout(()=>t(4,u=!1),100),g=()=>t(5,f=!0),$=()=>t(5,f=!1);return i.$$set=E=>{"title"in E&&t(0,s=E.title),"type"in E&&t(1,o=E.type),"hideOnClick"in E&&t(2,a=E.hideOnClick),"css"in E&&t(3,l=E.css),"$$scope"in E&&t(15,r=E.$$scope)},[s,o,a,l,u,f,c,h,m,d,n,p,_,g,$,r]}class Bs extends we{constructor(e){super(),ye(this,e,Gf,Of,ve,{title:0,type:1,hideOnClick:2,css:3})}}const Hf=i=>({item:i&1}),Ni=i=>({item:i[0]});function Pi(i,e,t){const n=i.slice();return n[13]=e[t],n}const jf=i=>({item:i&2}),Bi=i=>({item:i[13]});function Wf(i){let e;return{c(){e=de(i[0])},l(t){e=pe(t,i[0])},m(t,n){O(t,e,n)},p(t,n){n&1&&st(e,t[0])},d(t){t&&A(e)}}}function Vf(i){let e;const t=i[8].default,n=Me(t,i,i[12],Ni),r=n||Wf(i);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,o){r&&r.m(s,o),e=!0},p(s,o){n?n.p&&(!e||o&4097)&&ze(n,t,s,s[12],e?De(t,s[12],o,Hf):Ue(s[12]),Ni):r&&r.p&&(!e||o&1)&&r.p(s,e?o:-1)},i(s){e||(w(r,s),e=!0)},o(s){k(r,s),e=!1},d(s){r&&r.d(s)}}}function Mi(i){let e,t,n,r,s,o,a,l;function u(...m){return i[11](i[13],...m)}const f=i[8].default,c=Me(f,i,i[12],Bi),h=c||Zf(i);return{c(){e=J("label"),t=J("input"),r=le(),h&&h.c(),s=le(),this.h()},l(m){e=Q(m,"LABEL",{class:!0});var d=re(e);t=Q(d,"INPUT",{type:!0,class:!0}),r=ue(d),h&&h.l(d),s=ue(d),d.forEach(A),this.h()},h(){L(t,"type","radio"),t.__value=n=i[13],t.value=t.__value,L(t,"class","svelte-1plfxql"),i[10][0].push(t),L(e,"class","svelte-1plfxql"),nt(e,"active",i[13]===i[0])},m(m,d){O(m,e,d),H(e,t),t.checked=t.__value===i[0],H(e,r),h&&h.m(e,null),H(e,s),o=!0,a||(l=[Re(t,"change",i[9]),Re(t,"change",u)],a=!0)},p(m,d){i=m,(!o||d&2&&n!==(n=i[13]))&&(t.__value=n,t.value=t.__value),d&1&&(t.checked=t.__value===i[0]),c?c.p&&(!o||d&4098)&&ze(c,f,i,i[12],o?De(f,i[12],d,jf):Ue(i[12]),Bi):h&&h.p&&(!o||d&2)&&h.p(i,o?d:-1),(!o||d&3)&&nt(e,"active",i[13]===i[0])},i(m){o||(w(h,m),o=!0)},o(m){k(h,m),o=!1},d(m){m&&A(e),i[10][0].splice(i[10][0].indexOf(t),1),h&&h.d(m),a=!1,lt(l)}}}function Zf(i){let e=i[13]+"",t;return{c(){t=de(e)},l(n){t=pe(n,e)},m(n,r){O(n,t,r)},p(n,r){r&2&&e!==(e=n[13]+"")&&st(t,e)},d(n){n&&A(t)}}}function zi(i){let e,t,n=i[13]!=i[2]&&Mi(i);return{c(){n&&n.c(),e=Oe()},l(r){n&&n.l(r),e=Oe()},m(r,s){n&&n.m(r,s),O(r,e,s),t=!0},p(r,s){r[13]!=r[2]?n?(n.p(r,s),s&6&&w(n,1)):(n=Mi(r),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(je(),k(n,1,1,()=>{n=null}),We())},i(r){t||(w(n),t=!0)},o(r){k(n),t=!1},d(r){n&&n.d(r),r&&A(e)}}}function Xf(i){let e,t,n=i[1],r=[];for(let o=0;o<n.length;o+=1)r[o]=zi(Pi(i,n,o));const s=o=>k(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=Oe()},l(o){for(let a=0;a<r.length;a+=1)r[a].l(o);e=Oe()},m(o,a){for(let l=0;l<r.length;l+=1)r[l].m(o,a);O(o,e,a),t=!0},p(o,a){if(a&4231){n=o[1];let l;for(l=0;l<n.length;l+=1){const u=Pi(o,n,l);r[l]?(r[l].p(u,a),w(r[l],1)):(r[l]=zi(u),r[l].c(),w(r[l],1),r[l].m(e.parentNode,e))}for(je(),l=n.length;l<r.length;l+=1)s(l);We()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)w(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)k(r[a]);t=!1},d(o){kn(r,o),o&&A(e)}}}function qf(i){let e,t;return e=new Bs({props:{css:i[3],hideOnClick:i[4],type:i[5],title:i[6],$$slots:{content:[Xf],header:[Vf]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,[r]){const s={};r&8&&(s.css=n[3]),r&16&&(s.hideOnClick=n[4]),r&32&&(s.type=n[5]),r&64&&(s.title=n[6]),r&4103&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Kf(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e,{items:o}=e,{placeholder:a=void 0}=e,{css:l={height:"48px",width:"100%",main:""}}=e,{hideOnClick:u=!1}=e,{type:f="default"}=e,{title:c=""}=e;const h=vt(),m=[[]];function d(){s=this.__value,t(0,s)}const p=(_,g)=>{g.currentTarget.checked&&h("change",{value:_})};return i.$$set=_=>{"value"in _&&t(0,s=_.value),"items"in _&&t(1,o=_.items),"placeholder"in _&&t(2,a=_.placeholder),"css"in _&&t(3,l=_.css),"hideOnClick"in _&&t(4,u=_.hideOnClick),"type"in _&&t(5,f=_.type),"title"in _&&t(6,c=_.title),"$$scope"in _&&t(12,r=_.$$scope)},[s,o,a,l,u,f,c,h,n,d,m,p,r]}class St extends we{constructor(e){super(),ye(this,e,Kf,qf,ve,{value:0,items:1,placeholder:2,css:3,hideOnClick:4,type:5,title:6})}}const Yf={width:220,height:220},Jf={width:660,height:440},Qf={fill:{x:0,y:0},stroke:{x:1,y:0},shadow:{x:2,y:0},gear:{x:0,y:1},redo:{x:1,y:1},undo:{x:2,y:1}},ec={cell:Yf,atlas:Jf,images:Qf},tc=""+new URL("../assets/atlas.27b53d5d.webp",import.meta.url).href;function nc(i){let e,t;return{c(){e=J("main"),this.h()},l(n){e=Q(n,"MAIN",{style:!0,class:!0}),re(e).forEach(A),this.h()},h(){L(e,"style",t=`
width: ${i[1]}px;
height: ${i[1]}px;
background-image: url(${i[0]});
background-size: ${i[2]}px ${i[3]}px;
background-position: -${i[4]}px ${i[5]}px;
`),L(e,"class","svelte-1b6vt1p")},m(n,r){O(n,e,r)},p(n,[r]){r&63&&t!==(t=`
width: ${n[1]}px;
height: ${n[1]}px;
background-image: url(${n[0]});
background-size: ${n[2]}px ${n[3]}px;
background-position: -${n[4]}px ${n[5]}px;
`)&&L(e,"style",t)},i:qe,o:qe,d(n){n&&A(e)}}}function rc(i,e,t){let{atlasURL:n}=e,{atlasDescription:r}=e,{name:s}=e,{size:o}=e,a,l,u,f,c;return i.$$set=h=>{"atlasURL"in h&&t(0,n=h.atlasURL),"atlasDescription"in h&&t(6,r=h.atlasDescription),"name"in h&&t(7,s=h.name),"size"in h&&t(1,o=h.size)},i.$$.update=()=>{i.$$.dirty&450&&(t(8,a=r.images[s]),t(2,l=r.atlas.width/r.cell.width*o),t(3,u=r.atlas.height/r.cell.height*o),t(4,f=o*a.x),t(5,c=o*a.y))},[n,o,l,u,f,c,r,s,a]}class ic extends we{constructor(e){super(),ye(this,e,rc,nc,ve,{atlasURL:0,atlasDescription:6,name:7,size:1})}}function sc(i){let e,t;const n=i[1].default,r=Me(n,i,i[0],null);return{c(){e=J("article"),r&&r.c(),this.h()},l(s){e=Q(s,"ARTICLE",{class:!0});var o=re(e);r&&r.l(o),o.forEach(A),this.h()},h(){L(e,"class","svelte-i0r9v3")},m(s,o){O(s,e,o),r&&r.m(e,null),t=!0},p(s,[o]){r&&r.p&&(!t||o&1)&&ze(r,n,s,s[0],t?De(n,s[0],o,null):Ue(s[0]),null)},i(s){t||(w(r,s),t=!0)},o(s){k(r,s),t=!1},d(s){s&&A(e),r&&r.d(s)}}}function oc(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Tt extends we{constructor(e){super(),ye(this,e,oc,sc,ve,{})}}function ac(i){let e,t,n,r,s,o,a,l,u,f,c,h;function m(g){i[2](g)}let d={step:i[1]};i[0].x!==void 0&&(d.value=i[0].x),r=new ct({props:d}),ke.push(()=>Se(r,"value",m)),r.$on("change",i[3]);function p(g){i[4](g)}let _={step:i[1]};return i[0].y!==void 0&&(_.value=i[0].y),f=new ct({props:_}),ke.push(()=>Se(f,"value",p)),f.$on("change",i[5]),{c(){e=J("section"),t=J("span"),n=de("x"),M(r.$$.fragment),o=le(),a=J("section"),l=J("span"),u=de("y"),M(f.$$.fragment),this.h()},l(g){e=Q(g,"SECTION",{class:!0});var $=re(e);t=Q($,"SPAN",{class:!0});var E=re(t);n=pe(E,"x"),E.forEach(A),z(r.$$.fragment,$),$.forEach(A),o=ue(g),a=Q(g,"SECTION",{class:!0});var y=re(a);l=Q(y,"SPAN",{class:!0});var R=re(l);u=pe(R,"y"),R.forEach(A),z(f.$$.fragment,y),y.forEach(A),this.h()},h(){L(t,"class","svelte-22x9w9"),L(e,"class","svelte-22x9w9"),L(l,"class","svelte-22x9w9"),L(a,"class","svelte-22x9w9")},m(g,$){O(g,e,$),H(e,t),H(t,n),U(r,e,null),O(g,o,$),O(g,a,$),H(a,l),H(l,u),U(f,a,null),h=!0},p(g,$){const E={};$&2&&(E.step=g[1]),!s&&$&1&&(s=!0,E.value=g[0].x,Te(()=>s=!1)),r.$set(E);const y={};$&2&&(y.step=g[1]),!c&&$&1&&(c=!0,y.value=g[0].y,Te(()=>c=!1)),f.$set(y)},i(g){h||(w(r.$$.fragment,g),w(f.$$.fragment,g),h=!0)},o(g){k(r.$$.fragment,g),k(f.$$.fragment,g),h=!1},d(g){g&&A(e),D(r),g&&A(o),g&&A(a),D(f)}}}function lc(i){let e,t;return e=new Tt({props:{$$slots:{default:[ac]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,[r]){const s={};r&67&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function uc(i,e,t){let{value:n}=e,{step:r=1}=e;function s(u){i.$$.not_equal(n.x,u)&&(n.x=u,t(0,n))}function o(u){Ce.call(this,i,u)}function a(u){i.$$.not_equal(n.y,u)&&(n.y=u,t(0,n))}function l(u){Ce.call(this,i,u)}return i.$$set=u=>{"value"in u&&t(0,n=u.value),"step"in u&&t(1,r=u.step)},[n,r,s,o,a,l]}class In extends we{constructor(e){super(),ye(this,e,uc,lc,ve,{value:0,step:1})}}function fc(i){let e,t,n,r;return{c(){e=de("Цвет"),t=J("input"),this.h()},l(s){e=pe(s,"Цвет"),t=Q(s,"INPUT",{type:!0}),this.h()},h(){L(t,"type","color")},m(s,o){O(s,e,o),O(s,t,o),it(t,i[0].color),n||(r=[Re(t,"input",i[2]),Re(t,"change",i[1])],n=!0)},p(s,o){o&1&&it(t,s[0].color)},d(s){s&&A(e),s&&A(t),n=!1,lt(r)}}}function cc(i){let e,t,n,r;function s(a){i[3](a)}let o={};return i[0].offset!==void 0&&(o.value=i[0].offset),t=new In({props:o}),ke.push(()=>Se(t,"value",s)),t.$on("change",i[4]),{c(){e=de("Сдвиг"),M(t.$$.fragment)},l(a){e=pe(a,"Сдвиг"),z(t.$$.fragment,a)},m(a,l){O(a,e,l),U(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].offset,Te(()=>n=!1)),t.$set(u)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&A(e),D(t,a)}}}function hc(i){let e,t,n,r;function s(a){i[5](a)}let o={min:0,max:1e3};return i[0].blur!==void 0&&(o.value=i[0].blur),t=new ct({props:o}),ke.push(()=>Se(t,"value",s)),t.$on("change",i[6]),{c(){e=de("Размытие"),M(t.$$.fragment)},l(a){e=pe(a,"Размытие"),z(t.$$.fragment,a)},m(a,l){O(a,e,l),U(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].blur,Te(()=>n=!1)),t.$set(u)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&A(e),D(t,a)}}}function mc(i){let e,t,n,r,s,o;return e=new Ye({props:{$$slots:{default:[fc]},$$scope:{ctx:i}}}),n=new Ye({props:{$$slots:{default:[cc]},$$scope:{ctx:i}}}),s=new Ye({props:{$$slots:{default:[hc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment),t=le(),M(n.$$.fragment),r=le(),M(s.$$.fragment)},l(a){z(e.$$.fragment,a),t=ue(a),z(n.$$.fragment,a),r=ue(a),z(s.$$.fragment,a)},m(a,l){U(e,a,l),O(a,t,l),U(n,a,l),O(a,r,l),U(s,a,l),o=!0},p(a,l){const u={};l&129&&(u.$$scope={dirty:l,ctx:a}),e.$set(u);const f={};l&129&&(f.$$scope={dirty:l,ctx:a}),n.$set(f);const c={};l&129&&(c.$$scope={dirty:l,ctx:a}),s.$set(c)},i(a){o||(w(e.$$.fragment,a),w(n.$$.fragment,a),w(s.$$.fragment,a),o=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),k(s.$$.fragment,a),o=!1},d(a){D(e,a),a&&A(t),D(n,a),a&&A(r),D(s,a)}}}function dc(i){let e,t;return e=new Tt({props:{$$slots:{default:[mc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,[r]){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function pc(i,e,t){let{value:n}=e;function r(f){Ce.call(this,i,f)}function s(){n.color=this.value,t(0,n)}function o(f){i.$$.not_equal(n.offset,f)&&(n.offset=f,t(0,n))}function a(f){Ce.call(this,i,f)}function l(f){i.$$.not_equal(n.blur,f)&&(n.blur=f,t(0,n))}function u(f){Ce.call(this,i,f)}return i.$$set=f=>{"value"in f&&t(0,n=f.value)},[n,r,s,o,a,l,u]}class _c extends we{constructor(e){super(),ye(this,e,pc,dc,ve,{value:0})}}function gc(i){let e,t,n,r;return{c(){e=de("Цвет"),t=J("input"),this.h()},l(s){e=pe(s,"Цвет"),t=Q(s,"INPUT",{type:!0}),this.h()},h(){L(t,"type","color")},m(s,o){O(s,e,o),O(s,t,o),it(t,i[0].value),n||(r=[Re(t,"input",i[2]),Re(t,"change",i[1])],n=!0)},p(s,o){o&1&&it(t,s[0].value)},d(s){s&&A(e),s&&A(t),n=!1,lt(r)}}}function bc(i){let e,t;return e=new Ye({props:{$$slots:{default:[gc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function vc(i){let e,t;return e=new Tt({props:{$$slots:{default:[bc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,[r]){const s={};r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function $c(i,e,t){let{value:n}=e;function r(o){Ce.call(this,i,o)}function s(){n.value=this.value,t(0,n)}return i.$$set=o=>{"value"in o&&t(0,n=o.value)},[n,r,s]}class wc extends we{constructor(e){super(),ye(this,e,$c,vc,ve,{value:0})}}function yc(i){let e;const t=i[4].default,n=Me(t,i,i[6],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&64)&&ze(n,t,r,r[6],e?De(t,r[6],s,null):Ue(r[6]),null)},i(r){e||(w(n,r),e=!0)},o(r){k(n,r),e=!1},d(r){n&&n.d(r)}}}function Ec(i){let e,t;return e=new rt({props:{title:i[2],active:i[0],width:i[1],$$slots:{default:[yc]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,[r]){const s={};r&4&&(s.title=n[2]),r&1&&(s.active=n[0]),r&2&&(s.width=n[1]),r&64&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function kc(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e,{width:o=""}=e,{title:a=""}=e;const l=vt(),u=()=>l("change",t(0,s=!s));return i.$$set=f=>{"value"in f&&t(0,s=f.value),"width"in f&&t(1,o=f.width),"title"in f&&t(2,a=f.title),"$$scope"in f&&t(6,r=f.$$scope)},[s,o,a,l,n,u,r]}class Hn extends we{constructor(e){super(),ye(this,e,kc,Ec,ve,{value:0,width:1,title:2})}}function Ac(i){let e;return{c(){e=de("Выбрать файл...")},l(t){e=pe(t,"Выбрать файл...")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function Sc(i){let e,t,n,r,s,o,a;const l=i[5].default,u=Me(l,i,i[4],null),f=u||Ac();return{c(){e=J("label"),f&&f.c(),t=le(),n=J("input"),this.h()},l(c){e=Q(c,"LABEL",{class:!0});var h=re(e);f&&f.l(h),t=ue(h),n=Q(h,"INPUT",{accept:!0,type:!0,class:!0}),h.forEach(A),this.h()},h(){L(n,"accept",i[0]),L(n,"type","file"),L(n,"class","svelte-187m8cr"),L(e,"class",r=Zn(i[2])+" svelte-187m8cr")},m(c,h){O(c,e,h),f&&f.m(e,null),H(e,t),H(e,n),s=!0,o||(a=Re(n,"change",i[6]),o=!0)},p(c,[h]){u&&u.p&&(!s||h&16)&&ze(u,l,c,c[4],s?De(l,c[4],h,null):Ue(c[4]),null),(!s||h&1)&&L(n,"accept",c[0]),(!s||h&4&&r!==(r=Zn(c[2])+" svelte-187m8cr"))&&L(e,"class",r)},i(c){s||(w(f,c),s=!0)},o(c){k(f,c),s=!1},d(c){c&&A(e),f&&f.d(c),o=!1,a()}}}function Tc(i,e,t){let{$$slots:n={},$$scope:r}=e,{accept:s=void 0}=e,{typeFilter:o=/.*/}=e,{class:a=""}=e;const l=vt(),u=f=>{const c=f.currentTarget.files;if(!c||c.length===0)return;const h=Array.from(c).filter(m=>{var d;return(d=m.type)==null?void 0:d.match(o)});h.length!==0&&(l("change",h),f.currentTarget.value="")};return i.$$set=f=>{"accept"in f&&t(0,s=f.accept),"typeFilter"in f&&t(1,o=f.typeFilter),"class"in f&&t(2,a=f.class),"$$scope"in f&&t(4,r=f.$$scope)},[s,o,a,l,r,n,u]}class Tr extends we{constructor(e){super(),ye(this,e,Tc,Sc,ve,{accept:0,typeFilter:1,class:2})}}function Ic(i){let e;return{c(){e=de("Выберите файл")},l(t){e=pe(t,"Выберите файл")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function Cc(i){let e,t;return e=new rt({props:{$$slots:{default:[Ic]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Rc(i){let e,t,n,r,s,o,a,l;return t=new Tr({props:{accept:i[0],typeFilter:i[1],$$slots:{default:[Cc]},$$scope:{ctx:i}}}),t.$on("change",i[3]),{c(){e=J("main"),M(t.$$.fragment),n=le(),r=J("span"),s=de("или перетащите сюда."),this.h()},l(u){e=Q(u,"MAIN",{class:!0});var f=re(e);z(t.$$.fragment,f),n=ue(f),r=Q(f,"SPAN",{class:!0});var c=re(r);s=pe(c,"или перетащите сюда."),c.forEach(A),f.forEach(A),this.h()},h(){L(r,"class","svelte-e7qrnw"),L(e,"class","svelte-e7qrnw")},m(u,f){O(u,e,f),U(t,e,null),H(e,n),H(e,r),H(r,s),o=!0,a||(l=[Re(e,"dragover",Fc),Re(e,"drop",i[2])],a=!0)},p(u,[f]){const c={};f&1&&(c.accept=u[0]),f&2&&(c.typeFilter=u[1]),f&32&&(c.$$scope={dirty:f,ctx:u}),t.$set(c)},i(u){o||(w(t.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),o=!1},d(u){u&&A(e),D(t),a=!1,lt(l)}}}const Fc=i=>i.preventDefault();function Nc(i,e,t){let{accept:n=void 0}=e,{typeFilter:r=/.*/g}=e;const s=vt();function o(l){var c;l.preventDefault();const u=(c=l.dataTransfer)==null?void 0:c.files;if(!u)return;const f=Array.from(u).filter(h=>{var m;return(m=h.type)==null?void 0:m.match(r)});f.length&&s("change",f)}function a(l){Ce.call(this,i,l)}return i.$$set=l=>{"accept"in l&&t(0,n=l.accept),"typeFilter"in l&&t(1,r=l.typeFilter)},[n,r,o,a]}class Pc extends we{constructor(e){super(),ye(this,e,Nc,Rc,ve,{accept:0,typeFilter:1})}}function Ui(i){let e,t,n,r,s,o,a,l;return n=new Ye({props:{error:i[1],$$slots:{default:[Bc]},$$scope:{ctx:i}}}),{c(){e=J("section"),t=J("section"),M(n.$$.fragment),r=le(),s=J("section"),o=J("img"),this.h()},l(u){e=Q(u,"SECTION",{class:!0});var f=re(e);t=Q(f,"SECTION",{class:!0});var c=re(t);z(n.$$.fragment,c),c.forEach(A),r=ue(f),s=Q(f,"SECTION",{class:!0});var h=re(s);o=Q(h,"IMG",{src:!0,alt:!0,class:!0}),h.forEach(A),f.forEach(A),this.h()},h(){L(t,"class","svelte-n6jyo5"),En(o.src,a=i[4])||L(o,"src",a),L(o,"alt",i[5]),L(o,"class","svelte-n6jyo5"),L(s,"class","svelte-n6jyo5"),L(e,"class","preview svelte-n6jyo5")},m(u,f){O(u,e,f),H(e,t),U(n,t,null),H(e,r),H(e,s),H(s,o),l=!0},p(u,f){const c={};f&2&&(c.error=u[1]),f&131110&&(c.$$scope={dirty:f,ctx:u}),n.$set(c),(!l||f&16&&!En(o.src,a=u[4]))&&L(o,"src",a),(!l||f&32)&&L(o,"alt",u[5])},i(u){l||(w(n.$$.fragment,u),l=!0)},o(u){k(n.$$.fragment,u),l=!1},d(u){u&&A(e),D(n)}}}function Bc(i){let e,t,n,r;return{c(){e=de("Название "),t=J("input"),this.h()},l(s){e=pe(s,"Название "),t=Q(s,"INPUT",{class:!0}),this.h()},h(){L(t,"class","svelte-n6jyo5")},m(s,o){O(s,e,o),O(s,t,o),it(t,i[5]),n||(r=[Re(t,"input",i[11]),Re(t,"input",i[12])],n=!0)},p(s,o){o&32&&t.value!==s[5]&&it(t,s[5])},d(s){s&&A(e),s&&A(t),n=!1,lt(r)}}}function Mc(i){let e,t,n,r;e=new Pc({props:{accept:"image/*",typeFilter:/^image\//}}),e.$on("change",i[7]);let s=i[3]&&Ui(i);return{c(){M(e.$$.fragment),t=le(),s&&s.c(),n=Oe()},l(o){z(e.$$.fragment,o),t=ue(o),s&&s.l(o),n=Oe()},m(o,a){U(e,o,a),O(o,t,a),s&&s.m(o,a),O(o,n,a),r=!0},p(o,a){o[3]?s?(s.p(o,a),a&8&&w(s,1)):(s=Ui(o),s.c(),w(s,1),s.m(n.parentNode,n)):s&&(je(),k(s,1,1,()=>{s=null}),We())},i(o){r||(w(e.$$.fragment,o),w(s),r=!0)},o(o){k(e.$$.fragment,o),k(s),r=!1},d(o){D(e,o),o&&A(t),s&&s.d(o),o&&A(n)}}}function zc(i){let e,t,n,r,s,o;return t=new Tt({props:{$$slots:{default:[Mc]},$$scope:{ctx:i}}}),{c(){e=J("article"),M(t.$$.fragment),n=le(),r=J("section"),s=de(`Добавленные паттерны пропадут между перезагрузками страницы, но их можно сохранить в .meme
			файле.`),this.h()},l(a){e=Q(a,"ARTICLE",{class:!0});var l=re(e);z(t.$$.fragment,l),n=ue(l),r=Q(l,"SECTION",{});var u=re(r);s=pe(u,`Добавленные паттерны пропадут между перезагрузками страницы, но их можно сохранить в .meme
			файле.`),u.forEach(A),l.forEach(A),this.h()},h(){L(e,"class","svelte-n6jyo5")},m(a,l){O(a,e,l),U(t,e,null),H(e,n),H(e,r),H(r,s),o=!0},p(a,l){const u={};l&131134&&(u.$$scope={dirty:l,ctx:a}),t.$set(u)},i(a){o||(w(t.$$.fragment,a),o=!0)},o(a){k(t.$$.fragment,a),o=!1},d(a){a&&A(e),D(t)}}}function Uc(i){let e,t;return{c(){e=J("header"),t=de("Добавить паттерн"),this.h()},l(n){e=Q(n,"HEADER",{slot:!0});var r=re(e);t=pe(r,"Добавить паттерн"),r.forEach(A),this.h()},h(){L(e,"slot","title")},m(n,r){O(n,e,r),H(e,t)},p:qe,d(n){n&&A(e)}}}function Dc(i){let e;return{c(){e=de("Отмена")},l(t){e=pe(t,"Отмена")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function Lc(i){let e;return{c(){e=de("Добавить")},l(t){e=pe(t,"Добавить")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function xc(i){let e,t,n,r,s;return t=new rt({props:{width:"128px",type:"danger",$$slots:{default:[Dc]},$$scope:{ctx:i}}}),t.$on("click",i[10]),r=new rt({props:{width:"128px",type:"primary",style:"margin-left:16px;",disabled:!i[5],$$slots:{default:[Lc]},$$scope:{ctx:i}}}),r.$on("click",i[9]),{c(){e=J("footer"),M(t.$$.fragment),n=le(),M(r.$$.fragment),this.h()},l(o){e=Q(o,"FOOTER",{slot:!0,class:!0});var a=re(e);z(t.$$.fragment,a),n=ue(a),z(r.$$.fragment,a),a.forEach(A),this.h()},h(){L(e,"slot","footer"),L(e,"class","svelte-n6jyo5")},m(o,a){O(o,e,a),U(t,e,null),H(e,n),U(r,e,null),s=!0},p(o,a){const l={};a&131072&&(l.$$scope={dirty:a,ctx:o}),t.$set(l);const u={};a&32&&(u.disabled=!o[5]),a&131072&&(u.$$scope={dirty:a,ctx:o}),r.$set(u)},i(o){s||(w(t.$$.fragment,o),w(r.$$.fragment,o),s=!0)},o(o){k(t.$$.fragment,o),k(r.$$.fragment,o),s=!1},d(o){o&&A(e),D(t),D(r)}}}function Oc(i){let e,t,n;function r(o){i[13](o)}let s={$$slots:{footer:[xc],title:[Uc],default:[zc]},$$scope:{ctx:i}};return i[0]!==void 0&&(s.open=i[0]),e=new ln({props:s}),ke.push(()=>Se(e,"open",r)),e.$on("close",i[8]),e.$on("paste",i[14]),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,[a]){const l={};a&131134&&(l.$$scope={dirty:a,ctx:o}),!t&&a&1&&(t=!0,l.open=o[0],Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function Gc(i,e,t){let{open:n=!0}=e,{error:r=""}=e,{validateName:s=()=>""}=e,o=null,a="",l="";function u(y){o!=y&&(a&&(URL.revokeObjectURL(a),t(4,a="")),t(3,o=y),o&&(t(4,a=URL.createObjectURL(o)),t(5,l=o.name.substring(0,o.name.lastIndexOf(".")))))}function f(y){var B,j;const R=document.activeElement;if(R instanceof HTMLInputElement||R instanceof HTMLTextAreaElement)return;const I=(B=y.clipboardData)==null?void 0:B.items;if(I)for(let N=0;N<I.length;N++){const P=I[N];if(!((j=P.type)!=null&&j.match(/^image/)))continue;const oe=P.getAsFile();oe&&u(oe);return}}function c(y){u(y.detail[0])}const h=vt();function m(y){var R;if(h("close",{action:"cancel"},{cancelable:!0})){t(0,n=!1);return}(R=y==null?void 0:y.preventDefault)==null||R.call(y)}function d(){if(!o)return;const y=s(l);if(y){t(1,r=y);return}h("submit",{action:"submit",image:o,name:l},{cancelable:!0})&&(t(0,n=!1),t(3,o=null),t(5,l=""),URL.revokeObjectURL(a),t(4,a=""))}hn(()=>()=>{a&&URL.revokeObjectURL(a)});const p=()=>m();function _(){l=this.value,t(5,l)}const g=()=>{t(1,r=s(l))};function $(y){n=y,t(0,n)}const E=y=>f(y.detail.event);return i.$$set=y=>{"open"in y&&t(0,n=y.open),"error"in y&&t(1,r=y.error),"validateName"in y&&t(2,s=y.validateName)},[n,r,s,o,a,l,f,c,m,d,p,_,g,$,E]}class Hc extends we{constructor(e){super(),ye(this,e,Gc,Oc,ve,{open:0,error:1,validateName:2})}}class jc{constructor(e=new Array){Fe(this,"subscribers",new Set);this.patterns=e}subscribe(e){return this.subscribers.add(e),e(this.patterns),()=>{this.subscribers.delete(e)}}addPattern(...e){this.patterns=this.patterns.filter(t=>!e.find(n=>n.name==t.name)),this.patterns.push(...e),this.subscribers.forEach(t=>t(this.patterns))}getTexture(e){const t=this.patterns.find(n=>n.name==e);if(!t)throw new Error(`Not found pattern '${e}'`);return t.textureId}has(e){return this.patterns.find(n=>n.name==e)!=null}delete(e){this.patterns.splice(this.patterns.findIndex(t=>t.name==e),1),this.subscribers.forEach(t=>t(this.patterns))}clear(){this.patterns=[],this.subscribers.forEach(e=>e(this.patterns))}}const wt=new jc;function Wc(i){let e=i[17]+"",t;return{c(){t=de(e)},l(n){t=pe(n,e)},m(n,r){O(n,t,r)},p(n,r){r&131072&&e!==(e=n[17]+"")&&st(t,e)},d(n){n&&A(t)}}}function Vc(i){let e,t;return e=new Ns({props:{size:28}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p:qe,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Zc(i){let e,t,n,r,s,o;function a(u){i[5](u)}let l={items:i[2].map(Li),$$slots:{default:[Wc,({item:u})=>({17:u}),({item:u})=>u?131072:0]},$$scope:{ctx:i}};return i[0].name!==void 0&&(l.value=i[0].name),t=new St({props:l}),ke.push(()=>Se(t,"value",a)),s=new rt({props:{title:"Добавить изображение как паттерн",width:"fin-content",$$slots:{default:[Vc]},$$scope:{ctx:i}}}),s.$on("click",i[6]),{c(){e=de("Паттерн "),M(t.$$.fragment),r=le(),M(s.$$.fragment)},l(u){e=pe(u,"Паттерн "),z(t.$$.fragment,u),r=ue(u),z(s.$$.fragment,u)},m(u,f){O(u,e,f),U(t,u,f),O(u,r,f),U(s,u,f),o=!0},p(u,f){const c={};f&4&&(c.items=u[2].map(Li)),f&393216&&(c.$$scope={dirty:f,ctx:u}),!n&&f&1&&(n=!0,c.value=u[0].name,Te(()=>n=!1)),t.$set(c);const h={};f&262144&&(h.$$scope={dirty:f,ctx:u}),s.$set(h)},i(u){o||(w(t.$$.fragment,u),w(s.$$.fragment,u),o=!0)},o(u){k(t.$$.fragment,u),k(s.$$.fragment,u),o=!1},d(u){u&&A(e),D(t,u),u&&A(r),D(s,u)}}}function Xc(i){let e,t,n,r;function s(a){i[7](a)}let o={withRange:!0,min:-360,max:360,step:.5};return i[0].rotate!==void 0&&(o.value=i[0].rotate),t=new ct({props:o}),ke.push(()=>Se(t,"value",s)),t.$on("change",i[8]),{c(){e=de("Поворот "),M(t.$$.fragment)},l(a){e=pe(a,"Поворот "),z(t.$$.fragment,a)},m(a,l){O(a,e,l),U(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].rotate,Te(()=>n=!1)),t.$set(u)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&A(e),D(t,a)}}}function qc(i){let e,t,n,r;function s(a){i[9](a)}let o={};return i[0].shift!==void 0&&(o.value=i[0].shift),t=new In({props:o}),ke.push(()=>Se(t,"value",s)),t.$on("change",i[10]),{c(){e=de("Сдвиг"),M(t.$$.fragment)},l(a){e=pe(a,"Сдвиг"),z(t.$$.fragment,a)},m(a,l){O(a,e,l),U(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].shift,Te(()=>n=!1)),t.$set(u)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&A(e),D(t,a)}}}function Kc(i){let e;return{c(){e=de("Авто")},l(t){e=pe(t,"Авто")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function Yc(i){let e,t,n;return t=new Hn({props:{title:"Авто = растягивать по прямоугольнику",value:i[0].scale==="font",$$slots:{default:[Kc]},$$scope:{ctx:i}}}),t.$on("change",i[11]),t.$on("change",i[12]),{c(){e=de("Масштаб "),M(t.$$.fragment)},l(r){e=pe(r,"Масштаб "),z(t.$$.fragment,r)},m(r,s){O(r,e,s),U(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].scale==="font"),s&262144&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&A(e),D(t,r)}}}function Di(i){let e,t;return e=new Ye({props:{$$slots:{default:[Jc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&262145&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Jc(i){let e,t,n,r,s;function o(l){i[13](l)}let a={step:.1};return i[0].scale!==void 0&&(a.value=i[0].scale),n=new In({props:a}),ke.push(()=>Se(n,"value",o)),n.$on("change",i[14]),{c(){e=J("div"),t=le(),M(n.$$.fragment)},l(l){e=Q(l,"DIV",{}),re(e).forEach(A),t=ue(l),z(n.$$.fragment,l)},m(l,u){O(l,e,u),O(l,t,u),U(n,l,u),s=!0},p(l,u){const f={};!r&&u&1&&(r=!0,f.value=l[0].scale,Te(()=>r=!1)),n.$set(f)},i(l){s||(w(n.$$.fragment,l),s=!0)},o(l){k(n.$$.fragment,l),s=!1},d(l){l&&A(e),l&&A(t),D(n,l)}}}function Qc(i){let e,t,n,r,s,o,a,l,u,f,c,h;e=new Ye({props:{for:"ignore",$$slots:{default:[Zc]},$$scope:{ctx:i}}}),n=new Ye({props:{$$slots:{default:[Xc]},$$scope:{ctx:i}}}),s=new Ye({props:{$$slots:{default:[qc]},$$scope:{ctx:i}}}),a=new Ye({props:{$$slots:{default:[Yc]},$$scope:{ctx:i}}});let m=i[0].scale!=="font"&&Di(i);function d(_){i[15](_)}let p={validateName:i[3]};return i[1]!==void 0&&(p.open=i[1]),f=new Hc({props:p}),ke.push(()=>Se(f,"open",d)),f.$on("submit",i[4]),{c(){M(e.$$.fragment),t=le(),M(n.$$.fragment),r=le(),M(s.$$.fragment),o=le(),M(a.$$.fragment),l=le(),m&&m.c(),u=le(),M(f.$$.fragment)},l(_){z(e.$$.fragment,_),t=ue(_),z(n.$$.fragment,_),r=ue(_),z(s.$$.fragment,_),o=ue(_),z(a.$$.fragment,_),l=ue(_),m&&m.l(_),u=ue(_),z(f.$$.fragment,_)},m(_,g){U(e,_,g),O(_,t,g),U(n,_,g),O(_,r,g),U(s,_,g),O(_,o,g),U(a,_,g),O(_,l,g),m&&m.m(_,g),O(_,u,g),U(f,_,g),h=!0},p(_,g){const $={};g&262151&&($.$$scope={dirty:g,ctx:_}),e.$set($);const E={};g&262145&&(E.$$scope={dirty:g,ctx:_}),n.$set(E);const y={};g&262145&&(y.$$scope={dirty:g,ctx:_}),s.$set(y);const R={};g&262145&&(R.$$scope={dirty:g,ctx:_}),a.$set(R),_[0].scale!=="font"?m?(m.p(_,g),g&1&&w(m,1)):(m=Di(_),m.c(),w(m,1),m.m(u.parentNode,u)):m&&(je(),k(m,1,1,()=>{m=null}),We());const I={};!c&&g&2&&(c=!0,I.open=_[1],Te(()=>c=!1)),f.$set(I)},i(_){h||(w(e.$$.fragment,_),w(n.$$.fragment,_),w(s.$$.fragment,_),w(a.$$.fragment,_),w(m),w(f.$$.fragment,_),h=!0)},o(_){k(e.$$.fragment,_),k(n.$$.fragment,_),k(s.$$.fragment,_),k(a.$$.fragment,_),k(m),k(f.$$.fragment,_),h=!1},d(_){D(e,_),_&&A(t),D(n,_),_&&A(r),D(s,_),_&&A(o),D(a,_),_&&A(l),m&&m.d(_),_&&A(u),D(f,_)}}}function eh(i){let e,t;return e=new Tt({props:{$$slots:{default:[Qc]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,[r]){const s={};r&262151&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}const Li=i=>i.name;function th(i,e,t){let n;At(i,wt,y=>t(2,n=y));let{value:r}=e;const s=vt();function o(y){return wt.has(y)?"Это имя уже занято":""}function a(y){s("addPattern",y.detail),t(0,r.name=y.detail.name,r)}let l=!1;function u(y){i.$$.not_equal(r.name,y)&&(r.name=y,t(0,r))}const f=()=>t(1,l=!0);function c(y){i.$$.not_equal(r.rotate,y)&&(r.rotate=y,t(0,r))}function h(y){Ce.call(this,i,y)}function m(y){i.$$.not_equal(r.shift,y)&&(r.shift=y,t(0,r))}function d(y){Ce.call(this,i,y)}const p=y=>t(0,r.scale=y.detail?"font":{x:1,y:1},r);function _(y){Ce.call(this,i,y)}function g(y){i.$$.not_equal(r.scale,y)&&(r.scale=y,t(0,r))}function $(y){Ce.call(this,i,y)}function E(y){l=y,t(1,l)}return i.$$set=y=>{"value"in y&&t(0,r=y.value)},[r,l,n,o,a,u,f,c,h,m,d,p,_,g,$,E]}class nh extends we{constructor(e){super(),ye(this,e,th,eh,ve,{value:0})}}function rh(i){let e,t,n,r;return{c(){e=de("Слева"),t=J("input"),this.h()},l(s){e=pe(s,"Слева"),t=Q(s,"INPUT",{type:!0}),this.h()},h(){L(t,"type","color")},m(s,o){O(s,e,o),O(s,t,o),it(t,i[0].color1),n||(r=[Re(t,"input",i[5]),Re(t,"change",i[4])],n=!0)},p(s,o){o&1&&it(t,s[0].color1)},d(s){s&&A(e),s&&A(t),n=!1,lt(r)}}}function ih(i){let e,t,n,r;return{c(){e=de("Справа"),t=J("input"),this.h()},l(s){e=pe(s,"Справа"),t=Q(s,"INPUT",{type:!0}),this.h()},h(){L(t,"type","color")},m(s,o){O(s,e,o),O(s,t,o),it(t,i[0].color2),n||(r=[Re(t,"input",i[6]),Re(t,"change",i[3])],n=!0)},p(s,o){o&1&&it(t,s[0].color2)},d(s){s&&A(e),s&&A(t),n=!1,lt(r)}}}function sh(i){let e,t,n,r;return{c(){e=de("Сверху"),t=J("input"),this.h()},l(s){e=pe(s,"Сверху"),t=Q(s,"INPUT",{type:!0}),this.h()},h(){L(t,"type","color")},m(s,o){O(s,e,o),O(s,t,o),it(t,i[0].color3),n||(r=[Re(t,"input",i[7]),Re(t,"change",i[2])],n=!0)},p(s,o){o&1&&it(t,s[0].color3)},d(s){s&&A(e),s&&A(t),n=!1,lt(r)}}}function oh(i){let e,t,n,r;return{c(){e=de("Снизу"),t=J("input"),this.h()},l(s){e=pe(s,"Снизу"),t=Q(s,"INPUT",{type:!0}),this.h()},h(){L(t,"type","color")},m(s,o){O(s,e,o),O(s,t,o),it(t,i[0].color4),n||(r=[Re(t,"input",i[8]),Re(t,"change",i[1])],n=!0)},p(s,o){o&1&&it(t,s[0].color4)},d(s){s&&A(e),s&&A(t),n=!1,lt(r)}}}function ah(i){let e,t,n,r,s,o,a,l;return e=new Ye({props:{$$slots:{default:[rh]},$$scope:{ctx:i}}}),n=new Ye({props:{$$slots:{default:[ih]},$$scope:{ctx:i}}}),s=new Ye({props:{$$slots:{default:[sh]},$$scope:{ctx:i}}}),a=new Ye({props:{$$slots:{default:[oh]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment),t=le(),M(n.$$.fragment),r=le(),M(s.$$.fragment),o=le(),M(a.$$.fragment)},l(u){z(e.$$.fragment,u),t=ue(u),z(n.$$.fragment,u),r=ue(u),z(s.$$.fragment,u),o=ue(u),z(a.$$.fragment,u)},m(u,f){U(e,u,f),O(u,t,f),U(n,u,f),O(u,r,f),U(s,u,f),O(u,o,f),U(a,u,f),l=!0},p(u,f){const c={};f&513&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const h={};f&513&&(h.$$scope={dirty:f,ctx:u}),n.$set(h);const m={};f&513&&(m.$$scope={dirty:f,ctx:u}),s.$set(m);const d={};f&513&&(d.$$scope={dirty:f,ctx:u}),a.$set(d)},i(u){l||(w(e.$$.fragment,u),w(n.$$.fragment,u),w(s.$$.fragment,u),w(a.$$.fragment,u),l=!0)},o(u){k(e.$$.fragment,u),k(n.$$.fragment,u),k(s.$$.fragment,u),k(a.$$.fragment,u),l=!1},d(u){D(e,u),u&&A(t),D(n,u),u&&A(r),D(s,u),u&&A(o),D(a,u)}}}function lh(i){let e,t;return e=new Tt({props:{$$slots:{default:[ah]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,[r]){const s={};r&513&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function uh(i,e,t){let{value:n}=e;function r(h){Ce.call(this,i,h)}function s(h){Ce.call(this,i,h)}function o(h){Ce.call(this,i,h)}function a(h){Ce.call(this,i,h)}function l(){n.color1=this.value,t(0,n)}function u(){n.color2=this.value,t(0,n)}function f(){n.color3=this.value,t(0,n)}function c(){n.color4=this.value,t(0,n)}return i.$$set=h=>{"value"in h&&t(0,n=h.value)},[n,r,s,o,a,l,u,f,c]}class fh extends we{constructor(e){super(),ye(this,e,uh,lh,ve,{value:0})}}function ch(i){let e,t,n,r;return{c(){e=J("textarea"),this.h()},l(s){e=Q(s,"TEXTAREA",{rows:!0,class:!0}),re(e).forEach(A),this.h()},h(){var s,o;e.value=i[1],L(e,"rows",t=((o=(s=i[1])==null?void 0:s.split(`
`))==null?void 0:o.length)||1),L(e,"class","svelte-1g0ox8l")},m(s,o){O(s,e,o),n||(r=Re(e,"change",i[2]),n=!0)},p(s,[o]){var a,l;o&2&&(e.value=s[1]),o&2&&t!==(t=((l=(a=s[1])==null?void 0:a.split(`
`))==null?void 0:l.length)||1)&&L(e,"rows",t)},i:qe,o:qe,d(s){s&&A(e),n=!1,r()}}}function hh(i,e,t){let{value:n}=e,r="";const s=o=>{try{t(0,n=JSON.parse(o.currentTarget.value))}catch(a){console.warn(a)}};return i.$$set=o=>{"value"in o&&t(0,n=o.value)},i.$$.update=()=>{i.$$.dirty&1&&t(1,r=JSON.stringify(n,void 0,4))},[n,r,s]}class mh extends we{constructor(e){super(),ye(this,e,hh,ch,ve,{value:0})}}function xi(i){const e=i[0].settings.type;i[19]=e}function dh(i){let e=i[2][i[20]]+"",t;return{c(){t=de(e)},l(n){t=pe(n,e)},m(n,r){O(n,t,r)},p(n,r){r&1048576&&e!==(e=n[2][n[20]]+"")&&st(t,e)},d(n){n&&A(t)}}}function Oi(i){let e,t;return e=new Tt({props:{$$slots:{default:[wh]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&2097153&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function ph(i){let e,t,n,r,s;function o(l){i[13](l)}let a={};return i[0].settings!==void 0&&(a.value=i[0].settings),t=new mh({props:a}),ke.push(()=>Se(t,"value",o)),{c(){e=J("div"),M(t.$$.fragment)},l(l){e=Q(l,"DIV",{});var u=re(e);z(t.$$.fragment,u),u.forEach(A)},m(l,u){O(l,e,u),U(t,e,null),s=!0},p(l,u){const f={};!n&&u&1&&(n=!0,f.value=l[0].settings,Te(()=>n=!1)),t.$set(f)},i(l){s||(w(t.$$.fragment,l),l&&xt(()=>{r||(r=ft(e,ht,{},!0)),r.run(1)}),s=!0)},o(l){k(t.$$.fragment,l),l&&(r||(r=ft(e,ht,{},!1)),r.run(0)),s=!1},d(l){l&&A(e),D(t),l&&r&&r.end()}}}function _h(i){let e,t,n,r,s;function o(l){i[12](l)}let a={};return i[0].settings!==void 0&&(a.value=i[0].settings),t=new fh({props:a}),ke.push(()=>Se(t,"value",o)),{c(){e=J("div"),M(t.$$.fragment)},l(l){e=Q(l,"DIV",{});var u=re(e);z(t.$$.fragment,u),u.forEach(A)},m(l,u){O(l,e,u),U(t,e,null),s=!0},p(l,u){const f={};!n&&u&1&&(n=!0,f.value=l[0].settings,Te(()=>n=!1)),t.$set(f)},i(l){s||(w(t.$$.fragment,l),l&&xt(()=>{r||(r=ft(e,ht,{},!0)),r.run(1)}),s=!0)},o(l){k(t.$$.fragment,l),l&&(r||(r=ft(e,ht,{},!1)),r.run(0)),s=!1},d(l){l&&A(e),D(t),l&&r&&r.end()}}}function gh(i){let e,t,n,r,s;function o(l){i[9](l)}let a={};return i[0].settings!==void 0&&(a.value=i[0].settings),t=new nh({props:a}),ke.push(()=>Se(t,"value",o)),t.$on("change",i[10]),t.$on("addPattern",i[11]),{c(){e=J("div"),M(t.$$.fragment)},l(l){e=Q(l,"DIV",{});var u=re(e);z(t.$$.fragment,u),u.forEach(A)},m(l,u){O(l,e,u),U(t,e,null),s=!0},p(l,u){const f={};!n&&u&1&&(n=!0,f.value=l[0].settings,Te(()=>n=!1)),t.$set(f)},i(l){s||(w(t.$$.fragment,l),l&&xt(()=>{r||(r=ft(e,ht,{},!0)),r.run(1)}),s=!0)},o(l){k(t.$$.fragment,l),l&&(r||(r=ft(e,ht,{},!1)),r.run(0)),s=!1},d(l){l&&A(e),D(t),l&&r&&r.end()}}}function bh(i){let e,t,n,r,s;function o(l){i[7](l)}let a={};return i[0].settings!==void 0&&(a.value=i[0].settings),t=new wc({props:a}),ke.push(()=>Se(t,"value",o)),t.$on("change",i[8]),{c(){e=J("div"),M(t.$$.fragment)},l(l){e=Q(l,"DIV",{});var u=re(e);z(t.$$.fragment,u),u.forEach(A)},m(l,u){O(l,e,u),U(t,e,null),s=!0},p(l,u){const f={};!n&&u&1&&(n=!0,f.value=l[0].settings,Te(()=>n=!1)),t.$set(f)},i(l){s||(w(t.$$.fragment,l),l&&xt(()=>{r||(r=ft(e,ht,{},!0)),r.run(1)}),s=!0)},o(l){k(t.$$.fragment,l),l&&(r||(r=ft(e,ht,{},!1)),r.run(0)),s=!1},d(l){l&&A(e),D(t),l&&r&&r.end()}}}function vh(i){let e,t,n;return t=new ct({props:{withRange:!0,min:0,max:100,step:1,value:100-i[0].alpha*100}}),t.$on("change",i[14]),t.$on("input",i[15]),{c(){e=de("Прозрачность (%) "),M(t.$$.fragment)},l(r){e=pe(r,"Прозрачность (%) "),z(t.$$.fragment,r)},m(r,s){O(r,e,s),U(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=100-r[0].alpha*100),t.$set(o)},i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&A(e),D(t,r)}}}function $h(i){let e,t,n,r,s;return{c(){e=de("Тень "),t=J("input"),this.h()},l(o){e=pe(o,"Тень "),t=Q(o,"INPUT",{type:!0}),this.h()},h(){L(t,"type","checkbox"),t.checked=n=i[0].shadow!==void 0},m(o,a){O(o,e,a),O(o,t,a),r||(s=[Re(t,"change",i[16]),Re(t,"change",i[5])],r=!0)},p(o,a){a&1&&n!==(n=o[0].shadow!==void 0)&&(t.checked=n)},d(o){o&&A(e),o&&A(t),r=!1,lt(s)}}}function Gi(i){let e,t,n,r;function s(a){i[17](a)}let o={};return i[0].shadow!==void 0&&(o.value=i[0].shadow),t=new _c({props:o}),ke.push(()=>Se(t,"value",s)),t.$on("change",i[18]),{c(){e=J("div"),M(t.$$.fragment)},l(a){e=Q(a,"DIV",{});var l=re(e);z(t.$$.fragment,l),l.forEach(A)},m(a,l){O(a,e,l),U(t,e,null),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].shadow,Te(()=>n=!1)),t.$set(u)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&A(e),D(t)}}}function wh(i){xi(i);let e,t,n,r,s,o,a,l,u,f;const c=[bh,gh,_h,ph],h=[];function m(p,_){return p[19]==="color"?0:p[19]==="pattern"?1:p[19]==="gradient4"?2:3}e=m(i),t=h[e]=c[e](i),s=new Ye({props:{$$slots:{default:[vh]},$$scope:{ctx:i}}}),a=new Ye({props:{$$slots:{default:[$h]},$$scope:{ctx:i}}});let d=i[0].shadow&&Gi(i);return{c(){t.c(),n=le(),r=J("div"),M(s.$$.fragment),o=le(),M(a.$$.fragment),l=le(),d&&d.c()},l(p){t.l(p),n=ue(p),r=Q(p,"DIV",{});var _=re(r);z(s.$$.fragment,_),o=ue(_),z(a.$$.fragment,_),l=ue(_),d&&d.l(_),_.forEach(A)},m(p,_){h[e].m(p,_),O(p,n,_),O(p,r,_),U(s,r,null),H(r,o),U(a,r,null),H(r,l),d&&d.m(r,null),f=!0},p(p,_){xi(p);let g=e;e=m(p),e===g?h[e].p(p,_):(je(),k(h[g],1,1,()=>{h[g]=null}),We(),t=h[e],t?t.p(p,_):(t=h[e]=c[e](p),t.c()),w(t,1),t.m(n.parentNode,n));const $={};_&2097153&&($.$$scope={dirty:_,ctx:p}),s.$set($);const E={};_&2097153&&(E.$$scope={dirty:_,ctx:p}),a.$set(E),p[0].shadow?d?(d.p(p,_),_&1&&w(d,1)):(d=Gi(p),d.c(),w(d,1),d.m(r,null)):d&&(je(),k(d,1,1,()=>{d=null}),We())},i(p){f||(w(t),w(s.$$.fragment,p),w(a.$$.fragment,p),w(d),p&&xt(()=>{u||(u=ft(r,ht,{},!0)),u.run(1)}),f=!0)},o(p){k(t),k(s.$$.fragment,p),k(a.$$.fragment,p),k(d),p&&(u||(u=ft(r,ht,{},!1)),u.run(0)),f=!1},d(p){h[e].d(p),p&&A(n),p&&A(r),D(s),D(a),d&&d.d(),p&&u&&u.end()}}}function yh(i){let e,t,n,r,s;n=new St({props:{value:i[0].settings.type,items:i[3],$$slots:{default:[dh,({item:a})=>({20:a}),({item:a})=>a?1048576:0]},$$scope:{ctx:i}}}),n.$on("change",i[1]),n.$on("change",i[6]);let o=i[0].settings.type!=="disabled"&&Oi(i);return{c(){e=J("article"),t=J("header"),M(n.$$.fragment),r=le(),o&&o.c(),this.h()},l(a){e=Q(a,"ARTICLE",{class:!0});var l=re(e);t=Q(l,"HEADER",{});var u=re(t);z(n.$$.fragment,u),u.forEach(A),r=ue(l),o&&o.l(l),l.forEach(A),this.h()},h(){L(e,"class","svelte-1b7lwvz")},m(a,l){O(a,e,l),H(e,t),U(n,t,null),H(e,r),o&&o.m(e,null),s=!0},p(a,[l]){const u={};l&1&&(u.value=a[0].settings.type),l&3145728&&(u.$$scope={dirty:l,ctx:a}),n.$set(u),a[0].settings.type!=="disabled"?o?(o.p(a,l),l&1&&w(o,1)):(o=Oi(a),o.c(),w(o,1),o.m(e,null)):o&&(je(),k(o,1,1,()=>{o=null}),We())},i(a){s||(w(n.$$.fragment,a),w(o),s=!0)},o(a){k(n.$$.fragment,a),k(o),s=!1},d(a){a&&A(e),D(n),o&&o.d()}}}function Eh(i,e,t){let{value:n}=e,{defaults:r}=e;function s(I){const B=r.find(j=>j.type===I.detail.value);if(!B)throw new Error(`Not found default value for type ${I.detail.value}`);t(0,n.settings=structuredClone(B),n)}const o={disabled:"Выключить",color:"Цвет",pattern:"Паттерн",gradient4:"Градиент (крестовой)"},a=Object.keys(o);function l(I){Ce.call(this,i,I)}function u(I){Ce.call(this,i,I)}function f(I){i.$$.not_equal(n.settings,I)&&(n.settings=I,t(0,n))}function c(I){Ce.call(this,i,I)}function h(I){i.$$.not_equal(n.settings,I)&&(n.settings=I,t(0,n))}function m(I){Ce.call(this,i,I)}function d(I){Ce.call(this,i,I)}function p(I){i.$$.not_equal(n.settings,I)&&(n.settings=I,t(0,n))}function _(I){i.$$.not_equal(n.settings,I)&&(n.settings=I,t(0,n))}function g(I){Ce.call(this,i,I)}const $=I=>{t(0,n.alpha=(100-I.detail)/100,n)},E=I=>{t(0,n.shadow=I.currentTarget.checked?{blur:10,color:"#000000",offset:{x:0,y:0}}:void 0,n)};function y(I){i.$$.not_equal(n.shadow,I)&&(n.shadow=I,t(0,n))}function R(I){Ce.call(this,i,I)}return i.$$set=I=>{"value"in I&&t(0,n=I.value),"defaults"in I&&t(4,r=I.defaults)},[n,s,o,a,r,l,u,f,c,h,m,d,p,_,g,$,E,y,R]}class Ms extends we{constructor(e){super(),ye(this,e,Eh,yh,ve,{value:0,defaults:4})}}function Jt({italic:i,smallCaps:e,bold:t,family:n},r){return`${i?"italic":"normal"} ${e?"small-caps":"normal"} ${t?"bold":"normal"} ${r}px ${n}`}class Bn{constructor(e){Fe(this,"subscribers",new Set);this.value=e}update(e){this.set(e(this.value))}subscribe(e){return e(this.value),this.subscribers.add(e),()=>{this.subscribers.delete(e)}}set(e){this.value=e,this.subscribers.forEach(t=>t(e))}}function an(i){return JSON.parse(JSON.stringify(i))}const zs={case:"UPPER",align:"center",baseline:"middle",lineSpacing:-.125,fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1},strokeWidth:14,experimental:{}};function kh(i,e){return e.case=i.case,e.fill=an(i.fill),e.stroke=an(i.stroke),e.font=an(i.font),e}const Ah=[{name:"TRUE IMPACT",case:"UPPER",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1}},{name:"post-ironic lobster",case:"lower",fill:{settings:{type:"color",value:"#ffffff"},alpha:1,shadow:{color:"#000000",blur:15,offset:{x:0,y:0}}},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!1,family:"Lobster",italic:!1,smallCaps:!1}},{name:"Arial subtitles",case:"As is",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!1,family:"Arial",italic:!1,smallCaps:!1}},{name:"Arial bold subtitles",case:"As is",fill:{settings:{type:"color",value:"#ffffff"},alpha:1},stroke:{settings:{type:"color",value:"#000000"},alpha:1},font:{bold:!0,family:"Arial",italic:!1,smallCaps:!1}},{name:"Black Arial",case:"As is",fill:{settings:{type:"color",value:"#000000"},alpha:1},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!1,family:"Arial",italic:!1,smallCaps:!1}},{name:"Black Arial bold",case:"As is",fill:{settings:{type:"color",value:"#000000"},alpha:1},stroke:{settings:{type:"disabled"},alpha:1},font:{bold:!0,family:"Arial",italic:!1,smallCaps:!1}}],Sh=An(Ah);var Mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zn(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var un={},Th={get exports(){return un},set exports(i){un=i}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(n,r,s){function o(u,f){if(!r[u]){if(!n[u]){var c=typeof zn=="function"&&zn;if(!f&&c)return c(u,!0);if(a)return a(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var m=r[u]={exports:{}};n[u][0].call(m.exports,function(d){var p=n[u][1][d];return o(p||d)},m,m.exports,t,n,r,s)}return r[u].exports}for(var a=typeof zn=="function"&&zn,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(t,n,r){var s=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var u,f,c,h,m,d,p,_=[],g=0,$=l.length,E=$,y=s.getTypeOf(l)!=="string";g<l.length;)E=$-g,c=y?(u=l[g++],f=g<$?l[g++]:0,g<$?l[g++]:0):(u=l.charCodeAt(g++),f=g<$?l.charCodeAt(g++):0,g<$?l.charCodeAt(g++):0),h=u>>2,m=(3&u)<<4|f>>4,d=1<E?(15&f)<<2|c>>6:64,p=2<E?63&c:64,_.push(a.charAt(h)+a.charAt(m)+a.charAt(d)+a.charAt(p));return _.join("")},r.decode=function(l){var u,f,c,h,m,d,p=0,_=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var $,E=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&E--,l.charAt(l.length-2)===a.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for($=o.uint8array?new Uint8Array(0|E):new Array(0|E);p<l.length;)u=a.indexOf(l.charAt(p++))<<2|(h=a.indexOf(l.charAt(p++)))>>4,f=(15&h)<<4|(m=a.indexOf(l.charAt(p++)))>>2,c=(3&m)<<6|(d=a.indexOf(l.charAt(p++))),$[_++]=u,m!==64&&($[_++]=f),d!==64&&($[_++]=c);return $}},{"./support":30,"./utils":32}],2:[function(t,n,r){var s=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function u(f,c,h,m,d){this.compressedSize=f,this.uncompressedSize=c,this.crc32=h,this.compression=m,this.compressedContent=d}u.prototype={getContentWorker:function(){var f=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),c=this;return f.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(f,c,h){return f.pipe(new a).pipe(new l("uncompressedSize")).pipe(c.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",c)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,r){var s=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,r){var s=t("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var f=0;f<8;f++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();n.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,f,c,h){var m=o,d=h+c;u^=-1;for(var p=h;p<d;p++)u=u>>>8^m[255&(u^f[p])];return-1^u}(0|l,a,a.length,0):function(u,f,c,h){var m=o,d=h+c;u^=-1;for(var p=h;p<d;p++)u=u>>>8^m[255&(u^f.charCodeAt(p))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(t,n,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,n,r){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),a=t("./utils"),l=t("./stream/GenericWorker"),u=s?"uint8array":"array";function f(c,h){l.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=h,this.meta={}}r.magic="\b\0",a.inherits(f,l),f.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,c.data),!1)},f.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(h){c.push({data:h,meta:c.meta})}},r.compressWorker=function(c){return new f("Deflate",c)},r.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,r){function s(m,d){var p,_="";for(p=0;p<d;p++)_+=String.fromCharCode(255&m),m>>>=8;return _}function o(m,d,p,_,g,$){var E,y,R=m.file,I=m.compression,B=$!==u.utf8encode,j=a.transformTo("string",$(R.name)),N=a.transformTo("string",u.utf8encode(R.name)),P=R.comment,oe=a.transformTo("string",$(P)),C=a.transformTo("string",u.utf8encode(P)),T=N.length!==R.name.length,b=C.length!==P.length,X="",be="",x="",he=R.dir,te=R.date,Ee={crc32:0,compressedSize:0,uncompressedSize:0};d&&!p||(Ee.crc32=m.crc32,Ee.compressedSize=m.compressedSize,Ee.uncompressedSize=m.uncompressedSize);var W=0;d&&(W|=8),B||!T&&!b||(W|=2048);var V=0,K=0;he&&(V|=16),g==="UNIX"?(K=798,V|=function(me,se){var $e=me;return me||($e=se?16893:33204),(65535&$e)<<16}(R.unixPermissions,he)):(K=20,V|=function(me){return 63&(me||0)}(R.dosPermissions)),E=te.getUTCHours(),E<<=6,E|=te.getUTCMinutes(),E<<=5,E|=te.getUTCSeconds()/2,y=te.getUTCFullYear()-1980,y<<=4,y|=te.getUTCMonth()+1,y<<=5,y|=te.getUTCDate(),T&&(be=s(1,1)+s(f(j),4)+N,X+="up"+s(be.length,2)+be),b&&(x=s(1,1)+s(f(oe),4)+C,X+="uc"+s(x.length,2)+x);var ee="";return ee+=`
\0`,ee+=s(W,2),ee+=I.magic,ee+=s(E,2),ee+=s(y,2),ee+=s(Ee.crc32,4),ee+=s(Ee.compressedSize,4),ee+=s(Ee.uncompressedSize,4),ee+=s(j.length,2),ee+=s(X.length,2),{fileRecord:c.LOCAL_FILE_HEADER+ee+j+X,dirRecord:c.CENTRAL_FILE_HEADER+s(K,2)+ee+s(oe.length,2)+"\0\0\0\0"+s(V,4)+s(_,4)+j+X+oe}}var a=t("../utils"),l=t("../stream/GenericWorker"),u=t("../utf8"),f=t("../crc32"),c=t("../signature");function h(m,d,p,_){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=p,this.encodeFileName=_,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,l),h.prototype.push=function(m){var d=m.meta.percent||0,p=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:p?(d+100*(p-_-1))/p:100}}))},h.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var d=this.streamFiles&&!m.file.dir;if(d){var p=o(m,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(m){this.accumulate=!1;var d=this.streamFiles&&!m.file.dir,p=o(m,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),d)this.push({data:function(_){return c.DATA_DESCRIPTOR+s(_.crc32,4)+s(_.compressedSize,4)+s(_.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var m=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var p=this.bytesWritten-m,_=function(g,$,E,y,R){var I=a.transformTo("string",R(y));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s($,4)+s(E,4)+s(I.length,2)+I}(this.dirRecords.length,p,m,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(m){this._sources.push(m);var d=this;return m.on("data",function(p){d.processChunk(p)}),m.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),m.on("error",function(p){d.error(p)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(m){var d=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var p=0;p<d.length;p++)try{d[p].error(m)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,d=0;d<m.length;d++)m[d].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,r){var s=t("../compressions"),o=t("./ZipFileWorker");r.generateWorker=function(a,l,u){var f=new o(l.streamFiles,u,l.platform,l.encodeFileName),c=0;try{a.forEach(function(h,m){c++;var d=function($,E){var y=$||E,R=s[y];if(!R)throw new Error(y+" is not a valid compression method !");return R}(m.options.compression,l.compression),p=m.options.compressionOptions||l.compressionOptions||{},_=m.dir,g=m.date;m._compressWorker(d,p).withStreamInfo("file",{name:h,dir:_,date:g,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(f)}),f.entriesCount=c}catch(h){f.error(h)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,r){var s=t("./utils"),o=t("./external"),a=t("./utf8"),l=t("./zipEntries"),u=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function c(h){return new o.Promise(function(m,d){var p=h.decompressed.getContentWorker().pipe(new u);p.on("error",function(_){d(_)}).on("end",function(){p.streamInfo.crc32!==h.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}n.exports=function(h,m){var d=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),f.isNode&&f.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,m.optimizedBinaryString,m.base64).then(function(p){var _=new l(m);return _.load(p),_}).then(function(p){var _=[o.Promise.resolve(p)],g=p.files;if(m.checkCRC32)for(var $=0;$<g.length;$++)_.push(c(g[$]));return o.Promise.all(_)}).then(function(p){for(var _=p.shift(),g=_.files,$=0;$<g.length;$++){var E=g[$],y=E.fileNameStr,R=s.resolve(E.fileNameStr);d.file(R,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:m.createFolders}),E.dir||(d.file(R).unsafeOriginalName=y)}return _.zipComment.length&&(d.comment=_.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,r){var s=t("../utils"),o=t("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(f){u.push({data:f,meta:{percent:0}})}).on("error",function(f){u.isPaused?this.generatedError=f:u.error(f)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,r){var s=t("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var f=this;a.on("data",function(c,h){f.push(c)||f._helper.pause(),u&&u(h)}).on("error",function(c){f.emit("error",c)}).on("end",function(){f.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,r){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,r){function s(R,I,B){var j,N=a.getTypeOf(I),P=a.extend(B||{},f);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(R=g(R)),P.createFolders&&(j=_(R))&&$.call(this,j,!0);var oe=N==="string"&&P.binary===!1&&P.base64===!1;B&&B.binary!==void 0||(P.binary=!oe),(I instanceof c&&I.uncompressedSize===0||P.dir||!I||I.length===0)&&(P.base64=!1,P.binary=!0,I="",P.compression="STORE",N="string");var C=null;C=I instanceof c||I instanceof l?I:d.isNode&&d.isStream(I)?new p(R,I):a.prepareContent(R,I,P.binary,P.optimizedBinaryString,P.base64);var T=new h(R,C,P);this.files[R]=T}var o=t("./utf8"),a=t("./utils"),l=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),f=t("./defaults"),c=t("./compressedObject"),h=t("./zipObject"),m=t("./generate"),d=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),_=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var I=R.lastIndexOf("/");return 0<I?R.substring(0,I):""},g=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},$=function(R,I){return I=I!==void 0?I:f.createFolders,R=g(R),this.files[R]||s.call(this,R,null,{dir:!0,createFolders:I}),this.files[R]};function E(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var I,B,j;for(I in this.files)j=this.files[I],(B=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&R(B,j)},filter:function(R){var I=[];return this.forEach(function(B,j){R(B,j)&&I.push(j)}),I},file:function(R,I,B){if(arguments.length!==1)return R=this.root+R,s.call(this,R,I,B),this;if(E(R)){var j=R;return this.filter(function(P,oe){return!oe.dir&&j.test(P)})}var N=this.files[this.root+R];return N&&!N.dir?N:null},folder:function(R){if(!R)return this;if(E(R))return this.filter(function(N,P){return P.dir&&R.test(N)});var I=this.root+R,B=$.call(this,I),j=this.clone();return j.root=B.name,j},remove:function(R){R=this.root+R;var I=this.files[R];if(I||(R.slice(-1)!=="/"&&(R+="/"),I=this.files[R]),I&&!I.dir)delete this.files[R];else for(var B=this.filter(function(N,P){return P.name.slice(0,R.length)===R}),j=0;j<B.length;j++)delete this.files[B[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var I,B={};try{if((B=a.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");a.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var j=B.comment||this.comment||"";I=m.generateWorker(this,B,j)}catch(N){(I=new l("error")).error(N)}return new u(I,B.type||"string",B.mimeType)},generateAsync:function(R,I){return this.generateInternalStream(R).accumulate(I)},generateNodeStream:function(R,I){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(I)}};n.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,r){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,r){var s=t("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),c=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===u&&this.data[h+2]===f&&this.data[h+3]===c)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),f=a.charCodeAt(2),c=a.charCodeAt(3),h=this.readData(4);return l===h[0]&&u===h[1]&&f===h[2]&&c===h[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,r){var s=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,r){var s=t("./Uint8ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,r){var s=t("./DataReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,r){var s=t("./ArrayReader");function o(a){s.call(this,a)}t("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,r){var s=t("../utils"),o=t("../support"),a=t("./ArrayReader"),l=t("./StringReader"),u=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");n.exports=function(c){var h=s.getTypeOf(c);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new u(c):o.uint8array?new f(s.transformTo("uint8array",c)):new a(s.transformTo("array",c)):new l(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,r){var s=t("./GenericWorker"),o=t("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},n.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,r){var s=t("./GenericWorker"),o=t("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},n.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,r){var s=t("../utils"),o=t("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(f){u.dataIsReady=!0,u.data=f,u.max=f&&f.length||0,u.type=s.getTypeOf(f),u.isPaused||u._tickAndRepeat()},function(f){u.error(f)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,r){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(t,n,r){var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),l=t("../base64"),u=t("../support"),f=t("../external"),c=null;if(u.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(d,p){return new f.Promise(function(_,g){var $=[],E=d._internalType,y=d._outputType,R=d._mimeType;d.on("data",function(I,B){$.push(I),p&&p(B)}).on("error",function(I){$=[],g(I)}).on("end",function(){try{var I=function(B,j,N){switch(B){case"blob":return s.newBlob(s.transformTo("arraybuffer",j),N);case"base64":return l.encode(j);default:return s.transformTo(B,j)}}(y,function(B,j){var N,P=0,oe=null,C=0;for(N=0;N<j.length;N++)C+=j[N].length;switch(B){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(oe=new Uint8Array(C),N=0;N<j.length;N++)oe.set(j[N],P),P+=j[N].length;return oe;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+B+"'")}}(E,$),R);_(I)}catch(B){g(B)}$=[]}).resume()})}function m(d,p,_){var g=p;switch(p){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=p,this._mimeType=_,s.checkSupport(g),this._worker=d.pipe(new o(g)),d.lock()}catch($){this._worker=new a("error"),this._worker.error($)}}m.prototype={accumulate:function(d){return h(this,d)},on:function(d,p){var _=this;return d==="data"?this._worker.on(d,function(g){p.call(_,g.data,g.meta)}):this._worker.on(d,function(){s.delay(p,arguments,_)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},d)}},n.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),r.blob=o.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,r){for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),l=t("./stream/GenericWorker"),u=new Array(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;u[254]=u[254]=1;function c(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}r.utf8encode=function(m){return o.nodebuffer?a.newBufferFrom(m,"utf-8"):function(d){var p,_,g,$,E,y=d.length,R=0;for($=0;$<y;$++)(64512&(_=d.charCodeAt($)))==55296&&$+1<y&&(64512&(g=d.charCodeAt($+1)))==56320&&(_=65536+(_-55296<<10)+(g-56320),$++),R+=_<128?1:_<2048?2:_<65536?3:4;for(p=o.uint8array?new Uint8Array(R):new Array(R),$=E=0;E<R;$++)(64512&(_=d.charCodeAt($)))==55296&&$+1<y&&(64512&(g=d.charCodeAt($+1)))==56320&&(_=65536+(_-55296<<10)+(g-56320),$++),_<128?p[E++]=_:(_<2048?p[E++]=192|_>>>6:(_<65536?p[E++]=224|_>>>12:(p[E++]=240|_>>>18,p[E++]=128|_>>>12&63),p[E++]=128|_>>>6&63),p[E++]=128|63&_);return p}(m)},r.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(d){var p,_,g,$,E=d.length,y=new Array(2*E);for(p=_=0;p<E;)if((g=d[p++])<128)y[_++]=g;else if(4<($=u[g]))y[_++]=65533,p+=$-1;else{for(g&=$===2?31:$===3?15:7;1<$&&p<E;)g=g<<6|63&d[p++],$--;1<$?y[_++]=65533:g<65536?y[_++]=g:(g-=65536,y[_++]=55296|g>>10&1023,y[_++]=56320|1023&g)}return y.length!==_&&(y.subarray?y=y.subarray(0,_):y.length=_),s.applyFromCharCode(y)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(c,l),c.prototype.processChunk=function(m){var d=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var p=d;(d=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),d.set(p,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var _=function($,E){var y;for((E=E||$.length)>$.length&&(E=$.length),y=E-1;0<=y&&(192&$[y])==128;)y--;return y<0||y===0?E:y+u[$[y]]>E?y:E}(d),g=d;_!==d.length&&(o.uint8array?(g=d.subarray(0,_),this.leftOver=d.subarray(_,d.length)):(g=d.slice(0,_),this.leftOver=d.slice(_,d.length))),this.push({data:r.utf8decode(g),meta:m.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=c,s.inherits(h,l),h.prototype.processChunk=function(m){this.push({data:r.utf8encode(m.data),meta:m.meta})},r.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,r){var s=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),l=t("./external");function u(p){return p}function f(p,_){for(var g=0;g<p.length;++g)_[g]=255&p.charCodeAt(g);return _}t("setimmediate"),r.newBlob=function(p,_){r.checkSupport("blob");try{return new Blob([p],{type:_})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(p),g.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(p,_,g){var $=[],E=0,y=p.length;if(y<=g)return String.fromCharCode.apply(null,p);for(;E<y;)_==="array"||_==="nodebuffer"?$.push(String.fromCharCode.apply(null,p.slice(E,Math.min(E+g,y)))):$.push(String.fromCharCode.apply(null,p.subarray(E,Math.min(E+g,y)))),E+=g;return $.join("")},stringifyByChar:function(p){for(var _="",g=0;g<p.length;g++)_+=String.fromCharCode(p[g]);return _},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(p){var _=65536,g=r.getTypeOf(p),$=!0;if(g==="uint8array"?$=c.applyCanBeUsed.uint8array:g==="nodebuffer"&&($=c.applyCanBeUsed.nodebuffer),$)for(;1<_;)try{return c.stringifyByChunk(p,g,_)}catch{_=Math.floor(_/2)}return c.stringifyByChar(p)}function m(p,_){for(var g=0;g<p.length;g++)_[g]=p[g];return _}r.applyFromCharCode=h;var d={};d.string={string:u,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return d.string.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:function(p){return f(p,a.allocBuffer(p.length))}},d.array={string:h,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},d.arraybuffer={string:function(p){return h(new Uint8Array(p))},array:function(p){return m(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},d.uint8array={string:h,array:function(p){return m(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return a.newBufferFrom(p)}},d.nodebuffer={string:h,array:function(p){return m(p,new Array(p.length))},arraybuffer:function(p){return d.nodebuffer.uint8array(p).buffer},uint8array:function(p){return m(p,new Uint8Array(p.length))},nodebuffer:u},r.transformTo=function(p,_){if(_=_||"",!p)return _;r.checkSupport(p);var g=r.getTypeOf(_);return d[g][p](_)},r.resolve=function(p){for(var _=p.split("/"),g=[],$=0;$<_.length;$++){var E=_[$];E==="."||E===""&&$!==0&&$!==_.length-1||(E===".."?g.pop():g.push(E))}return g.join("/")},r.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(p)?"nodebuffer":s.uint8array&&p instanceof Uint8Array?"uint8array":s.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(p){if(!s[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(p){var _,g,$="";for(g=0;g<(p||"").length;g++)$+="\\x"+((_=p.charCodeAt(g))<16?"0":"")+_.toString(16).toUpperCase();return $},r.delay=function(p,_,g){setImmediate(function(){p.apply(g||null,_||[])})},r.inherits=function(p,_){function g(){}g.prototype=_.prototype,p.prototype=new g},r.extend=function(){var p,_,g={};for(p=0;p<arguments.length;p++)for(_ in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],_)&&g[_]===void 0&&(g[_]=arguments[p][_]);return g},r.prepareContent=function(p,_,g,$,E){return l.Promise.resolve(_).then(function(y){return s.blob&&(y instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(y))!==-1)&&typeof FileReader<"u"?new l.Promise(function(R,I){var B=new FileReader;B.onload=function(j){R(j.target.result)},B.onerror=function(j){I(j.target.error)},B.readAsArrayBuffer(y)}):y}).then(function(y){var R=r.getTypeOf(y);return R?(R==="arraybuffer"?y=r.transformTo("uint8array",y):R==="string"&&(E?y=o.decode(y):g&&$!==!0&&(y=function(I){return f(I,s.uint8array?new Uint8Array(I.length):new Array(I.length))}(y))),y):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),u=t("./support");function f(c){this.files=[],this.loadOptions=c}f.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(c)+")")}},isSignature:function(c,h){var m=this.reader.index;this.reader.setIndex(c);var d=this.reader.readString(4)===h;return this.reader.setIndex(m),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",m=o.transformTo(h,c);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,h,m,d=this.zip64EndOfCentralSize-44;0<d;)c=this.reader.readInt(2),h=this.reader.readInt(4),m=this.reader.readData(h),this.zip64ExtensibleData[c]={id:c,length:h,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,h;for(c=0;c<this.files.length;c++)h=this.files[c],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(c=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var h=c;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var d=h-m;if(0<d)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(c){this.reader=s(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,r){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),l=t("./crc32"),u=t("./utf8"),f=t("./compressions"),c=t("./support");function h(m,d){this.options=m,this.loadOptions=d}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var d,p;if(m.skip(22),this.fileNameLength=m.readInt(2),p=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(_){for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)&&f[g].magic===_)return f[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,d,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var d=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(d),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var d,p,_,g=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<g;)d=m.readInt(2),p=m.readInt(2),_=m.readData(p),this.extraFields[d]={id:d,length:p,value:_};m.setIndex(g)},handleUTF8:function(){var m=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var p=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var g=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var d=s(m.value);return d.readInt(1)!==1||l(this.fileName)!==d.readInt(4)?null:u.utf8decode(d.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var d=s(m.value);return d.readInt(1)!==1||l(this.fileComment)!==d.readInt(4)?null:u.utf8decode(d.readData(m.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,r){function s(d,p,_){this.name=d,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=p,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var o=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),l=t("./utf8"),u=t("./compressedObject"),f=t("./stream/GenericWorker");s.prototype={internalStream:function(d){var p=null,_="string";try{if(!d)throw new Error("No output type specified.");var g=(_=d.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),p=this._decompressWorker();var $=!this._dataBinary;$&&!g&&(p=p.pipe(new l.Utf8EncodeWorker)),!$&&g&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(E){(p=new f("error")).error(E)}return new o(p,_,"")},async:function(d,p){return this.internalStream(d).accumulate(p)},nodeStream:function(d,p){return this.internalStream(d||"nodebuffer").toNodejsStream(p)},_compressWorker:function(d,p){if(this._data instanceof u&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(_,d,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof f?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<c.length;m++)s.prototype[c[m]]=h;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,r){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,f=new l(d),c=s.document.createTextNode("");f.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var p=s.document.createElement("script");p.onreadystatechange=function(){d(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:function(){setTimeout(d,0)};else{var h=new s.MessageChannel;h.port1.onmessage=d,o=function(){h.port2.postMessage(0)}}var m=[];function d(){var p,_;a=!0;for(var g=m.length;g;){for(_=m,m=[],p=-1;++p<g;)_[p]();g=m.length}a=!1}n.exports=function(p){m.push(p)!==1||a||o()}}).call(this,typeof Mn<"u"?Mn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,r){var s=t("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],f=["PENDING"];function c(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,g!==o&&p(this,g)}function h(g,$,E){this.promise=g,typeof $=="function"&&(this.onFulfilled=$,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function m(g,$,E){s(function(){var y;try{y=$(E)}catch(R){return a.reject(g,R)}y===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,y)})}function d(g){var $=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof $=="function")return function(){$.apply(g,arguments)}}function p(g,$){var E=!1;function y(B){E||(E=!0,a.reject(g,B))}function R(B){E||(E=!0,a.resolve(g,B))}var I=_(function(){$(R,y)});I.status==="error"&&y(I.value)}function _(g,$){var E={};try{E.value=g($),E.status="success"}catch(y){E.status="error",E.value=y}return E}(n.exports=c).prototype.finally=function(g){if(typeof g!="function")return this;var $=this.constructor;return this.then(function(E){return $.resolve(g()).then(function(){return E})},function(E){return $.resolve(g()).then(function(){throw E})})},c.prototype.catch=function(g){return this.then(null,g)},c.prototype.then=function(g,$){if(typeof g!="function"&&this.state===u||typeof $!="function"&&this.state===l)return this;var E=new this.constructor(o);return this.state!==f?m(E,this.state===u?g:$,this.outcome):this.queue.push(new h(E,g,$)),E},h.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){m(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){a.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){m(this.promise,this.onRejected,g)},a.resolve=function(g,$){var E=_(d,$);if(E.status==="error")return a.reject(g,E.value);var y=E.value;if(y)p(g,y);else{g.state=u,g.outcome=$;for(var R=-1,I=g.queue.length;++R<I;)g.queue[R].callFulfilled($)}return g},a.reject=function(g,$){g.state=l,g.outcome=$;for(var E=-1,y=g.queue.length;++E<y;)g.queue[E].callRejected($);return g},c.resolve=function(g){return g instanceof this?g:a.resolve(new this(o),g)},c.reject=function(g){var $=new this(o);return a.reject($,g)},c.all=function(g){var $=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=g.length,y=!1;if(!E)return this.resolve([]);for(var R=new Array(E),I=0,B=-1,j=new this(o);++B<E;)N(g[B],B);return j;function N(P,oe){$.resolve(P).then(function(C){R[oe]=C,++I!==E||y||(y=!0,a.resolve(j,R))},function(C){y||(y=!0,a.reject(j,C))})}},c.race=function(g){var $=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=g.length,y=!1;if(!E)return this.resolve([]);for(var R=-1,I=new this(o);++R<E;)B=g[R],$.resolve(B).then(function(j){y||(y=!0,a.resolve(I,j))},function(j){y||(y=!0,a.reject(I,j))});var B;return I}},{immediate:36}],38:[function(t,n,r){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,r){var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),f=Object.prototype.toString,c=0,h=-1,m=0,d=8;function p(g){if(!(this instanceof p))return new p(g);this.options=o.assign({level:h,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},g||{});var $=this.options;$.raw&&0<$.windowBits?$.windowBits=-$.windowBits:$.gzip&&0<$.windowBits&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var E=s.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(E!==c)throw new Error(l[E]);if($.header&&s.deflateSetHeader(this.strm,$.header),$.dictionary){var y;if(y=typeof $.dictionary=="string"?a.string2buf($.dictionary):f.call($.dictionary)==="[object ArrayBuffer]"?new Uint8Array($.dictionary):$.dictionary,(E=s.deflateSetDictionary(this.strm,y))!==c)throw new Error(l[E]);this._dict_set=!0}}function _(g,$){var E=new p($);if(E.push(g,!0),E.err)throw E.msg||l[E.err];return E.result}p.prototype.push=function(g,$){var E,y,R=this.strm,I=this.options.chunkSize;if(this.ended)return!1;y=$===~~$?$:$===!0?4:0,typeof g=="string"?R.input=a.string2buf(g):f.call(g)==="[object ArrayBuffer]"?R.input=new Uint8Array(g):R.input=g,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new o.Buf8(I),R.next_out=0,R.avail_out=I),(E=s.deflate(R,y))!==1&&E!==c)return this.onEnd(E),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||y!==4&&y!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(R.output,R.next_out))):this.onData(o.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&E!==1);return y===4?(E=s.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===c):y!==2||(this.onEnd(c),!(R.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},r.Deflate=p,r.deflate=_,r.deflateRaw=function(g,$){return($=$||{}).raw=!0,_(g,$)},r.gzip=function(g,$){return($=$||{}).gzip=!0,_(g,$)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,r){var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),f=t("./zlib/zstream"),c=t("./zlib/gzheader"),h=Object.prototype.toString;function m(p){if(!(this instanceof m))return new m(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||p&&p.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&!(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,_.windowBits);if(g!==l.Z_OK)throw new Error(u[g]);this.header=new c,s.inflateGetHeader(this.strm,this.header)}function d(p,_){var g=new m(_);if(g.push(p,!0),g.err)throw g.msg||u[g.err];return g.result}m.prototype.push=function(p,_){var g,$,E,y,R,I,B=this.strm,j=this.options.chunkSize,N=this.options.dictionary,P=!1;if(this.ended)return!1;$=_===~~_?_:_===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?B.input=a.binstring2buf(p):h.call(p)==="[object ArrayBuffer]"?B.input=new Uint8Array(p):B.input=p,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new o.Buf8(j),B.next_out=0,B.avail_out=j),(g=s.inflate(B,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&N&&(I=typeof N=="string"?a.string2buf(N):h.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,g=s.inflateSetDictionary(this.strm,I)),g===l.Z_BUF_ERROR&&P===!0&&(g=l.Z_OK,P=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&g!==l.Z_STREAM_END&&(B.avail_in!==0||$!==l.Z_FINISH&&$!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=a.utf8border(B.output,B.next_out),y=B.next_out-E,R=a.buf2string(B.output,E),B.next_out=y,B.avail_out=j-y,y&&o.arraySet(B.output,B.output,E,y,0),this.onData(R)):this.onData(o.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(P=!0)}while((0<B.avail_in||B.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&($=l.Z_FINISH),$===l.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):$!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(B.avail_out=0))},m.prototype.onData=function(p){this.chunks.push(p)},m.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},r.Inflate=m,r.inflate=d,r.inflateRaw=function(p,_){return(_=_||{}).raw=!0,d(p,_)},r.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var c in f)f.hasOwnProperty(c)&&(l[c]=f[c])}}return l},r.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,f,c,h){if(u.subarray&&l.subarray)l.set(u.subarray(f,f+c),h);else for(var m=0;m<c;m++)l[h+m]=u[f+m]},flattenChunks:function(l){var u,f,c,h,m,d;for(u=c=0,f=l.length;u<f;u++)c+=l[u].length;for(d=new Uint8Array(c),u=h=0,f=l.length;u<f;u++)m=l[u],d.set(m,h),h+=m.length;return d}},a={arraySet:function(l,u,f,c,h){for(var m=0;m<c;m++)l[h+m]=u[f+m]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,o)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(s)},{}],42:[function(t,n,r){var s=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function f(c,h){if(h<65537&&(c.subarray&&a||!c.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(c,h));for(var m="",d=0;d<h;d++)m+=String.fromCharCode(c[d]);return m}l[254]=l[254]=1,r.string2buf=function(c){var h,m,d,p,_,g=c.length,$=0;for(p=0;p<g;p++)(64512&(m=c.charCodeAt(p)))==55296&&p+1<g&&(64512&(d=c.charCodeAt(p+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),p++),$+=m<128?1:m<2048?2:m<65536?3:4;for(h=new s.Buf8($),p=_=0;_<$;p++)(64512&(m=c.charCodeAt(p)))==55296&&p+1<g&&(64512&(d=c.charCodeAt(p+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),p++),m<128?h[_++]=m:(m<2048?h[_++]=192|m>>>6:(m<65536?h[_++]=224|m>>>12:(h[_++]=240|m>>>18,h[_++]=128|m>>>12&63),h[_++]=128|m>>>6&63),h[_++]=128|63&m);return h},r.buf2binstring=function(c){return f(c,c.length)},r.binstring2buf=function(c){for(var h=new s.Buf8(c.length),m=0,d=h.length;m<d;m++)h[m]=c.charCodeAt(m);return h},r.buf2string=function(c,h){var m,d,p,_,g=h||c.length,$=new Array(2*g);for(m=d=0;m<g;)if((p=c[m++])<128)$[d++]=p;else if(4<(_=l[p]))$[d++]=65533,m+=_-1;else{for(p&=_===2?31:_===3?15:7;1<_&&m<g;)p=p<<6|63&c[m++],_--;1<_?$[d++]=65533:p<65536?$[d++]=p:(p-=65536,$[d++]=55296|p>>10&1023,$[d++]=56320|1023&p)}return f($,d)},r.utf8border=function(c,h){var m;for((h=h||c.length)>c.length&&(h=c.length),m=h-1;0<=m&&(192&c[m])==128;)m--;return m<0||m===0?h:m+l[c[m]]>h?m:h}},{"./common":41}],43:[function(t,n,r){n.exports=function(s,o,a,l){for(var u=65535&s|0,f=s>>>16&65535|0,c=0;a!==0;){for(a-=c=2e3<a?2e3:a;f=f+(u=u+o[l++]|0)|0,--c;);u%=65521,f%=65521}return u|f<<16|0}},{}],44:[function(t,n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,r){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();n.exports=function(o,a,l,u){var f=s,c=u+l;o^=-1;for(var h=u;h<c;h++)o=o>>>8^f[255&(o^a[h])];return-1^o}},{}],46:[function(t,n,r){var s,o=t("../utils/common"),a=t("./trees"),l=t("./adler32"),u=t("./crc32"),f=t("./messages"),c=0,h=4,m=0,d=-2,p=-1,_=4,g=2,$=8,E=9,y=286,R=30,I=19,B=2*y+1,j=15,N=3,P=258,oe=P+N+1,C=42,T=113,b=1,X=2,be=3,x=4;function he(v,ne){return v.msg=f[ne],ne}function te(v){return(v<<1)-(4<v?9:0)}function Ee(v){for(var ne=v.length;0<=--ne;)v[ne]=0}function W(v){var ne=v.state,Y=ne.pending;Y>v.avail_out&&(Y=v.avail_out),Y!==0&&(o.arraySet(v.output,ne.pending_buf,ne.pending_out,Y,v.next_out),v.next_out+=Y,ne.pending_out+=Y,v.total_out+=Y,v.avail_out-=Y,ne.pending-=Y,ne.pending===0&&(ne.pending_out=0))}function V(v,ne){a._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,ne),v.block_start=v.strstart,W(v.strm)}function K(v,ne){v.pending_buf[v.pending++]=ne}function ee(v,ne){v.pending_buf[v.pending++]=ne>>>8&255,v.pending_buf[v.pending++]=255&ne}function me(v,ne){var Y,F,S=v.max_chain_length,G=v.strstart,ae=v.prev_length,ce=v.nice_match,Z=v.strstart>v.w_size-oe?v.strstart-(v.w_size-oe):0,_e=v.window,Ae=v.w_mask,ge=v.prev,Be=v.strstart+P,Ke=_e[G+ae-1],Ge=_e[G+ae];v.prev_length>=v.good_match&&(S>>=2),ce>v.lookahead&&(ce=v.lookahead);do if(_e[(Y=ne)+ae]===Ge&&_e[Y+ae-1]===Ke&&_e[Y]===_e[G]&&_e[++Y]===_e[G+1]){G+=2,Y++;do;while(_e[++G]===_e[++Y]&&_e[++G]===_e[++Y]&&_e[++G]===_e[++Y]&&_e[++G]===_e[++Y]&&_e[++G]===_e[++Y]&&_e[++G]===_e[++Y]&&_e[++G]===_e[++Y]&&_e[++G]===_e[++Y]&&G<Be);if(F=P-(Be-G),G=Be-P,ae<F){if(v.match_start=ne,ce<=(ae=F))break;Ke=_e[G+ae-1],Ge=_e[G+ae]}}while((ne=ge[ne&Ae])>Z&&--S!=0);return ae<=v.lookahead?ae:v.lookahead}function se(v){var ne,Y,F,S,G,ae,ce,Z,_e,Ae,ge=v.w_size;do{if(S=v.window_size-v.lookahead-v.strstart,v.strstart>=ge+(ge-oe)){for(o.arraySet(v.window,v.window,ge,ge,0),v.match_start-=ge,v.strstart-=ge,v.block_start-=ge,ne=Y=v.hash_size;F=v.head[--ne],v.head[ne]=ge<=F?F-ge:0,--Y;);for(ne=Y=ge;F=v.prev[--ne],v.prev[ne]=ge<=F?F-ge:0,--Y;);S+=ge}if(v.strm.avail_in===0)break;if(ae=v.strm,ce=v.window,Z=v.strstart+v.lookahead,_e=S,Ae=void 0,Ae=ae.avail_in,_e<Ae&&(Ae=_e),Y=Ae===0?0:(ae.avail_in-=Ae,o.arraySet(ce,ae.input,ae.next_in,Ae,Z),ae.state.wrap===1?ae.adler=l(ae.adler,ce,Ae,Z):ae.state.wrap===2&&(ae.adler=u(ae.adler,ce,Ae,Z)),ae.next_in+=Ae,ae.total_in+=Ae,Ae),v.lookahead+=Y,v.lookahead+v.insert>=N)for(G=v.strstart-v.insert,v.ins_h=v.window[G],v.ins_h=(v.ins_h<<v.hash_shift^v.window[G+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[G+N-1])&v.hash_mask,v.prev[G&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=G,G++,v.insert--,!(v.lookahead+v.insert<N)););}while(v.lookahead<oe&&v.strm.avail_in!==0)}function $e(v,ne){for(var Y,F;;){if(v.lookahead<oe){if(se(v),v.lookahead<oe&&ne===c)return b;if(v.lookahead===0)break}if(Y=0,v.lookahead>=N&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+N-1])&v.hash_mask,Y=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),Y!==0&&v.strstart-Y<=v.w_size-oe&&(v.match_length=me(v,Y)),v.match_length>=N)if(F=a._tr_tally(v,v.strstart-v.match_start,v.match_length-N),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=N){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+N-1])&v.hash_mask,Y=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else F=a._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(F&&(V(v,!1),v.strm.avail_out===0))return b}return v.insert=v.strstart<N-1?v.strstart:N-1,ne===h?(V(v,!0),v.strm.avail_out===0?be:x):v.last_lit&&(V(v,!1),v.strm.avail_out===0)?b:X}function q(v,ne){for(var Y,F,S;;){if(v.lookahead<oe){if(se(v),v.lookahead<oe&&ne===c)return b;if(v.lookahead===0)break}if(Y=0,v.lookahead>=N&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+N-1])&v.hash_mask,Y=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=N-1,Y!==0&&v.prev_length<v.max_lazy_match&&v.strstart-Y<=v.w_size-oe&&(v.match_length=me(v,Y),v.match_length<=5&&(v.strategy===1||v.match_length===N&&4096<v.strstart-v.match_start)&&(v.match_length=N-1)),v.prev_length>=N&&v.match_length<=v.prev_length){for(S=v.strstart+v.lookahead-N,F=a._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-N),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=S&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+N-1])&v.hash_mask,Y=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=N-1,v.strstart++,F&&(V(v,!1),v.strm.avail_out===0))return b}else if(v.match_available){if((F=a._tr_tally(v,0,v.window[v.strstart-1]))&&V(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return b}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(F=a._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<N-1?v.strstart:N-1,ne===h?(V(v,!0),v.strm.avail_out===0?be:x):v.last_lit&&(V(v,!1),v.strm.avail_out===0)?b:X}function Ne(v,ne,Y,F,S){this.good_length=v,this.max_lazy=ne,this.nice_length=Y,this.max_chain=F,this.func=S}function Pe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*B),this.dyn_dtree=new o.Buf16(2*(2*R+1)),this.bl_tree=new o.Buf16(2*(2*I+1)),Ee(this.dyn_ltree),Ee(this.dyn_dtree),Ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(j+1),this.heap=new o.Buf16(2*y+1),Ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*y+1),Ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(v){var ne;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=g,(ne=v.state).pending=0,ne.pending_out=0,ne.wrap<0&&(ne.wrap=-ne.wrap),ne.status=ne.wrap?C:T,v.adler=ne.wrap===2?0:1,ne.last_flush=c,a._tr_init(ne),m):he(v,d)}function ie(v){var ne=xe(v);return ne===m&&function(Y){Y.window_size=2*Y.w_size,Ee(Y.head),Y.max_lazy_match=s[Y.level].max_lazy,Y.good_match=s[Y.level].good_length,Y.nice_match=s[Y.level].nice_length,Y.max_chain_length=s[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=N-1,Y.match_available=0,Y.ins_h=0}(v.state),ne}function Xe(v,ne,Y,F,S,G){if(!v)return d;var ae=1;if(ne===p&&(ne=6),F<0?(ae=0,F=-F):15<F&&(ae=2,F-=16),S<1||E<S||Y!==$||F<8||15<F||ne<0||9<ne||G<0||_<G)return he(v,d);F===8&&(F=9);var ce=new Pe;return(v.state=ce).strm=v,ce.wrap=ae,ce.gzhead=null,ce.w_bits=F,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=S+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+N-1)/N),ce.window=new o.Buf8(2*ce.w_size),ce.head=new o.Buf16(ce.hash_size),ce.prev=new o.Buf16(ce.w_size),ce.lit_bufsize=1<<S+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new o.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=ne,ce.strategy=G,ce.method=Y,ie(v)}s=[new Ne(0,0,0,0,function(v,ne){var Y=65535;for(Y>v.pending_buf_size-5&&(Y=v.pending_buf_size-5);;){if(v.lookahead<=1){if(se(v),v.lookahead===0&&ne===c)return b;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var F=v.block_start+Y;if((v.strstart===0||v.strstart>=F)&&(v.lookahead=v.strstart-F,v.strstart=F,V(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-oe&&(V(v,!1),v.strm.avail_out===0))return b}return v.insert=0,ne===h?(V(v,!0),v.strm.avail_out===0?be:x):(v.strstart>v.block_start&&(V(v,!1),v.strm.avail_out),b)}),new Ne(4,4,8,4,$e),new Ne(4,5,16,8,$e),new Ne(4,6,32,32,$e),new Ne(4,4,16,16,q),new Ne(8,16,32,32,q),new Ne(8,16,128,128,q),new Ne(8,32,128,256,q),new Ne(32,128,258,1024,q),new Ne(32,258,258,4096,q)],r.deflateInit=function(v,ne){return Xe(v,ne,$,15,8,0)},r.deflateInit2=Xe,r.deflateReset=ie,r.deflateResetKeep=xe,r.deflateSetHeader=function(v,ne){return v&&v.state?v.state.wrap!==2?d:(v.state.gzhead=ne,m):d},r.deflate=function(v,ne){var Y,F,S,G;if(!v||!v.state||5<ne||ne<0)return v?he(v,d):d;if(F=v.state,!v.output||!v.input&&v.avail_in!==0||F.status===666&&ne!==h)return he(v,v.avail_out===0?-5:d);if(F.strm=v,Y=F.last_flush,F.last_flush=ne,F.status===C)if(F.wrap===2)v.adler=0,K(F,31),K(F,139),K(F,8),F.gzhead?(K(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),K(F,255&F.gzhead.time),K(F,F.gzhead.time>>8&255),K(F,F.gzhead.time>>16&255),K(F,F.gzhead.time>>24&255),K(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),K(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(K(F,255&F.gzhead.extra.length),K(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(v.adler=u(v.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(K(F,0),K(F,0),K(F,0),K(F,0),K(F,0),K(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),K(F,3),F.status=T);else{var ae=$+(F.w_bits-8<<4)<<8;ae|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(ae|=32),ae+=31-ae%31,F.status=T,ee(F,ae),F.strstart!==0&&(ee(F,v.adler>>>16),ee(F,65535&v.adler)),v.adler=1}if(F.status===69)if(F.gzhead.extra){for(S=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>S&&(v.adler=u(v.adler,F.pending_buf,F.pending-S,S)),W(v),S=F.pending,F.pending!==F.pending_buf_size));)K(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>S&&(v.adler=u(v.adler,F.pending_buf,F.pending-S,S)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){S=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>S&&(v.adler=u(v.adler,F.pending_buf,F.pending-S,S)),W(v),S=F.pending,F.pending===F.pending_buf_size)){G=1;break}G=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,K(F,G)}while(G!==0);F.gzhead.hcrc&&F.pending>S&&(v.adler=u(v.adler,F.pending_buf,F.pending-S,S)),G===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){S=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>S&&(v.adler=u(v.adler,F.pending_buf,F.pending-S,S)),W(v),S=F.pending,F.pending===F.pending_buf_size)){G=1;break}G=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,K(F,G)}while(G!==0);F.gzhead.hcrc&&F.pending>S&&(v.adler=u(v.adler,F.pending_buf,F.pending-S,S)),G===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&W(v),F.pending+2<=F.pending_buf_size&&(K(F,255&v.adler),K(F,v.adler>>8&255),v.adler=0,F.status=T)):F.status=T),F.pending!==0){if(W(v),v.avail_out===0)return F.last_flush=-1,m}else if(v.avail_in===0&&te(ne)<=te(Y)&&ne!==h)return he(v,-5);if(F.status===666&&v.avail_in!==0)return he(v,-5);if(v.avail_in!==0||F.lookahead!==0||ne!==c&&F.status!==666){var ce=F.strategy===2?function(Z,_e){for(var Ae;;){if(Z.lookahead===0&&(se(Z),Z.lookahead===0)){if(_e===c)return b;break}if(Z.match_length=0,Ae=a._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++,Ae&&(V(Z,!1),Z.strm.avail_out===0))return b}return Z.insert=0,_e===h?(V(Z,!0),Z.strm.avail_out===0?be:x):Z.last_lit&&(V(Z,!1),Z.strm.avail_out===0)?b:X}(F,ne):F.strategy===3?function(Z,_e){for(var Ae,ge,Be,Ke,Ge=Z.window;;){if(Z.lookahead<=P){if(se(Z),Z.lookahead<=P&&_e===c)return b;if(Z.lookahead===0)break}if(Z.match_length=0,Z.lookahead>=N&&0<Z.strstart&&(ge=Ge[Be=Z.strstart-1])===Ge[++Be]&&ge===Ge[++Be]&&ge===Ge[++Be]){Ke=Z.strstart+P;do;while(ge===Ge[++Be]&&ge===Ge[++Be]&&ge===Ge[++Be]&&ge===Ge[++Be]&&ge===Ge[++Be]&&ge===Ge[++Be]&&ge===Ge[++Be]&&ge===Ge[++Be]&&Be<Ke);Z.match_length=P-(Ke-Be),Z.match_length>Z.lookahead&&(Z.match_length=Z.lookahead)}if(Z.match_length>=N?(Ae=a._tr_tally(Z,1,Z.match_length-N),Z.lookahead-=Z.match_length,Z.strstart+=Z.match_length,Z.match_length=0):(Ae=a._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++),Ae&&(V(Z,!1),Z.strm.avail_out===0))return b}return Z.insert=0,_e===h?(V(Z,!0),Z.strm.avail_out===0?be:x):Z.last_lit&&(V(Z,!1),Z.strm.avail_out===0)?b:X}(F,ne):s[F.level].func(F,ne);if(ce!==be&&ce!==x||(F.status=666),ce===b||ce===be)return v.avail_out===0&&(F.last_flush=-1),m;if(ce===X&&(ne===1?a._tr_align(F):ne!==5&&(a._tr_stored_block(F,0,0,!1),ne===3&&(Ee(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),W(v),v.avail_out===0))return F.last_flush=-1,m}return ne!==h?m:F.wrap<=0?1:(F.wrap===2?(K(F,255&v.adler),K(F,v.adler>>8&255),K(F,v.adler>>16&255),K(F,v.adler>>24&255),K(F,255&v.total_in),K(F,v.total_in>>8&255),K(F,v.total_in>>16&255),K(F,v.total_in>>24&255)):(ee(F,v.adler>>>16),ee(F,65535&v.adler)),W(v),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?m:1)},r.deflateEnd=function(v){var ne;return v&&v.state?(ne=v.state.status)!==C&&ne!==69&&ne!==73&&ne!==91&&ne!==103&&ne!==T&&ne!==666?he(v,d):(v.state=null,ne===T?he(v,-3):m):d},r.deflateSetDictionary=function(v,ne){var Y,F,S,G,ae,ce,Z,_e,Ae=ne.length;if(!v||!v.state||(G=(Y=v.state).wrap)===2||G===1&&Y.status!==C||Y.lookahead)return d;for(G===1&&(v.adler=l(v.adler,ne,Ae,0)),Y.wrap=0,Ae>=Y.w_size&&(G===0&&(Ee(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),_e=new o.Buf8(Y.w_size),o.arraySet(_e,ne,Ae-Y.w_size,Y.w_size,0),ne=_e,Ae=Y.w_size),ae=v.avail_in,ce=v.next_in,Z=v.input,v.avail_in=Ae,v.next_in=0,v.input=ne,se(Y);Y.lookahead>=N;){for(F=Y.strstart,S=Y.lookahead-(N-1);Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[F+N-1])&Y.hash_mask,Y.prev[F&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=F,F++,--S;);Y.strstart=F,Y.lookahead=N-1,se(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=N-1,Y.match_available=0,v.next_in=ce,v.input=Z,v.avail_in=ae,Y.wrap=G,m},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,r){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,r){n.exports=function(s,o){var a,l,u,f,c,h,m,d,p,_,g,$,E,y,R,I,B,j,N,P,oe,C,T,b,X;a=s.state,l=s.next_in,b=s.input,u=l+(s.avail_in-5),f=s.next_out,X=s.output,c=f-(o-s.avail_out),h=f+(s.avail_out-257),m=a.dmax,d=a.wsize,p=a.whave,_=a.wnext,g=a.window,$=a.hold,E=a.bits,y=a.lencode,R=a.distcode,I=(1<<a.lenbits)-1,B=(1<<a.distbits)-1;e:do{E<15&&($+=b[l++]<<E,E+=8,$+=b[l++]<<E,E+=8),j=y[$&I];t:for(;;){if($>>>=N=j>>>24,E-=N,(N=j>>>16&255)===0)X[f++]=65535&j;else{if(!(16&N)){if(!(64&N)){j=y[(65535&j)+($&(1<<N)-1)];continue t}if(32&N){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}P=65535&j,(N&=15)&&(E<N&&($+=b[l++]<<E,E+=8),P+=$&(1<<N)-1,$>>>=N,E-=N),E<15&&($+=b[l++]<<E,E+=8,$+=b[l++]<<E,E+=8),j=R[$&B];n:for(;;){if($>>>=N=j>>>24,E-=N,!(16&(N=j>>>16&255))){if(!(64&N)){j=R[(65535&j)+($&(1<<N)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(oe=65535&j,E<(N&=15)&&($+=b[l++]<<E,(E+=8)<N&&($+=b[l++]<<E,E+=8)),m<(oe+=$&(1<<N)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if($>>>=N,E-=N,(N=f-c)<oe){if(p<(N=oe-N)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(T=g,(C=0)===_){if(C+=d-N,N<P){for(P-=N;X[f++]=g[C++],--N;);C=f-oe,T=X}}else if(_<N){if(C+=d+_-N,(N-=_)<P){for(P-=N;X[f++]=g[C++],--N;);if(C=0,_<P){for(P-=N=_;X[f++]=g[C++],--N;);C=f-oe,T=X}}}else if(C+=_-N,N<P){for(P-=N;X[f++]=g[C++],--N;);C=f-oe,T=X}for(;2<P;)X[f++]=T[C++],X[f++]=T[C++],X[f++]=T[C++],P-=3;P&&(X[f++]=T[C++],1<P&&(X[f++]=T[C++]))}else{for(C=f-oe;X[f++]=X[C++],X[f++]=X[C++],X[f++]=X[C++],2<(P-=3););P&&(X[f++]=X[C++],1<P&&(X[f++]=X[C++]))}break}}break}}while(l<u&&f<h);l-=P=E>>3,$&=(1<<(E-=P<<3))-1,s.next_in=l,s.next_out=f,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=f<h?h-f+257:257-(f-h),a.hold=$,a.bits=E}},{}],49:[function(t,n,r){var s=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),l=t("./inffast"),u=t("./inftrees"),f=1,c=2,h=0,m=-2,d=1,p=852,_=592;function g(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(C){var T;return C&&C.state?(T=C.state,C.total_in=C.total_out=T.total=0,C.msg="",T.wrap&&(C.adler=1&T.wrap),T.mode=d,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new s.Buf32(p),T.distcode=T.distdyn=new s.Buf32(_),T.sane=1,T.back=-1,h):m}function y(C){var T;return C&&C.state?((T=C.state).wsize=0,T.whave=0,T.wnext=0,E(C)):m}function R(C,T){var b,X;return C&&C.state?(X=C.state,T<0?(b=0,T=-T):(b=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?m:(X.window!==null&&X.wbits!==T&&(X.window=null),X.wrap=b,X.wbits=T,y(C))):m}function I(C,T){var b,X;return C?(X=new $,(C.state=X).window=null,(b=R(C,T))!==h&&(C.state=null),b):m}var B,j,N=!0;function P(C){if(N){var T;for(B=new s.Buf32(512),j=new s.Buf32(32),T=0;T<144;)C.lens[T++]=8;for(;T<256;)C.lens[T++]=9;for(;T<280;)C.lens[T++]=7;for(;T<288;)C.lens[T++]=8;for(u(f,C.lens,0,288,B,0,C.work,{bits:9}),T=0;T<32;)C.lens[T++]=5;u(c,C.lens,0,32,j,0,C.work,{bits:5}),N=!1}C.lencode=B,C.lenbits=9,C.distcode=j,C.distbits=5}function oe(C,T,b,X){var be,x=C.state;return x.window===null&&(x.wsize=1<<x.wbits,x.wnext=0,x.whave=0,x.window=new s.Buf8(x.wsize)),X>=x.wsize?(s.arraySet(x.window,T,b-x.wsize,x.wsize,0),x.wnext=0,x.whave=x.wsize):(X<(be=x.wsize-x.wnext)&&(be=X),s.arraySet(x.window,T,b-X,be,x.wnext),(X-=be)?(s.arraySet(x.window,T,b-X,X,0),x.wnext=X,x.whave=x.wsize):(x.wnext+=be,x.wnext===x.wsize&&(x.wnext=0),x.whave<x.wsize&&(x.whave+=be))),0}r.inflateReset=y,r.inflateReset2=R,r.inflateResetKeep=E,r.inflateInit=function(C){return I(C,15)},r.inflateInit2=I,r.inflate=function(C,T){var b,X,be,x,he,te,Ee,W,V,K,ee,me,se,$e,q,Ne,Pe,xe,ie,Xe,v,ne,Y,F,S=0,G=new s.Buf8(4),ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return m;(b=C.state).mode===12&&(b.mode=13),he=C.next_out,be=C.output,Ee=C.avail_out,x=C.next_in,X=C.input,te=C.avail_in,W=b.hold,V=b.bits,K=te,ee=Ee,ne=h;e:for(;;)switch(b.mode){case d:if(b.wrap===0){b.mode=13;break}for(;V<16;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}if(2&b.wrap&&W===35615){G[b.check=0]=255&W,G[1]=W>>>8&255,b.check=a(b.check,G,2,0),V=W=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&W)<<8)+(W>>8))%31){C.msg="incorrect header check",b.mode=30;break}if((15&W)!=8){C.msg="unknown compression method",b.mode=30;break}if(V-=4,v=8+(15&(W>>>=4)),b.wbits===0)b.wbits=v;else if(v>b.wbits){C.msg="invalid window size",b.mode=30;break}b.dmax=1<<v,C.adler=b.check=1,b.mode=512&W?10:12,V=W=0;break;case 2:for(;V<16;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}if(b.flags=W,(255&b.flags)!=8){C.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){C.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=W>>8&1),512&b.flags&&(G[0]=255&W,G[1]=W>>>8&255,b.check=a(b.check,G,2,0)),V=W=0,b.mode=3;case 3:for(;V<32;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}b.head&&(b.head.time=W),512&b.flags&&(G[0]=255&W,G[1]=W>>>8&255,G[2]=W>>>16&255,G[3]=W>>>24&255,b.check=a(b.check,G,4,0)),V=W=0,b.mode=4;case 4:for(;V<16;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}b.head&&(b.head.xflags=255&W,b.head.os=W>>8),512&b.flags&&(G[0]=255&W,G[1]=W>>>8&255,b.check=a(b.check,G,2,0)),V=W=0,b.mode=5;case 5:if(1024&b.flags){for(;V<16;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}b.length=W,b.head&&(b.head.extra_len=W),512&b.flags&&(G[0]=255&W,G[1]=W>>>8&255,b.check=a(b.check,G,2,0)),V=W=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(te<(me=b.length)&&(me=te),me&&(b.head&&(v=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),s.arraySet(b.head.extra,X,x,me,v)),512&b.flags&&(b.check=a(b.check,X,me,x)),te-=me,x+=me,b.length-=me),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(te===0)break e;for(me=0;v=X[x+me++],b.head&&v&&b.length<65536&&(b.head.name+=String.fromCharCode(v)),v&&me<te;);if(512&b.flags&&(b.check=a(b.check,X,me,x)),te-=me,x+=me,v)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(te===0)break e;for(me=0;v=X[x+me++],b.head&&v&&b.length<65536&&(b.head.comment+=String.fromCharCode(v)),v&&me<te;);if(512&b.flags&&(b.check=a(b.check,X,me,x)),te-=me,x+=me,v)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;V<16;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}if(W!==(65535&b.check)){C.msg="header crc mismatch",b.mode=30;break}V=W=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),C.adler=b.check=0,b.mode=12;break;case 10:for(;V<32;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}C.adler=b.check=g(W),V=W=0,b.mode=11;case 11:if(b.havedict===0)return C.next_out=he,C.avail_out=Ee,C.next_in=x,C.avail_in=te,b.hold=W,b.bits=V,2;C.adler=b.check=1,b.mode=12;case 12:if(T===5||T===6)break e;case 13:if(b.last){W>>>=7&V,V-=7&V,b.mode=27;break}for(;V<3;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}switch(b.last=1&W,V-=1,3&(W>>>=1)){case 0:b.mode=14;break;case 1:if(P(b),b.mode=20,T!==6)break;W>>>=2,V-=2;break e;case 2:b.mode=17;break;case 3:C.msg="invalid block type",b.mode=30}W>>>=2,V-=2;break;case 14:for(W>>>=7&V,V-=7&V;V<32;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}if((65535&W)!=(W>>>16^65535)){C.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&W,V=W=0,b.mode=15,T===6)break e;case 15:b.mode=16;case 16:if(me=b.length){if(te<me&&(me=te),Ee<me&&(me=Ee),me===0)break e;s.arraySet(be,X,x,me,he),te-=me,x+=me,Ee-=me,he+=me,b.length-=me;break}b.mode=12;break;case 17:for(;V<14;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}if(b.nlen=257+(31&W),W>>>=5,V-=5,b.ndist=1+(31&W),W>>>=5,V-=5,b.ncode=4+(15&W),W>>>=4,V-=4,286<b.nlen||30<b.ndist){C.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;V<3;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}b.lens[ae[b.have++]]=7&W,W>>>=3,V-=3}for(;b.have<19;)b.lens[ae[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,Y={bits:b.lenbits},ne=u(0,b.lens,0,19,b.lencode,0,b.work,Y),b.lenbits=Y.bits,ne){C.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;Ne=(S=b.lencode[W&(1<<b.lenbits)-1])>>>16&255,Pe=65535&S,!((q=S>>>24)<=V);){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}if(Pe<16)W>>>=q,V-=q,b.lens[b.have++]=Pe;else{if(Pe===16){for(F=q+2;V<F;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}if(W>>>=q,V-=q,b.have===0){C.msg="invalid bit length repeat",b.mode=30;break}v=b.lens[b.have-1],me=3+(3&W),W>>>=2,V-=2}else if(Pe===17){for(F=q+3;V<F;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}V-=q,v=0,me=3+(7&(W>>>=q)),W>>>=3,V-=3}else{for(F=q+7;V<F;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}V-=q,v=0,me=11+(127&(W>>>=q)),W>>>=7,V-=7}if(b.have+me>b.nlen+b.ndist){C.msg="invalid bit length repeat",b.mode=30;break}for(;me--;)b.lens[b.have++]=v}}if(b.mode===30)break;if(b.lens[256]===0){C.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,Y={bits:b.lenbits},ne=u(f,b.lens,0,b.nlen,b.lencode,0,b.work,Y),b.lenbits=Y.bits,ne){C.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,Y={bits:b.distbits},ne=u(c,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,Y),b.distbits=Y.bits,ne){C.msg="invalid distances set",b.mode=30;break}if(b.mode=20,T===6)break e;case 20:b.mode=21;case 21:if(6<=te&&258<=Ee){C.next_out=he,C.avail_out=Ee,C.next_in=x,C.avail_in=te,b.hold=W,b.bits=V,l(C,ee),he=C.next_out,be=C.output,Ee=C.avail_out,x=C.next_in,X=C.input,te=C.avail_in,W=b.hold,V=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;Ne=(S=b.lencode[W&(1<<b.lenbits)-1])>>>16&255,Pe=65535&S,!((q=S>>>24)<=V);){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}if(Ne&&!(240&Ne)){for(xe=q,ie=Ne,Xe=Pe;Ne=(S=b.lencode[Xe+((W&(1<<xe+ie)-1)>>xe)])>>>16&255,Pe=65535&S,!(xe+(q=S>>>24)<=V);){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}W>>>=xe,V-=xe,b.back+=xe}if(W>>>=q,V-=q,b.back+=q,b.length=Pe,Ne===0){b.mode=26;break}if(32&Ne){b.back=-1,b.mode=12;break}if(64&Ne){C.msg="invalid literal/length code",b.mode=30;break}b.extra=15&Ne,b.mode=22;case 22:if(b.extra){for(F=b.extra;V<F;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}b.length+=W&(1<<b.extra)-1,W>>>=b.extra,V-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;Ne=(S=b.distcode[W&(1<<b.distbits)-1])>>>16&255,Pe=65535&S,!((q=S>>>24)<=V);){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}if(!(240&Ne)){for(xe=q,ie=Ne,Xe=Pe;Ne=(S=b.distcode[Xe+((W&(1<<xe+ie)-1)>>xe)])>>>16&255,Pe=65535&S,!(xe+(q=S>>>24)<=V);){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}W>>>=xe,V-=xe,b.back+=xe}if(W>>>=q,V-=q,b.back+=q,64&Ne){C.msg="invalid distance code",b.mode=30;break}b.offset=Pe,b.extra=15&Ne,b.mode=24;case 24:if(b.extra){for(F=b.extra;V<F;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}b.offset+=W&(1<<b.extra)-1,W>>>=b.extra,V-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){C.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(Ee===0)break e;if(me=ee-Ee,b.offset>me){if((me=b.offset-me)>b.whave&&b.sane){C.msg="invalid distance too far back",b.mode=30;break}se=me>b.wnext?(me-=b.wnext,b.wsize-me):b.wnext-me,me>b.length&&(me=b.length),$e=b.window}else $e=be,se=he-b.offset,me=b.length;for(Ee<me&&(me=Ee),Ee-=me,b.length-=me;be[he++]=$e[se++],--me;);b.length===0&&(b.mode=21);break;case 26:if(Ee===0)break e;be[he++]=b.length,Ee--,b.mode=21;break;case 27:if(b.wrap){for(;V<32;){if(te===0)break e;te--,W|=X[x++]<<V,V+=8}if(ee-=Ee,C.total_out+=ee,b.total+=ee,ee&&(C.adler=b.check=b.flags?a(b.check,be,ee,he-ee):o(b.check,be,ee,he-ee)),ee=Ee,(b.flags?W:g(W))!==b.check){C.msg="incorrect data check",b.mode=30;break}V=W=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;V<32;){if(te===0)break e;te--,W+=X[x++]<<V,V+=8}if(W!==(4294967295&b.total)){C.msg="incorrect length check",b.mode=30;break}V=W=0}b.mode=29;case 29:ne=1;break e;case 30:ne=-3;break e;case 31:return-4;case 32:default:return m}return C.next_out=he,C.avail_out=Ee,C.next_in=x,C.avail_in=te,b.hold=W,b.bits=V,(b.wsize||ee!==C.avail_out&&b.mode<30&&(b.mode<27||T!==4))&&oe(C,C.output,C.next_out,ee-C.avail_out)?(b.mode=31,-4):(K-=C.avail_in,ee-=C.avail_out,C.total_in+=K,C.total_out+=ee,b.total+=ee,b.wrap&&ee&&(C.adler=b.check=b.flags?a(b.check,be,ee,C.next_out-ee):o(b.check,be,ee,C.next_out-ee)),C.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(K==0&&ee===0||T===4)&&ne===h&&(ne=-5),ne)},r.inflateEnd=function(C){if(!C||!C.state)return m;var T=C.state;return T.window&&(T.window=null),C.state=null,h},r.inflateGetHeader=function(C,T){var b;return C&&C.state&&2&(b=C.state).wrap?((b.head=T).done=!1,h):m},r.inflateSetDictionary=function(C,T){var b,X=T.length;return C&&C.state?(b=C.state).wrap!==0&&b.mode!==11?m:b.mode===11&&o(1,T,X,0)!==b.check?-3:oe(C,T,X,X)?(b.mode=31,-4):(b.havedict=1,h):m},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,r){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,c,h,m,d,p,_,g){var $,E,y,R,I,B,j,N,P,oe=g.bits,C=0,T=0,b=0,X=0,be=0,x=0,he=0,te=0,Ee=0,W=0,V=null,K=0,ee=new s.Buf16(16),me=new s.Buf16(16),se=null,$e=0;for(C=0;C<=15;C++)ee[C]=0;for(T=0;T<m;T++)ee[c[h+T]]++;for(be=oe,X=15;1<=X&&ee[X]===0;X--);if(X<be&&(be=X),X===0)return d[p++]=20971520,d[p++]=20971520,g.bits=1,0;for(b=1;b<X&&ee[b]===0;b++);for(be<b&&(be=b),C=te=1;C<=15;C++)if(te<<=1,(te-=ee[C])<0)return-1;if(0<te&&(f===0||X!==1))return-1;for(me[1]=0,C=1;C<15;C++)me[C+1]=me[C]+ee[C];for(T=0;T<m;T++)c[h+T]!==0&&(_[me[c[h+T]]++]=T);if(B=f===0?(V=se=_,19):f===1?(V=o,K-=257,se=a,$e-=257,256):(V=l,se=u,-1),C=b,I=p,he=T=W=0,y=-1,R=(Ee=1<<(x=be))-1,f===1&&852<Ee||f===2&&592<Ee)return 1;for(;;){for(j=C-he,P=_[T]<B?(N=0,_[T]):_[T]>B?(N=se[$e+_[T]],V[K+_[T]]):(N=96,0),$=1<<C-he,b=E=1<<x;d[I+(W>>he)+(E-=$)]=j<<24|N<<16|P|0,E!==0;);for($=1<<C-1;W&$;)$>>=1;if($!==0?(W&=$-1,W+=$):W=0,T++,--ee[C]==0){if(C===X)break;C=c[h+_[T]]}if(be<C&&(W&R)!==y){for(he===0&&(he=be),I+=b,te=1<<(x=C-he);x+he<X&&!((te-=ee[x+he])<=0);)x++,te<<=1;if(Ee+=1<<x,f===1&&852<Ee||f===2&&592<Ee)return 1;d[y=W&R]=be<<24|x<<16|I-p|0}}return W!==0&&(d[I+W]=C-he<<24|64<<16|0),g.bits=be,0}},{"../utils/common":41}],51:[function(t,n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,r){var s=t("../utils/common"),o=0,a=1;function l(S){for(var G=S.length;0<=--G;)S[G]=0}var u=0,f=29,c=256,h=c+1+f,m=30,d=19,p=2*h+1,_=15,g=16,$=7,E=256,y=16,R=17,I=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=new Array(2*(h+2));l(oe);var C=new Array(2*m);l(C);var T=new Array(512);l(T);var b=new Array(256);l(b);var X=new Array(f);l(X);var be,x,he,te=new Array(m);function Ee(S,G,ae,ce,Z){this.static_tree=S,this.extra_bits=G,this.extra_base=ae,this.elems=ce,this.max_length=Z,this.has_stree=S&&S.length}function W(S,G){this.dyn_tree=S,this.max_code=0,this.stat_desc=G}function V(S){return S<256?T[S]:T[256+(S>>>7)]}function K(S,G){S.pending_buf[S.pending++]=255&G,S.pending_buf[S.pending++]=G>>>8&255}function ee(S,G,ae){S.bi_valid>g-ae?(S.bi_buf|=G<<S.bi_valid&65535,K(S,S.bi_buf),S.bi_buf=G>>g-S.bi_valid,S.bi_valid+=ae-g):(S.bi_buf|=G<<S.bi_valid&65535,S.bi_valid+=ae)}function me(S,G,ae){ee(S,ae[2*G],ae[2*G+1])}function se(S,G){for(var ae=0;ae|=1&S,S>>>=1,ae<<=1,0<--G;);return ae>>>1}function $e(S,G,ae){var ce,Z,_e=new Array(_+1),Ae=0;for(ce=1;ce<=_;ce++)_e[ce]=Ae=Ae+ae[ce-1]<<1;for(Z=0;Z<=G;Z++){var ge=S[2*Z+1];ge!==0&&(S[2*Z]=se(_e[ge]++,ge))}}function q(S){var G;for(G=0;G<h;G++)S.dyn_ltree[2*G]=0;for(G=0;G<m;G++)S.dyn_dtree[2*G]=0;for(G=0;G<d;G++)S.bl_tree[2*G]=0;S.dyn_ltree[2*E]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function Ne(S){8<S.bi_valid?K(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function Pe(S,G,ae,ce){var Z=2*G,_e=2*ae;return S[Z]<S[_e]||S[Z]===S[_e]&&ce[G]<=ce[ae]}function xe(S,G,ae){for(var ce=S.heap[ae],Z=ae<<1;Z<=S.heap_len&&(Z<S.heap_len&&Pe(G,S.heap[Z+1],S.heap[Z],S.depth)&&Z++,!Pe(G,ce,S.heap[Z],S.depth));)S.heap[ae]=S.heap[Z],ae=Z,Z<<=1;S.heap[ae]=ce}function ie(S,G,ae){var ce,Z,_e,Ae,ge=0;if(S.last_lit!==0)for(;ce=S.pending_buf[S.d_buf+2*ge]<<8|S.pending_buf[S.d_buf+2*ge+1],Z=S.pending_buf[S.l_buf+ge],ge++,ce===0?me(S,Z,G):(me(S,(_e=b[Z])+c+1,G),(Ae=B[_e])!==0&&ee(S,Z-=X[_e],Ae),me(S,_e=V(--ce),ae),(Ae=j[_e])!==0&&ee(S,ce-=te[_e],Ae)),ge<S.last_lit;);me(S,E,G)}function Xe(S,G){var ae,ce,Z,_e=G.dyn_tree,Ae=G.stat_desc.static_tree,ge=G.stat_desc.has_stree,Be=G.stat_desc.elems,Ke=-1;for(S.heap_len=0,S.heap_max=p,ae=0;ae<Be;ae++)_e[2*ae]!==0?(S.heap[++S.heap_len]=Ke=ae,S.depth[ae]=0):_e[2*ae+1]=0;for(;S.heap_len<2;)_e[2*(Z=S.heap[++S.heap_len]=Ke<2?++Ke:0)]=1,S.depth[Z]=0,S.opt_len--,ge&&(S.static_len-=Ae[2*Z+1]);for(G.max_code=Ke,ae=S.heap_len>>1;1<=ae;ae--)xe(S,_e,ae);for(Z=Be;ae=S.heap[1],S.heap[1]=S.heap[S.heap_len--],xe(S,_e,1),ce=S.heap[1],S.heap[--S.heap_max]=ae,S.heap[--S.heap_max]=ce,_e[2*Z]=_e[2*ae]+_e[2*ce],S.depth[Z]=(S.depth[ae]>=S.depth[ce]?S.depth[ae]:S.depth[ce])+1,_e[2*ae+1]=_e[2*ce+1]=Z,S.heap[1]=Z++,xe(S,_e,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],function(Ge,bt){var dn,Et,pn,tt,Nn,mr,It=bt.dyn_tree,oi=bt.max_code,Yo=bt.stat_desc.static_tree,Jo=bt.stat_desc.has_stree,Qo=bt.stat_desc.extra_bits,ai=bt.stat_desc.extra_base,_n=bt.stat_desc.max_length,Pn=0;for(tt=0;tt<=_;tt++)Ge.bl_count[tt]=0;for(It[2*Ge.heap[Ge.heap_max]+1]=0,dn=Ge.heap_max+1;dn<p;dn++)_n<(tt=It[2*It[2*(Et=Ge.heap[dn])+1]+1]+1)&&(tt=_n,Pn++),It[2*Et+1]=tt,oi<Et||(Ge.bl_count[tt]++,Nn=0,ai<=Et&&(Nn=Qo[Et-ai]),mr=It[2*Et],Ge.opt_len+=mr*(tt+Nn),Jo&&(Ge.static_len+=mr*(Yo[2*Et+1]+Nn)));if(Pn!==0){do{for(tt=_n-1;Ge.bl_count[tt]===0;)tt--;Ge.bl_count[tt]--,Ge.bl_count[tt+1]+=2,Ge.bl_count[_n]--,Pn-=2}while(0<Pn);for(tt=_n;tt!==0;tt--)for(Et=Ge.bl_count[tt];Et!==0;)oi<(pn=Ge.heap[--dn])||(It[2*pn+1]!==tt&&(Ge.opt_len+=(tt-It[2*pn+1])*It[2*pn],It[2*pn+1]=tt),Et--)}}(S,G),$e(_e,Ke,S.bl_count)}function v(S,G,ae){var ce,Z,_e=-1,Ae=G[1],ge=0,Be=7,Ke=4;for(Ae===0&&(Be=138,Ke=3),G[2*(ae+1)+1]=65535,ce=0;ce<=ae;ce++)Z=Ae,Ae=G[2*(ce+1)+1],++ge<Be&&Z===Ae||(ge<Ke?S.bl_tree[2*Z]+=ge:Z!==0?(Z!==_e&&S.bl_tree[2*Z]++,S.bl_tree[2*y]++):ge<=10?S.bl_tree[2*R]++:S.bl_tree[2*I]++,_e=Z,Ke=(ge=0)===Ae?(Be=138,3):Z===Ae?(Be=6,3):(Be=7,4))}function ne(S,G,ae){var ce,Z,_e=-1,Ae=G[1],ge=0,Be=7,Ke=4;for(Ae===0&&(Be=138,Ke=3),ce=0;ce<=ae;ce++)if(Z=Ae,Ae=G[2*(ce+1)+1],!(++ge<Be&&Z===Ae)){if(ge<Ke)for(;me(S,Z,S.bl_tree),--ge!=0;);else Z!==0?(Z!==_e&&(me(S,Z,S.bl_tree),ge--),me(S,y,S.bl_tree),ee(S,ge-3,2)):ge<=10?(me(S,R,S.bl_tree),ee(S,ge-3,3)):(me(S,I,S.bl_tree),ee(S,ge-11,7));_e=Z,Ke=(ge=0)===Ae?(Be=138,3):Z===Ae?(Be=6,3):(Be=7,4)}}l(te);var Y=!1;function F(S,G,ae,ce){ee(S,(u<<1)+(ce?1:0),3),function(Z,_e,Ae,ge){Ne(Z),ge&&(K(Z,Ae),K(Z,~Ae)),s.arraySet(Z.pending_buf,Z.window,_e,Ae,Z.pending),Z.pending+=Ae}(S,G,ae,!0)}r._tr_init=function(S){Y||(function(){var G,ae,ce,Z,_e,Ae=new Array(_+1);for(Z=ce=0;Z<f-1;Z++)for(X[Z]=ce,G=0;G<1<<B[Z];G++)b[ce++]=Z;for(b[ce-1]=Z,Z=_e=0;Z<16;Z++)for(te[Z]=_e,G=0;G<1<<j[Z];G++)T[_e++]=Z;for(_e>>=7;Z<m;Z++)for(te[Z]=_e<<7,G=0;G<1<<j[Z]-7;G++)T[256+_e++]=Z;for(ae=0;ae<=_;ae++)Ae[ae]=0;for(G=0;G<=143;)oe[2*G+1]=8,G++,Ae[8]++;for(;G<=255;)oe[2*G+1]=9,G++,Ae[9]++;for(;G<=279;)oe[2*G+1]=7,G++,Ae[7]++;for(;G<=287;)oe[2*G+1]=8,G++,Ae[8]++;for($e(oe,h+1,Ae),G=0;G<m;G++)C[2*G+1]=5,C[2*G]=se(G,5);be=new Ee(oe,B,c+1,h,_),x=new Ee(C,j,0,m,_),he=new Ee(new Array(0),N,0,d,$)}(),Y=!0),S.l_desc=new W(S.dyn_ltree,be),S.d_desc=new W(S.dyn_dtree,x),S.bl_desc=new W(S.bl_tree,he),S.bi_buf=0,S.bi_valid=0,q(S)},r._tr_stored_block=F,r._tr_flush_block=function(S,G,ae,ce){var Z,_e,Ae=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=function(ge){var Be,Ke=4093624447;for(Be=0;Be<=31;Be++,Ke>>>=1)if(1&Ke&&ge.dyn_ltree[2*Be]!==0)return o;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return a;for(Be=32;Be<c;Be++)if(ge.dyn_ltree[2*Be]!==0)return a;return o}(S)),Xe(S,S.l_desc),Xe(S,S.d_desc),Ae=function(ge){var Be;for(v(ge,ge.dyn_ltree,ge.l_desc.max_code),v(ge,ge.dyn_dtree,ge.d_desc.max_code),Xe(ge,ge.bl_desc),Be=d-1;3<=Be&&ge.bl_tree[2*P[Be]+1]===0;Be--);return ge.opt_len+=3*(Be+1)+5+5+4,Be}(S),Z=S.opt_len+3+7>>>3,(_e=S.static_len+3+7>>>3)<=Z&&(Z=_e)):Z=_e=ae+5,ae+4<=Z&&G!==-1?F(S,G,ae,ce):S.strategy===4||_e===Z?(ee(S,2+(ce?1:0),3),ie(S,oe,C)):(ee(S,4+(ce?1:0),3),function(ge,Be,Ke,Ge){var bt;for(ee(ge,Be-257,5),ee(ge,Ke-1,5),ee(ge,Ge-4,4),bt=0;bt<Ge;bt++)ee(ge,ge.bl_tree[2*P[bt]+1],3);ne(ge,ge.dyn_ltree,Be-1),ne(ge,ge.dyn_dtree,Ke-1)}(S,S.l_desc.max_code+1,S.d_desc.max_code+1,Ae+1),ie(S,S.dyn_ltree,S.dyn_dtree)),q(S),ce&&Ne(S)},r._tr_tally=function(S,G,ae){return S.pending_buf[S.d_buf+2*S.last_lit]=G>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&G,S.pending_buf[S.l_buf+S.last_lit]=255&ae,S.last_lit++,G===0?S.dyn_ltree[2*ae]++:(S.matches++,G--,S.dyn_ltree[2*(b[ae]+c+1)]++,S.dyn_dtree[2*V(G)]++),S.last_lit===S.lit_bufsize-1},r._tr_align=function(S){ee(S,2,3),me(S,E,oe),function(G){G.bi_valid===16?(K(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)}(S)}},{"../utils/common":41}],53:[function(t,n,r){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,r){(function(s){(function(o,a){if(!o.setImmediate){var l,u,f,c,h=1,m={},d=!1,p=o.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(o);_=_&&_.setTimeout?_:o,l={}.toString.call(o.process)==="[object process]"?function(y){process.nextTick(function(){$(y)})}:function(){if(o.postMessage&&!o.importScripts){var y=!0,R=o.onmessage;return o.onmessage=function(){y=!1},o.postMessage("","*"),o.onmessage=R,y}}()?(c="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",E,!1):o.attachEvent("onmessage",E),function(y){o.postMessage(c+y,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(y){$(y.data)},function(y){f.port2.postMessage(y)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(y){var R=p.createElement("script");R.onreadystatechange=function(){$(y),R.onreadystatechange=null,u.removeChild(R),R=null},u.appendChild(R)}):function(y){setTimeout($,0,y)},_.setImmediate=function(y){typeof y!="function"&&(y=new Function(""+y));for(var R=new Array(arguments.length-1),I=0;I<R.length;I++)R[I]=arguments[I+1];var B={callback:y,args:R};return m[h]=B,l(h),h++},_.clearImmediate=g}function g(y){delete m[y]}function $(y){if(d)setTimeout($,0,y);else{var R=m[y];if(R){d=!0;try{(function(I){var B=I.callback,j=I.args;switch(j.length){case 0:B();break;case 1:B(j[0]);break;case 2:B(j[0],j[1]);break;case 3:B(j[0],j[1],j[2]);break;default:B.apply(a,j)}})(R)}finally{g(y),d=!1}}}}function E(y){y.source===o&&typeof y.data=="string"&&y.data.indexOf(c)===0&&$(+y.data.slice(c.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Mn<"u"?Mn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Th);const Ih=""+new URL("../assets/fonts_metrics.129dbd9a.zip",import.meta.url).href;function Ch(i,e){if(i>e.k*256)return i/e.k;const{size:t,height:n}=e.metrics;let r=0,s=t.length-1;for(;s-r>1;){const o=Math.round((r+s)/2);n[o]<=i?r=o:n[o]>i&&(s=o)}return t[r]}function Rh(i){const{family:e,italic:t,bold:n,smallCaps:r}=i,s=[e];return t&&s.push("italic"),n&&s.push("bold"),r&&s.push("small-caps"),s.join("_")}class Fh{constructor(){Fe(this,"data")}get(e){if(!this.data)return{k:1,metrics:{height:[0,1],size:[0,1]}};const t=Rh(e),n=this.data.get(t);if(!n)throw new Error(`Not found font statistics for ${t}`);return n}}const Nh=An(["Impact","Lobster","Arial","Helvetica","Next art","Pacifico","Caveat","Comforter"]);function Ph(){return Bh(Ih)}function Bh(i){const e=new Fh;return{store:e,then:fetch(i).then(t=>t.blob()).then(t=>un.loadAsync(t)).then(t=>Promise.all(Object.entries(t.files).map(([n,r])=>r.async("string").then(s=>[n.substring(0,n.length-5),JSON.parse(s)])))).then(t=>e.data=new Map(t))}}function Mh(i=document.fonts){const e=new Array;return i.forEach(t=>e.push(t.load().catch(n=>(console.warn(`Failed load font ${t.family}: ${n.message}`),t)))),Promise.all(e)}function Hi(i,e,t){const n=i.slice();return n[24]=e[t],n}function zh(i){let e,t;return e=new Ql({props:{size:16}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p:qe,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Uh(i){let e,t;return e=new Qa({props:{size:16}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p:qe,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Dh(i){let e;return{c(){e=de("Small Caps")},l(t){e=pe(t,"Small Caps")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function Lh(i){let e,t;return e=new Da({}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function xh(i){let e,t;return e=new Ia({}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Oh(i){let e,t;return e=new Pa({}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Gh(i){let e,t,n,r;const s=[Oh,xh,Lh],o=[];function a(l,u){return l[23]=="left"?0:l[23]=="center"?1:l[23]=="right"?2:-1}return~(e=a(i))&&(t=o[e]=s[e](i)),{c(){t&&t.c(),n=Oe()},l(l){t&&t.l(l),n=Oe()},m(l,u){~e&&o[e].m(l,u),O(l,n,u),r=!0},p(l,u){let f=e;e=a(l),e!==f&&(t&&(je(),k(o[f],1,1,()=>{o[f]=null}),We()),~e?(t=o[e],t||(t=o[e]=s[e](l),t.c()),w(t,1),t.m(n.parentNode,n)):t=null)},i(l){r||(w(t),r=!0)},o(l){k(t),r=!1},d(l){~e&&o[e].d(l),l&&A(n)}}}function Hh(i){let e,t;return e=new ma({}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function jh(i){let e,t;return e=new ba({}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Wh(i){let e,t;return e=new Ea({}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Vh(i){let e,t,n,r;const s=[Wh,jh,Hh],o=[];function a(l,u){return l[23]=="top"?0:l[23]=="middle"?1:l[23]=="bottom"?2:-1}return~(e=a(i))&&(t=o[e]=s[e](i)),{c(){t&&t.c(),n=Oe()},l(l){t&&t.l(l),n=Oe()},m(l,u){~e&&o[e].m(l,u),O(l,n,u),r=!0},p(l,u){let f=e;e=a(l),e!==f&&(t&&(je(),k(o[f],1,1,()=>{o[f]=null}),We()),~e?(t=o[e],t||(t=o[e]=s[e](l),t.c()),w(t,1),t.m(n.parentNode,n)):t=null)},i(l){r||(w(t),r=!0)},o(l){k(t),r=!1},d(l){~e&&o[e].d(l),l&&A(n)}}}function Zh(i){let e,t;return e=new iu({}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function ji(i){let e,t,n,r,s,o,a;return{c(){e=J("label"),t=J("input"),n=le(),r=de(i[24]),s=le(),this.h()},l(l){e=Q(l,"LABEL",{class:!0});var u=re(e);t=Q(u,"INPUT",{type:!0,style:!0}),n=ue(u),r=pe(u,i[24]),s=ue(u),u.forEach(A),this.h()},h(){L(t,"type","radio"),t.__value=i[24],t.value=t.__value,pt(t,"display","none"),i[18][0].push(t),L(e,"class","svelte-ebxik1")},m(l,u){O(l,e,u),H(e,t),t.checked=t.__value===i[4],H(e,n),H(e,r),H(e,s),o||(a=Re(t,"change",i[17]),o=!0)},p(l,u){u&16&&(t.checked=t.__value===l[4])},d(l){l&&A(e),i[18][0].splice(i[18][0].indexOf(t),1),o=!1,a()}}}function Xh(i){let e,t,n,r,s;function o(f){i[16](f)}let a={min:-1,step:.125,precision:3};i[4]!==void 0&&(a.value=i[4]),t=new ct({props:a}),ke.push(()=>Se(t,"value",o));let l=[0,.5,1,1.25],u=[];for(let f=0;f<4;f+=1)u[f]=ji(Hi(i,l,f));return{c(){e=J("section"),M(t.$$.fragment),r=le();for(let f=0;f<4;f+=1)u[f].c();this.h()},l(f){e=Q(f,"SECTION",{slot:!0,class:!0});var c=re(e);z(t.$$.fragment,c),r=ue(c);for(let h=0;h<4;h+=1)u[h].l(c);c.forEach(A),this.h()},h(){L(e,"slot","content"),L(e,"class","spacing-values svelte-ebxik1")},m(f,c){O(f,e,c),U(t,e,null),H(e,r);for(let h=0;h<4;h+=1)u[h].m(e,null);s=!0},p(f,c){const h={};if(!n&&c&16&&(n=!0,h.value=f[4],Te(()=>n=!1)),t.$set(h),c&16){l=[0,.5,1,1.25];let m;for(m=0;m<4;m+=1){const d=Hi(f,l,m);u[m]?u[m].p(d,c):(u[m]=ji(d),u[m].c(),u[m].m(e,null))}for(;m<4;m+=1)u[m].d(1)}},i(f){s||(w(t.$$.fragment,f),s=!0)},o(f){k(t.$$.fragment,f),s=!1},d(f){f&&A(e),D(t),kn(u,f)}}}function qh(i){let e,t=i[23]+"",n;return{c(){e=J("section"),n=de(t),this.h()},l(r){e=Q(r,"SECTION",{style:!0});var s=re(e);n=pe(s,t),s.forEach(A),this.h()},h(){pt(e,"font-family",i[23])},m(r,s){O(r,e,s),H(e,n)},p(r,s){s&8388608&&t!==(t=r[23]+"")&&st(n,t),s&8388608&&pt(e,"font-family",r[23])},d(r){r&&A(e)}}}function Kh(i){let e=i[23]+"",t;return{c(){t=de(e)},l(n){t=pe(n,e)},m(n,r){O(n,t,r)},p(n,r){r&8388608&&e!==(e=n[23]+"")&&st(t,e)},d(n){n&&A(t)}}}function Yh(i){let e,t,n,r,s,o,a,l,u,f,c,h,m,d,p,_,g,$,E,y,R,I,B,j;function N(K){i[6](K)}let P={title:"Курсив",$$slots:{default:[zh]},$$scope:{ctx:i}};i[0].italic!==void 0&&(P.value=i[0].italic),t=new Hn({props:P}),ke.push(()=>Se(t,"value",N)),t.$on("change",i[7]);function oe(K){i[8](K)}let C={title:"Жирный",$$slots:{default:[Uh]},$$scope:{ctx:i}};i[0].bold!==void 0&&(C.value=i[0].bold),s=new Hn({props:C}),ke.push(()=>Se(s,"value",oe)),s.$on("change",i[9]);function T(K){i[10](K)}let b={title:"Капитель",$$slots:{default:[Dh]},$$scope:{ctx:i}};i[0].smallCaps!==void 0&&(b.value=i[0].smallCaps),l=new Hn({props:b}),ke.push(()=>Se(l,"value",T)),l.$on("change",i[11]);function X(K){i[12](K)}let be={title:"Выравнивание",items:["left","center","right"],$$slots:{default:[Gh,({item:K})=>({23:K}),({item:K})=>K?8388608:0]},$$scope:{ctx:i}};i[2]!==void 0&&(be.value=i[2]),c=new St({props:be}),ke.push(()=>Se(c,"value",X)),c.$on("change",i[13]);function x(K){i[14](K)}let he={title:"Позиционирование",items:["top","middle","bottom"],$$slots:{default:[Vh,({item:K})=>({23:K}),({item:K})=>K?8388608:0]},$$scope:{ctx:i}};i[3]!==void 0&&(he.value=i[3]),d=new St({props:he}),ke.push(()=>Se(d,"value",x)),d.$on("change",i[15]),g=new Bs({props:{title:"Междустрочный интервал",css:{height:"48px",main:"min-width:100px",width:"100%"},$$slots:{content:[Xh],header:[Zh]},$$scope:{ctx:i}}});function te(K){i[19](K)}let Ee={title:"Шрифт",items:i[5],$$slots:{default:[qh,({item:K})=>({23:K}),({item:K})=>K?8388608:0]},$$scope:{ctx:i}};i[0].family!==void 0&&(Ee.value=i[0].family),E=new St({props:Ee}),ke.push(()=>Se(E,"value",te)),E.$on("change",i[20]);function W(K){i[21](K)}let V={title:"Регистр",items:["As is","UPPER","lower"],$$slots:{default:[Kh,({item:K})=>({23:K}),({item:K})=>K?8388608:0]},$$scope:{ctx:i}};return i[1]!==void 0&&(V.value=i[1]),I=new St({props:V}),ke.push(()=>Se(I,"value",W)),I.$on("change",i[22]),{c(){e=J("article"),M(t.$$.fragment),r=le(),M(s.$$.fragment),a=le(),M(l.$$.fragment),f=le(),M(c.$$.fragment),m=le(),M(d.$$.fragment),_=le(),M(g.$$.fragment),$=le(),M(E.$$.fragment),R=le(),M(I.$$.fragment),this.h()},l(K){e=Q(K,"ARTICLE",{class:!0});var ee=re(e);z(t.$$.fragment,ee),r=ue(ee),z(s.$$.fragment,ee),a=ue(ee),z(l.$$.fragment,ee),f=ue(ee),z(c.$$.fragment,ee),m=ue(ee),z(d.$$.fragment,ee),_=ue(ee),z(g.$$.fragment,ee),$=ue(ee),z(E.$$.fragment,ee),R=ue(ee),z(I.$$.fragment,ee),ee.forEach(A),this.h()},h(){L(e,"class","svelte-ebxik1")},m(K,ee){O(K,e,ee),U(t,e,null),H(e,r),U(s,e,null),H(e,a),U(l,e,null),H(e,f),U(c,e,null),H(e,m),U(d,e,null),H(e,_),U(g,e,null),H(e,$),U(E,e,null),H(e,R),U(I,e,null),j=!0},p(K,[ee]){const me={};ee&134217728&&(me.$$scope={dirty:ee,ctx:K}),!n&&ee&1&&(n=!0,me.value=K[0].italic,Te(()=>n=!1)),t.$set(me);const se={};ee&134217728&&(se.$$scope={dirty:ee,ctx:K}),!o&&ee&1&&(o=!0,se.value=K[0].bold,Te(()=>o=!1)),s.$set(se);const $e={};ee&134217728&&($e.$$scope={dirty:ee,ctx:K}),!u&&ee&1&&(u=!0,$e.value=K[0].smallCaps,Te(()=>u=!1)),l.$set($e);const q={};ee&142606336&&(q.$$scope={dirty:ee,ctx:K}),!h&&ee&4&&(h=!0,q.value=K[2],Te(()=>h=!1)),c.$set(q);const Ne={};ee&142606336&&(Ne.$$scope={dirty:ee,ctx:K}),!p&&ee&8&&(p=!0,Ne.value=K[3],Te(()=>p=!1)),d.$set(Ne);const Pe={};ee&134217744&&(Pe.$$scope={dirty:ee,ctx:K}),g.$set(Pe);const xe={};ee&32&&(xe.items=K[5]),ee&142606336&&(xe.$$scope={dirty:ee,ctx:K}),!y&&ee&1&&(y=!0,xe.value=K[0].family,Te(()=>y=!1)),E.$set(xe);const ie={};ee&142606336&&(ie.$$scope={dirty:ee,ctx:K}),!B&&ee&2&&(B=!0,ie.value=K[1],Te(()=>B=!1)),I.$set(ie)},i(K){j||(w(t.$$.fragment,K),w(s.$$.fragment,K),w(l.$$.fragment,K),w(c.$$.fragment,K),w(d.$$.fragment,K),w(g.$$.fragment,K),w(E.$$.fragment,K),w(I.$$.fragment,K),j=!0)},o(K){k(t.$$.fragment,K),k(s.$$.fragment,K),k(l.$$.fragment,K),k(c.$$.fragment,K),k(d.$$.fragment,K),k(g.$$.fragment,K),k(E.$$.fragment,K),k(I.$$.fragment,K),j=!1},d(K){K&&A(e),D(t),D(s),D(l),D(c),D(d),D(g),D(E),D(I)}}}function Jh(i,e,t){let n;At(i,Nh,P=>t(5,n=P));let{font:r}=e,{textCase:s}=e,{align:o}=e,{baseline:a}=e,{spacing:l}=e;const u=[[]];function f(P){i.$$.not_equal(r.italic,P)&&(r.italic=P,t(0,r))}function c(P){Ce.call(this,i,P)}function h(P){i.$$.not_equal(r.bold,P)&&(r.bold=P,t(0,r))}function m(P){Ce.call(this,i,P)}function d(P){i.$$.not_equal(r.smallCaps,P)&&(r.smallCaps=P,t(0,r))}function p(P){Ce.call(this,i,P)}function _(P){o=P,t(2,o)}function g(P){Ce.call(this,i,P)}function $(P){a=P,t(3,a)}function E(P){Ce.call(this,i,P)}function y(P){l=P,t(4,l)}function R(){l=this.__value,t(4,l)}function I(P){i.$$.not_equal(r.family,P)&&(r.family=P,t(0,r))}function B(P){Ce.call(this,i,P)}function j(P){s=P,t(1,s)}function N(P){Ce.call(this,i,P)}return i.$$set=P=>{"font"in P&&t(0,r=P.font),"textCase"in P&&t(1,s=P.textCase),"align"in P&&t(2,o=P.align),"baseline"in P&&t(3,a=P.baseline),"spacing"in P&&t(4,l=P.spacing)},[r,s,o,a,l,n,f,c,h,m,d,p,_,g,$,E,y,R,u,I,B,j,N]}class Qh extends we{constructor(e){super(),ye(this,e,Jh,Yh,ve,{font:0,textCase:1,align:2,baseline:3,spacing:4})}}function em(i){let e,t=i[27].name+"",n;return{c(){e=J("div"),n=de(t)},l(r){e=Q(r,"DIV",{});var s=re(e);n=pe(s,t),s.forEach(A)},m(r,s){O(r,e,s),H(e,n)},p(r,s){s&134217728&&t!==(t=r[27].name+"")&&st(n,t)},d(r){r&&A(e)}}}function tm(i){let e,t=i[27].name+"",n;return{c(){e=J("div"),n=de(t),this.h()},l(r){e=Q(r,"DIV",{style:!0});var s=re(e);n=pe(s,t),s.forEach(A),this.h()},h(){pt(e,"font",Jt(i[27].preset.font,16))},m(r,s){O(r,e,s),H(e,n)},p(r,s){s&134217728&&t!==(t=r[27].name+"")&&st(n,t),s&134217728&&pt(e,"font",Jt(r[27].preset.font,16))},d(r){r&&A(e)}}}function nm(i){let e;function t(s,o){return s[27].preset?tm:em}let n=t(i),r=n(i);return{c(){r.c(),e=Oe()},l(s){r.l(s),e=Oe()},m(s,o){r.m(s,o),O(s,e,o)},p(s,o){n===(n=t(s))&&r?r.p(s,o):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&A(e)}}}function rm(i){let e,t,n,r;return t=new ic({props:{size:24,name:i[26].icon,atlasDescription:ec,atlasURL:tc}}),{c(){e=J("div"),M(t.$$.fragment),this.h()},l(s){e=Q(s,"DIV",{class:!0,title:!0});var o=re(e);z(t.$$.fragment,o),o.forEach(A),this.h()},h(){L(e,"class","icon"),L(e,"title",n=i[26].label)},m(s,o){O(s,e,o),U(t,e,null),r=!0},p(s,o){const a={};o&67108864&&(a.name=s[26].icon),t.$set(a),(!r||o&67108864&&n!==(n=s[26].label))&&L(e,"title",n)},i(s){r||(w(t.$$.fragment,s),r=!0)},o(s){k(t.$$.fragment,s),r=!1},d(s){s&&A(e),D(t)}}}function im(i){let e,t,n,r,s;e=new Ye({props:{$$slots:{default:[om]},$$scope:{ctx:i}}});function o(l){i[22](l)}let a={defaults:[{type:"disabled"},{type:"color",value:"#000000"},{type:"pattern",name:"fire",rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}},{type:"gradient4",color1:"#ff0000",color2:"#00ff00",color3:"#0000ff",color4:"#fff000"}]};return i[0].stroke!==void 0&&(a.value=i[0].stroke),n=new Ms({props:a}),ke.push(()=>Se(n,"value",o)),n.$on("change",i[23]),n.$on("addPattern",i[24]),{c(){M(e.$$.fragment),t=le(),M(n.$$.fragment)},l(l){z(e.$$.fragment,l),t=ue(l),z(n.$$.fragment,l)},m(l,u){U(e,l,u),O(l,t,u),U(n,l,u),s=!0},p(l,u){const f={};u&268435457&&(f.$$scope={dirty:u,ctx:l}),e.$set(f);const c={};!r&&u&1&&(r=!0,c.value=l[0].stroke,Te(()=>r=!1)),n.$set(c)},i(l){s||(w(e.$$.fragment,l),w(n.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),k(n.$$.fragment,l),s=!1},d(l){D(e,l),l&&A(t),D(n,l)}}}function sm(i){let e,t,n;function r(o){i[18](o)}let s={defaults:[{type:"disabled"},{type:"color",value:"#ffffff"},{type:"pattern",name:"fire",rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}},{type:"gradient4",color1:"#ff0000",color2:"#00ff00",color3:"#0000ff",color4:"#fff000"}]};return i[0].fill!==void 0&&(s.value=i[0].fill),e=new Ms({props:s}),ke.push(()=>Se(e,"value",r)),e.$on("change",i[19]),e.$on("addPattern",i[20]),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){const l={};!t&&a&1&&(t=!0,l.value=o[0].fill,Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function om(i){let e,t,n,r;function s(a){i[21](a)}let o={min:0};return i[0].strokeWidth!==void 0&&(o.value=i[0].strokeWidth),t=new ct({props:o}),ke.push(()=>Se(t,"value",s)),{c(){e=de(`Толщина обводки (%)
					`),M(t.$$.fragment)},l(a){e=pe(a,`Толщина обводки (%)
					`),z(t.$$.fragment,a)},m(a,l){O(a,e,l),U(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].strokeWidth,Te(()=>n=!1)),t.$set(u)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&A(e),D(t,a)}}}function am(i){let e,t,n,r;const s=[sm,im],o=[];function a(l,u){return l[26].label==="Заливка"?0:l[26].label==="Обводка"?1:-1}return~(t=a(i))&&(n=o[t]=s[t](i)),{c(){e=J("div"),n&&n.c(),this.h()},l(l){e=Q(l,"DIV",{slot:!0});var u=re(e);n&&n.l(u),u.forEach(A),this.h()},h(){L(e,"slot","content")},m(l,u){O(l,e,u),~t&&o[t].m(e,null),r=!0},p(l,u){let f=t;t=a(l),t===f?~t&&o[t].p(l,u):(n&&(je(),k(o[f],1,1,()=>{o[f]=null}),We()),~t?(n=o[t],n?n.p(l,u):(n=o[t]=s[t](l),n.c()),w(n,1),n.m(e,null)):n=null)},i(l){r||(w(n),r=!0)},o(l){k(n),r=!1},d(l){l&&A(e),~t&&o[t].d()}}}function lm(i){let e,t,n,r,s,o,a,l,u,f,c,h,m,d,p,_,g,$;function E(T){i[9](T)}let y={placeholder:i[6],items:[i[6],...i[4].map(Wi)],$$slots:{default:[nm,({item:T})=>({27:T}),({item:T})=>T?134217728:0]},$$scope:{ctx:i}};i[3]!==void 0&&(y.value=i[3]),t=new St({props:y}),ke.push(()=>Se(t,"value",E)),t.$on("change",i[7]),t.$on("change",i[10]);function R(T){i[11](T)}function I(T){i[12](T)}function B(T){i[13](T)}function j(T){i[14](T)}function N(T){i[15](T)}let P={};i[0].font!==void 0&&(P.font=i[0].font),i[0].case!==void 0&&(P.textCase=i[0].case),i[0].align!==void 0&&(P.align=i[0].align),i[0].baseline!==void 0&&(P.baseline=i[0].baseline),i[0].lineSpacing!==void 0&&(P.spacing=i[0].lineSpacing),s=new Qh({props:P}),ke.push(()=>Se(s,"font",R)),ke.push(()=>Se(s,"textCase",I)),ke.push(()=>Se(s,"align",B)),ke.push(()=>Se(s,"baseline",j)),ke.push(()=>Se(s,"spacing",N)),s.$on("change",i[16]);function oe(T){i[25](T)}let C={tabs:i[5],$$slots:{content:[am,({tab:T})=>({26:T}),({tab:T})=>T?67108864:0],default:[rm,({tab:T})=>({26:T}),({tab:T})=>T?67108864:0]},$$scope:{ctx:i}};return i[2]!==void 0&&(C.activeTab=i[2]),d=new Ps({props:C}),ke.push(()=>Se(d,"activeTab",oe)),{c(){e=J("article"),M(t.$$.fragment),r=le(),M(s.$$.fragment),c=le(),h=J("textarea"),m=le(),M(d.$$.fragment),this.h()},l(T){e=Q(T,"ARTICLE",{});var b=re(e);z(t.$$.fragment,b),r=ue(b),z(s.$$.fragment,b),c=ue(b),h=Q(b,"TEXTAREA",{style:!0,rows:!0,class:!0}),re(h).forEach(A),m=ue(b),z(d.$$.fragment,b),b.forEach(A),this.h()},h(){pt(h,"width","100%"),L(h,"rows","6"),L(h,"class","svelte-1fuxbeo")},m(T,b){O(T,e,b),U(t,e,null),H(e,r),U(s,e,null),H(e,c),H(e,h),it(h,i[1]),H(e,m),U(d,e,null),_=!0,g||($=[Re(h,"input",i[17]),Re(h,"change",i[8])],g=!0)},p(T,[b]){const X={};b&16&&(X.items=[T[6],...T[4].map(Wi)]),b&402653184&&(X.$$scope={dirty:b,ctx:T}),!n&&b&8&&(n=!0,X.value=T[3],Te(()=>n=!1)),t.$set(X);const be={};!o&&b&1&&(o=!0,be.font=T[0].font,Te(()=>o=!1)),!a&&b&1&&(a=!0,be.textCase=T[0].case,Te(()=>a=!1)),!l&&b&1&&(l=!0,be.align=T[0].align,Te(()=>l=!1)),!u&&b&1&&(u=!0,be.baseline=T[0].baseline,Te(()=>u=!1)),!f&&b&1&&(f=!0,be.spacing=T[0].lineSpacing,Te(()=>f=!1)),s.$set(be),b&2&&it(h,T[1]);const x={};b&335544321&&(x.$$scope={dirty:b,ctx:T}),!p&&b&4&&(p=!0,x.activeTab=T[2],Te(()=>p=!1)),d.$set(x)},i(T){_||(w(t.$$.fragment,T),w(s.$$.fragment,T),w(d.$$.fragment,T),_=!0)},o(T){k(t.$$.fragment,T),k(s.$$.fragment,T),k(d.$$.fragment,T),_=!1},d(T){T&&A(e),D(t),D(s),D(d),g=!1,lt($)}}}const Wi=i=>({name:i.name,preset:i});function um(i,e,t){let n;At(i,Sh,T=>t(4,n=T));let{style:r}=e,{text:s}=e,o=[{icon:"fill",label:"Заливка"},{icon:"stroke",label:"Обводка"}],a=o[0];const l={name:"Выбрать пресет...",preset:null};let u=l;function f(T){const b=T.detail.value.preset;b&&(t(0,r=kh(b,r)),t(3,u=l))}function c(T){Ce.call(this,i,T)}function h(T){u=T,t(3,u)}function m(T){Ce.call(this,i,T)}function d(T){i.$$.not_equal(r.font,T)&&(r.font=T,t(0,r))}function p(T){i.$$.not_equal(r.case,T)&&(r.case=T,t(0,r))}function _(T){i.$$.not_equal(r.align,T)&&(r.align=T,t(0,r))}function g(T){i.$$.not_equal(r.baseline,T)&&(r.baseline=T,t(0,r))}function $(T){i.$$.not_equal(r.lineSpacing,T)&&(r.lineSpacing=T,t(0,r))}function E(T){Ce.call(this,i,T)}function y(){s=this.value,t(1,s)}function R(T){i.$$.not_equal(r.fill,T)&&(r.fill=T,t(0,r))}function I(T){Ce.call(this,i,T)}function B(T){Ce.call(this,i,T)}function j(T){i.$$.not_equal(r.strokeWidth,T)&&(r.strokeWidth=T,t(0,r))}function N(T){i.$$.not_equal(r.stroke,T)&&(r.stroke=T,t(0,r))}function P(T){Ce.call(this,i,T)}function oe(T){Ce.call(this,i,T)}function C(T){a=T,t(2,a)}return i.$$set=T=>{"style"in T&&t(0,r=T.style),"text"in T&&t(1,s=T.text)},[r,s,a,u,n,o,l,f,c,h,m,d,p,_,g,$,E,y,R,I,B,j,N,P,oe,C]}class fm extends we{constructor(e){super(),ye(this,e,um,lm,ve,{style:0,text:1})}}function cm(i){let e,t,n,r;function s(l){i[1](l)}function o(l){i[2](l)}let a={};return i[0].text!==void 0&&(a.text=i[0].text),i[0].style!==void 0&&(a.style=i[0].style),e=new fm({props:a}),ke.push(()=>Se(e,"text",s)),ke.push(()=>Se(e,"style",o)),e.$on("change",i[3]),e.$on("addPattern",i[4]),{c(){M(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,u){U(e,l,u),r=!0},p(l,[u]){const f={};!t&&u&1&&(t=!0,f.text=l[0].text,Te(()=>t=!1)),!n&&u&1&&(n=!0,f.style=l[0].style,Te(()=>n=!1)),e.$set(f)},i(l){r||(w(e.$$.fragment,l),r=!0)},o(l){k(e.$$.fragment,l),r=!1},d(l){D(e,l)}}}function hm(i,e,t){let{content:n}=e;function r(l){i.$$.not_equal(n.text,l)&&(n.text=l,t(0,n))}function s(l){i.$$.not_equal(n.style,l)&&(n.style=l,t(0,n))}function o(l){Ce.call(this,i,l)}function a(l){Ce.call(this,i,l)}return i.$$set=l=>{"content"in l&&t(0,n=l.content)},[n,r,s,o,a]}class mm extends we{constructor(e){super(),ye(this,e,hm,cm,ve,{content:0})}}function dm(i){let e,t,n=i[0].text+"",r,s,o;const a=i[2].default,l=Me(a,i,i[1],null);return{c(){e=J("article"),t=J("main"),r=de(n),s=le(),l&&l.c(),this.h()},l(u){e=Q(u,"ARTICLE",{class:!0});var f=re(e);t=Q(f,"MAIN",{style:!0,class:!0});var c=re(t);r=pe(c,n),c.forEach(A),s=ue(f),l&&l.l(f),f.forEach(A),this.h()},h(){pt(t,"font",Jt(i[0].style.font,16)),L(t,"class","svelte-18odw12"),L(e,"class","svelte-18odw12")},m(u,f){O(u,e,f),H(e,t),H(t,r),H(e,s),l&&l.m(e,null),o=!0},p(u,[f]){(!o||f&1)&&n!==(n=u[0].text+"")&&st(r,n),(!o||f&1)&&pt(t,"font",Jt(u[0].style.font,16)),l&&l.p&&(!o||f&2)&&ze(l,a,u,u[1],o?De(a,u[1],f,null):Ue(u[1]),null)},i(u){o||(w(l,u),o=!0)},o(u){k(l,u),o=!1},d(u){u&&A(e),l&&l.d(u)}}}function pm(i,e,t){let{$$slots:n={},$$scope:r}=e,{content:s}=e;return i.$$set=o=>{"content"in o&&t(0,s=o.content),"$$scope"in o&&t(1,r=o.$$scope)},[s,r,n]}class Us extends we{constructor(e){super(),ye(this,e,pm,dm,ve,{content:0})}}function Vi(i){let e,t;return e=new rt({props:{title:"Создать копию фрейма",$$slots:{default:[_m]},$$scope:{ctx:i}}}),e.$on("click",i[5]("copy")),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&272&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function _m(i){let e,t;return e=new Rs({props:{size:i[4]}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.size=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Zi(i){let e,t;return e=new rt({props:{title:"Поменять местами с верхним",$$slots:{default:[gm]},$$scope:{ctx:i}}}),e.$on("click",i[5]("up")),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&272&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function gm(i){let e,t;return e=new Xa({props:{size:i[4]}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.size=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Xi(i){let e,t;return e=new rt({props:{title:"Поменять местами с нижним",$$slots:{default:[bm]},$$scope:{ctx:i}}}),e.$on("click",i[5]("down")),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&272&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function bm(i){let e,t;return e=new Ha({props:{size:i[4]}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.size=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function qi(i){let e,t;return e=new rt({props:{title:"Удалить фрейм",type:"danger",$$slots:{default:[vm]},$$scope:{ctx:i}}}),e.$on("click",i[5]("remove")),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&272&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function vm(i){let e,t;return e=new Zu({props:{size:i[4]}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.size=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function $m(i){let e,t,n,r,s,o,a,l=i[2]&&Vi(i),u=i[0]&&Zi(i),f=i[1]&&Xi(i);const c=i[7].default,h=Me(c,i,i[8],null);let m=i[3]&&qi(i);return{c(){e=J("footer"),l&&l.c(),t=le(),u&&u.c(),n=le(),f&&f.c(),r=le(),h&&h.c(),s=le(),m&&m.c(),this.h()},l(d){e=Q(d,"FOOTER",{style:!0,class:!0});var p=re(e);l&&l.l(p),t=ue(p),u&&u.l(p),n=ue(p),f&&f.l(p),r=ue(p),h&&h.l(p),s=ue(p),m&&m.l(p),p.forEach(A),this.h()},h(){L(e,"style",o=`--buttons-height: ${i[4]+16}px`),L(e,"class","svelte-zcq5oe")},m(d,p){O(d,e,p),l&&l.m(e,null),H(e,t),u&&u.m(e,null),H(e,n),f&&f.m(e,null),H(e,r),h&&h.m(e,null),H(e,s),m&&m.m(e,null),a=!0},p(d,[p]){d[2]?l?(l.p(d,p),p&4&&w(l,1)):(l=Vi(d),l.c(),w(l,1),l.m(e,t)):l&&(je(),k(l,1,1,()=>{l=null}),We()),d[0]?u?(u.p(d,p),p&1&&w(u,1)):(u=Zi(d),u.c(),w(u,1),u.m(e,n)):u&&(je(),k(u,1,1,()=>{u=null}),We()),d[1]?f?(f.p(d,p),p&2&&w(f,1)):(f=Xi(d),f.c(),w(f,1),f.m(e,r)):f&&(je(),k(f,1,1,()=>{f=null}),We()),h&&h.p&&(!a||p&256)&&ze(h,c,d,d[8],a?De(c,d[8],p,null):Ue(d[8]),null),d[3]?m?(m.p(d,p),p&8&&w(m,1)):(m=qi(d),m.c(),w(m,1),m.m(e,null)):m&&(je(),k(m,1,1,()=>{m=null}),We()),(!a||p&16&&o!==(o=`--buttons-height: ${d[4]+16}px`))&&L(e,"style",o)},i(d){a||(w(l),w(u),w(f),w(h,d),w(m),a=!0)},o(d){k(l),k(u),k(f),k(h,d),k(m),a=!1},d(d){d&&A(e),l&&l.d(),u&&u.d(),f&&f.d(),h&&h.d(d),m&&m.d()}}}function wm(i,e,t){let{$$slots:n={},$$scope:r}=e,{value:s}=e,{up:o=!1}=e,{down:a=!1}=e,{copy:l=!1}=e,{remove:u=!1}=e,{iconSize:f=16}=e;const c=vt();function h(m){return d=>{d.preventDefault(),d.stopPropagation(),c(m,s)}}return i.$$set=m=>{"value"in m&&t(6,s=m.value),"up"in m&&t(0,o=m.up),"down"in m&&t(1,a=m.down),"copy"in m&&t(2,l=m.copy),"remove"in m&&t(3,u=m.remove),"iconSize"in m&&t(4,f=m.iconSize),"$$scope"in m&&t(8,r=m.$$scope)},[o,a,l,u,f,h,s,n,r]}class Ur extends we{constructor(e){super(),ye(this,e,wm,$m,ve,{value:6,up:0,down:1,copy:2,remove:3,iconSize:4})}}function ym(i){let e,t,n=i[0]+1+"",r,s,o,a,l;const u=i[4].default,f=Me(u,i,i[3],null);return{c(){e=J("article"),t=J("header"),r=de(n),s=le(),o=J("canvas"),a=le(),f&&f.c(),this.h()},l(c){e=Q(c,"ARTICLE",{class:!0});var h=re(e);t=Q(h,"HEADER",{class:!0});var m=re(t);r=pe(m,n),m.forEach(A),s=ue(h),o=Q(h,"CANVAS",{class:!0}),re(o).forEach(A),a=ue(h),f&&f.l(h),h.forEach(A),this.h()},h(){L(t,"class","svelte-awjzj9"),L(o,"class","svelte-awjzj9"),L(e,"class","svelte-awjzj9")},m(c,h){O(c,e,h),H(e,t),H(t,r),H(e,s),H(e,o),i[5](o),H(e,a),f&&f.m(e,null),l=!0},p(c,[h]){(!l||h&1)&&n!==(n=c[0]+1+"")&&st(r,n),f&&f.p&&(!l||h&8)&&ze(f,u,c,c[3],l?De(u,c[3],h,null):Ue(c[3]),null)},i(c){l||(w(f,c),l=!0)},o(c){k(f,c),l=!1},d(c){c&&A(e),i[5](null),f&&f.d(c)}}}function Em(i,e,t){let{$$slots:n={},$$scope:r}=e,s,o,{index:a}=e;const l=f=>{const c=s.clientWidth,m=c/f.width*f.height|0;s.width!=c&&t(1,s.width=c,s),s.height!=m&&t(1,s.height=m,s),o.clearRect(0,0,c,m),o.drawImage(f,0,0,c,m)};hn(()=>{o=s.getContext("2d")});function u(f){ke[f?"unshift":"push"](()=>{s=f,t(1,s)})}return i.$$set=f=>{"index"in f&&t(0,a=f.index),"$$scope"in f&&t(3,r=f.$$scope)},[a,s,l,r,n,u]}class km extends we{constructor(e){super(),ye(this,e,Em,ym,ve,{index:0,updatePreview:2})}get updatePreview(){return this.$$.ctx[2]}}function Am(i){let e;return{c(){e=de("Что-то пошло не так...")},l(t){e=pe(t,"Что-то пошло не так...")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function Sm(i){let e;return{c(){e=de("Прямоугольник")},l(t){e=pe(t,"Прямоугольник")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function Tm(i){let e;return{c(){e=de("Глобальный")},l(t){e=pe(t,"Глобальный")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function Im(i){let e;function t(s,o){return s[13]=="global"?Tm:s[13]=="rectangle"?Sm:Am}let n=t(i),r=n(i);return{c(){r.c(),e=Oe()},l(s){r.l(s),e=Oe()},m(s,o){r.m(s,o),O(s,e,o)},p(s,o){n!==(n=t(s))&&(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&A(e)}}}function Cm(i){let e,t;return e=new Tt({props:{$$slots:{default:[Bm]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&16385&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Rm(i){let e,t;return e=new Tt({props:{$$slots:{default:[Lm]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&16385&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Fm(i){let e,t,n;return t=new ct({props:{min:0,max:100,step:.5,withRange:!0,value:i[0].value.maxWidth*100}}),t.$on("input",i[10]),{c(){e=de("Максимальная ширина (%): "),M(t.$$.fragment)},l(r){e=pe(r,"Максимальная ширина (%): "),z(t.$$.fragment,r)},m(r,s){O(r,e,s),U(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.maxWidth*100),t.$set(o)},i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&A(e),D(t,r)}}}function Nm(i){let e,t,n;return t=new ct({props:{min:0,max:100,step:.5,withRange:!0,value:i[0].value.maxHeight*100}}),t.$on("input",i[11]),{c(){e=de("Максимальная высота (%): "),M(t.$$.fragment)},l(r){e=pe(r,"Максимальная высота (%): "),z(t.$$.fragment,r)},m(r,s){O(r,e,s),U(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.maxHeight*100),t.$set(o)},i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&A(e),D(t,r)}}}function Pm(i){let e,t,n;return t=new ct({props:{min:0,max:100,step:.5,withRange:!0,value:i[0].value.minHeight*100}}),t.$on("input",i[12]),{c(){e=de("Минимальная высота (%): "),M(t.$$.fragment)},l(r){e=pe(r,"Минимальная высота (%): "),z(t.$$.fragment,r)},m(r,s){O(r,e,s),U(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=r[0].value.minHeight*100),t.$set(o)},i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&A(e),D(t,r)}}}function Bm(i){let e,t,n,r,s,o;return e=new Ye({props:{$$slots:{default:[Fm]},$$scope:{ctx:i}}}),n=new Ye({props:{$$slots:{default:[Nm]},$$scope:{ctx:i}}}),s=new Ye({props:{$$slots:{default:[Pm]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment),t=le(),M(n.$$.fragment),r=le(),M(s.$$.fragment)},l(a){z(e.$$.fragment,a),t=ue(a),z(n.$$.fragment,a),r=ue(a),z(s.$$.fragment,a)},m(a,l){U(e,a,l),O(a,t,l),U(n,a,l),O(a,r,l),U(s,a,l),o=!0},p(a,l){const u={};l&16385&&(u.$$scope={dirty:l,ctx:a}),e.$set(u);const f={};l&16385&&(f.$$scope={dirty:l,ctx:a}),n.$set(f);const c={};l&16385&&(c.$$scope={dirty:l,ctx:a}),s.$set(c)},i(a){o||(w(e.$$.fragment,a),w(n.$$.fragment,a),w(s.$$.fragment,a),o=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),k(s.$$.fragment,a),o=!1},d(a){D(e,a),a&&A(t),D(n,a),a&&A(r),D(s,a)}}}function Mm(i){let e,t,n,r;function s(a){i[6](a)}let o={};return i[0].value.position!==void 0&&(o.value=i[0].value.position),t=new In({props:o}),ke.push(()=>Se(t,"value",s)),{c(){e=de("Позиция "),M(t.$$.fragment)},l(a){e=pe(a,"Позиция "),z(t.$$.fragment,a)},m(a,l){O(a,e,l),U(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.position,Te(()=>n=!1)),t.$set(u)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&A(e),D(t,a)}}}function zm(i){let e,t,n,r;function s(a){i[7](a)}let o={};return i[0].value.width!==void 0&&(o.value=i[0].value.width),t=new ct({props:o}),ke.push(()=>Se(t,"value",s)),{c(){e=de("Ширина "),M(t.$$.fragment)},l(a){e=pe(a,"Ширина "),z(t.$$.fragment,a)},m(a,l){O(a,e,l),U(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.width,Te(()=>n=!1)),t.$set(u)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&A(e),D(t,a)}}}function Um(i){let e,t,n,r;function s(a){i[8](a)}let o={};return i[0].value.height!==void 0&&(o.value=i[0].value.height),t=new ct({props:o}),ke.push(()=>Se(t,"value",s)),{c(){e=de("Высота "),M(t.$$.fragment)},l(a){e=pe(a,"Высота "),z(t.$$.fragment,a)},m(a,l){O(a,e,l),U(t,a,l),r=!0},p(a,l){const u={};!n&&l&1&&(n=!0,u.value=a[0].value.height,Te(()=>n=!1)),t.$set(u)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){k(t.$$.fragment,a),r=!1},d(a){a&&A(e),D(t,a)}}}function Dm(i){let e,t,n;return t=new ct({props:{withRange:!0,rangeMin:-359,rangeMax:359,step:1,value:Math.round(i[0].value.rotation/Math.PI*180)}}),t.$on("input",i[9]),{c(){e=de("Поворот "),M(t.$$.fragment)},l(r){e=pe(r,"Поворот "),z(t.$$.fragment,r)},m(r,s){O(r,e,s),U(t,r,s),n=!0},p(r,s){const o={};s&1&&(o.value=Math.round(r[0].value.rotation/Math.PI*180)),t.$set(o)},i(r){n||(w(t.$$.fragment,r),n=!0)},o(r){k(t.$$.fragment,r),n=!1},d(r){r&&A(e),D(t,r)}}}function Lm(i){let e,t,n,r,s,o,a,l;return e=new Ye({props:{$$slots:{default:[Mm]},$$scope:{ctx:i}}}),n=new Ye({props:{$$slots:{default:[zm]},$$scope:{ctx:i}}}),s=new Ye({props:{$$slots:{default:[Um]},$$scope:{ctx:i}}}),a=new Ye({props:{$$slots:{default:[Dm]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment),t=le(),M(n.$$.fragment),r=le(),M(s.$$.fragment),o=le(),M(a.$$.fragment)},l(u){z(e.$$.fragment,u),t=ue(u),z(n.$$.fragment,u),r=ue(u),z(s.$$.fragment,u),o=ue(u),z(a.$$.fragment,u)},m(u,f){U(e,u,f),O(u,t,f),U(n,u,f),O(u,r,f),U(s,u,f),O(u,o,f),U(a,u,f),l=!0},p(u,f){const c={};f&16385&&(c.$$scope={dirty:f,ctx:u}),e.$set(c);const h={};f&16385&&(h.$$scope={dirty:f,ctx:u}),n.$set(h);const m={};f&16385&&(m.$$scope={dirty:f,ctx:u}),s.$set(m);const d={};f&16385&&(d.$$scope={dirty:f,ctx:u}),a.$set(d)},i(u){l||(w(e.$$.fragment,u),w(n.$$.fragment,u),w(s.$$.fragment,u),w(a.$$.fragment,u),l=!0)},o(u){k(e.$$.fragment,u),k(n.$$.fragment,u),k(s.$$.fragment,u),k(a.$$.fragment,u),l=!1},d(u){D(e,u),u&&A(t),D(n,u),u&&A(r),D(s,u),u&&A(o),D(a,u)}}}function xm(i){let e,t,n,r,s,o;t=new St({props:{value:i[0].type,items:i[2],$$slots:{default:[Im,({item:f})=>({13:f}),({item:f})=>f?8192:0]},$$scope:{ctx:i}}}),t.$on("change",i[5]);const a=[Rm,Cm],l=[];function u(f,c){return f[0].type=="rectangle"?0:f[0].type=="global"?1:-1}return~(r=u(i))&&(s=l[r]=a[r](i)),{c(){e=J("article"),M(t.$$.fragment),n=le(),s&&s.c()},l(f){e=Q(f,"ARTICLE",{});var c=re(e);z(t.$$.fragment,c),n=ue(c),s&&s.l(c),c.forEach(A)},m(f,c){O(f,e,c),U(t,e,null),H(e,n),~r&&l[r].m(e,null),o=!0},p(f,[c]){const h={};c&1&&(h.value=f[0].type),c&24576&&(h.$$scope={dirty:c,ctx:f}),t.$set(h);let m=r;r=u(f),r===m?~r&&l[r].p(f,c):(s&&(je(),k(l[m],1,1,()=>{l[m]=null}),We()),~r?(s=l[r],s?s.p(f,c):(s=l[r]=a[r](f),s.c()),w(s,1),s.m(e,null)):s=null)},i(f){o||(w(t.$$.fragment,f),w(s),o=!0)},o(f){k(t.$$.fragment,f),k(s),o=!1},d(f){f&&A(e),D(t),~r&&l[r].d()}}}function Om(i,e,t){let{container:n}=e,{frameWidth:r}=e,{frameHeight:s}=e;function o(_){if(_=="global"){t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n);return}t(0,n.value={width:r/2,height:s/2,position:{x:r/2,y:s/2},rotation:0},n),t(0,n.type="rectangle",n)}const a=["global","rectangle"],l=_=>o(_.detail.value);function u(_){i.$$.not_equal(n.value.position,_)&&(n.value.position=_,t(0,n))}function f(_){i.$$.not_equal(n.value.width,_)&&(n.value.width=_,t(0,n))}function c(_){i.$$.not_equal(n.value.height,_)&&(n.value.height=_,t(0,n))}const h=_=>{n.type==="rectangle"&&t(0,n.value.rotation=_.detail%360/180*Math.PI,n)},m=_=>{n.type==="global"&&t(0,n.value.maxWidth=_.detail/100,n)},d=_=>{n.type==="global"&&t(0,n.value.maxHeight=_.detail/100,n)},p=_=>{n.type==="global"&&t(0,n.value.minHeight=_.detail/100,n)};return i.$$set=_=>{"container"in _&&t(0,n=_.container),"frameWidth"in _&&t(3,r=_.frameWidth),"frameHeight"in _&&t(4,s=_.frameHeight)},[n,o,a,r,s,l,u,f,c,h,m,d,p]}class Gm extends we{constructor(e){super(),ye(this,e,Om,xm,ve,{container:0,frameWidth:3,frameHeight:4})}}function Hm(i){let e=i[5]+"",t;return{c(){t=de(e)},l(n){t=pe(n,e)},m(n,r){O(n,t,r)},p(n,r){r&32&&e!==(e=n[5]+"")&&st(t,e)},i:qe,o:qe,d(n){n&&A(t)}}}function jm(i){let e,t;return e=new Gu({props:{size:i[2]}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Wm(i){let e,t;return e=new Uu({props:{size:i[2]}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Vm(i){let e,t;return e=new il({props:{size:i[2]}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Zm(i){let e,t;return e=new ul({props:{size:i[2]}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.size=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Xm(i){let e,t,n,r;const s=[Zm,Vm,Wm,jm,Hm],o=[];function a(l,u){return l[5]=="Top"?0:l[5]=="Bottom"?1:l[5]=="Free"?2:l[5]=="Custom"?3:4}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),n=Oe()},l(l){t.l(l),n=Oe()},m(l,u){o[e].m(l,u),O(l,n,u),r=!0},p(l,u){let f=e;e=a(l),e===f?o[e].p(l,u):(je(),k(o[f],1,1,()=>{o[f]=null}),We(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),w(t,1),t.m(n.parentNode,n))},i(l){r||(w(t),r=!0)},o(l){k(t),r=!1},d(l){o[e].d(l),l&&A(n)}}}function qm(i){let e,t;return e=new St({props:{css:{height:`${i[2]+16}px`,width:"100%",main:"flex:1;"},items:["Top","Bottom","Free","Custom"],placeholder:"Custom",value:i[0].type=="rectangle"&&i[1].baseline=="middle"?"Free":i[0].type=="global"&&i[1].baseline=="top"?"Top":i[0].type=="global"&&i[1].baseline=="bottom"?"Bottom":"Custom",$$slots:{default:[Xm,({item:n})=>({5:n}),({item:n})=>n?32:0]},$$scope:{ctx:i}}}),e.$on("change",i[3]),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,[r]){const s={};r&4&&(s.css={height:`${n[2]+16}px`,width:"100%",main:"flex:1;"}),r&3&&(s.value=n[0].type=="rectangle"&&n[1].baseline=="middle"?"Free":n[0].type=="global"&&n[1].baseline=="top"?"Top":n[0].type=="global"&&n[1].baseline=="bottom"?"Bottom":"Custom"),r&100&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Km(i,e,t){let{container:n}=e,{style:r}=e,{frame:s}=e,{iconSize:o=16}=e;function a(l){switch(l.detail.value){case"Top":{n.type!=="global"&&t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n),t(1,r.baseline="top",r);break}case"Bottom":{n.type!=="global"&&t(0,n.value={maxWidth:.95,maxHeight:.4,minHeight:.1},n),t(0,n.type="global",n),t(1,r.baseline="bottom",r);break}case"Free":{t(0,n.value={width:s.width/2,height:s.height/2,position:{x:s.width/2,y:s.height/2},rotation:0},n),t(0,n.type="rectangle",n),t(1,r.baseline="middle",r);break}}}return i.$$set=l=>{"container"in l&&t(0,n=l.container),"style"in l&&t(1,r=l.style),"frame"in l&&t(4,s=l.frame),"iconSize"in l&&t(2,o=l.iconSize)},[n,r,o,a,s]}class Ym extends we{constructor(e){super(),ye(this,e,Km,qm,ve,{container:0,style:1,frame:4,iconSize:2})}}function Jm(i){let e,t,n,r,s,o,a,l,u,f,c,h,m,d,p,_,g,$,E,y,R;return{c(){e=J("p"),t=de(`Мемейкер – редактор мемов прямо в браузере. В первую очередь он разрабатывался как простое
			средство наложения текста с обводкой на картинку. С его помощью можно быстро создать типичный
			мем с импактом и обводкой, обыграть постиронию лобстером с тенью или набросать
			многокартиночный мем, не мучаясь со слоями или кучей разных файлов в графическом редакторе.`),n=le(),r=J("p"),s=de("Стабильная версия доступна по адресу "),o=J("a"),a=de("https://robolabgs2.github.io/memaker/"),l=de(`
			Самая же свежая версия доступна здесь:
			`),u=J("a"),f=de("https://robolabgs2.github.io/memaker-prerelease/"),c=de(`. Нулевая версия редактора увидела свет 24 августа 2022 года, с тех пор редактор
			разрабатывается одним человеком в свободное время. Пожаловаться на баги или запросить фичу
			можно в обсуждениях
			`),h=J("a"),m=de("в группе ВК"),d=de(`
			или через issue
			`),p=J("a"),_=de("на гитхабе"),g=de("."),$=le(),E=J("p"),y=de("Версия: "),R=de(i[0]),this.h()},l(I){e=Q(I,"P",{class:!0});var B=re(e);t=pe(B,`Мемейкер – редактор мемов прямо в браузере. В первую очередь он разрабатывался как простое
			средство наложения текста с обводкой на картинку. С его помощью можно быстро создать типичный
			мем с импактом и обводкой, обыграть постиронию лобстером с тенью или набросать
			многокартиночный мем, не мучаясь со слоями или кучей разных файлов в графическом редакторе.`),B.forEach(A),n=ue(I),r=Q(I,"P",{class:!0});var j=re(r);s=pe(j,"Стабильная версия доступна по адресу "),o=Q(j,"A",{href:!0,target:!0,rel:!0,title:!0,class:!0});var N=re(o);a=pe(N,"https://robolabgs2.github.io/memaker/"),N.forEach(A),l=pe(j,`
			Самая же свежая версия доступна здесь:
			`),u=Q(j,"A",{href:!0,target:!0,rel:!0,title:!0,class:!0});var P=re(u);f=pe(P,"https://robolabgs2.github.io/memaker-prerelease/"),P.forEach(A),c=pe(j,`. Нулевая версия редактора увидела свет 24 августа 2022 года, с тех пор редактор
			разрабатывается одним человеком в свободное время. Пожаловаться на баги или запросить фичу
			можно в обсуждениях
			`),h=Q(j,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var oe=re(h);m=pe(oe,"в группе ВК"),oe.forEach(A),d=pe(j,`
			или через issue
			`),p=Q(j,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var C=re(p);_=pe(C,"на гитхабе"),C.forEach(A),g=pe(j,"."),j.forEach(A),$=ue(I),E=Q(I,"P",{class:!0});var T=re(E);y=pe(T,"Версия: "),R=pe(T,i[0]),T.forEach(A),this.h()},h(){L(e,"class","svelte-17axcd5"),L(o,"href","https://robolabgs2.github.io/memaker/"),L(o,"target","_blank"),L(o,"rel","noreferrer"),L(o,"title","Стабильная версия"),L(o,"class","svelte-17axcd5"),L(u,"href","https://robolabgs2.github.io/memaker-prerelease/"),L(u,"target","_blank"),L(u,"rel","noreferrer"),L(u,"title","Последняя версия"),L(u,"class","svelte-17axcd5"),L(h,"target","_blank"),L(h,"rel","noreferrer"),L(h,"title","Группа ВК"),L(h,"href","https://vk.com/memaker_app"),L(h,"class","svelte-17axcd5"),L(p,"target","_blank"),L(p,"rel","noreferrer"),L(p,"title","GitHub репозиторий"),L(p,"href","https://github.com/RobolabGs2/memaker"),L(p,"class","svelte-17axcd5"),L(r,"class","svelte-17axcd5"),L(E,"class","svelte-17axcd5")},m(I,B){O(I,e,B),H(e,t),O(I,n,B),O(I,r,B),H(r,s),H(r,o),H(o,a),H(r,l),H(r,u),H(u,f),H(r,c),H(r,h),H(h,m),H(r,d),H(r,p),H(p,_),H(r,g),O(I,$,B),O(I,E,B),H(E,y),H(E,R)},p(I,B){B&1&&st(R,I[0])},d(I){I&&A(e),I&&A(n),I&&A(r),I&&A($),I&&A(E)}}}function Qm(i){let e;return{c(){e=de("О проекте")},l(t){e=pe(t,"О проекте")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function ed(i){let e,t,n,r,s;return{c(){e=J("p"),t=de("Скоро changelog будет доступен здесь, но пока его можно посмотреть на "),n=J("a"),r=de("GitHub"),s=de("."),this.h()},l(o){e=Q(o,"P",{class:!0});var a=re(e);t=pe(a,"Скоро changelog будет доступен здесь, но пока его можно посмотреть на "),n=Q(a,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var l=re(n);r=pe(l,"GitHub"),l.forEach(A),s=pe(a,"."),a.forEach(A),this.h()},h(){L(n,"target","_blank"),L(n,"rel","noreferrer"),L(n,"title","Changelog"),L(n,"href","https://github.com/RobolabGs2/memaker/blob/main/CHANGELOG.md"),L(n,"class","svelte-17axcd5"),L(e,"class","svelte-17axcd5")},m(o,a){O(o,e,a),H(e,t),H(e,n),H(n,r),H(e,s)},p:qe,d(o){o&&A(e)}}}function td(i){let e;return{c(){e=de("История версий")},l(t){e=pe(t,"История версий")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function nd(i){let e,t,n,r,s,o,a,l,u,f,c,h,m,d,p,_,g,$,E,y,R,I,B,j,N,P,oe,C,T;function b(he){i[4](he)}let X={$$slots:{title:[Qm],default:[Jm]},$$scope:{ctx:i}};i[1]!==void 0&&(X.open=i[1]),t=new ln({props:X}),ke.push(()=>Se(t,"open",b));function be(he){i[5](he)}let x={$$slots:{title:[td],default:[ed]},$$scope:{ctx:i}};return i[2]!==void 0&&(x.open=i[2]),s=new ln({props:x}),ke.push(()=>Se(s,"open",be)),d=new Dl({props:{size:gn}}),g=new Hl({props:{size:gn}}),y=new Xl({props:{size:gn}}),B=new dl({props:{size:gn}}),P=new vl({props:{size:gn}}),{c(){e=J("main"),M(t.$$.fragment),r=le(),M(s.$$.fragment),a=le(),l=J("header"),u=de("Memaker "),f=de(i[0]),c=le(),h=J("section"),m=J("div"),M(d.$$.fragment),p=le(),_=J("div"),M(g.$$.fragment),$=le(),E=J("div"),M(y.$$.fragment),R=le(),I=J("a"),M(B.$$.fragment),j=le(),N=J("a"),M(P.$$.fragment),this.h()},l(he){e=Q(he,"MAIN",{class:!0});var te=re(e);z(t.$$.fragment,te),r=ue(te),z(s.$$.fragment,te),a=ue(te),l=Q(te,"HEADER",{class:!0});var Ee=re(l);u=pe(Ee,"Memaker "),f=pe(Ee,i[0]),Ee.forEach(A),c=ue(te),h=Q(te,"SECTION",{class:!0});var W=re(h);m=Q(W,"DIV",{title:!0,class:!0});var V=re(m);z(d.$$.fragment,V),V.forEach(A),p=ue(W),_=Q(W,"DIV",{title:!0,class:!0});var K=re(_);z(g.$$.fragment,K),K.forEach(A),$=ue(W),E=Q(W,"DIV",{title:!0,class:!0});var ee=re(E);z(y.$$.fragment,ee),ee.forEach(A),R=ue(W),I=Q(W,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var me=re(I);z(B.$$.fragment,me),me.forEach(A),j=ue(W),N=Q(W,"A",{target:!0,rel:!0,title:!0,href:!0,class:!0});var se=re(N);z(P.$$.fragment,se),se.forEach(A),W.forEach(A),te.forEach(A),this.h()},h(){L(l,"class","svelte-17axcd5"),L(m,"title","Открыть пример"),L(m,"class","svelte-17axcd5"),L(_,"title","История версий приложения"),L(_,"class","svelte-17axcd5"),L(E,"title","О проекте"),L(E,"class","svelte-17axcd5"),L(I,"target","_blank"),L(I,"rel","noreferrer"),L(I,"title","GitHub репозиторий"),L(I,"href","https://github.com/RobolabGs2/memaker"),L(I,"class","svelte-17axcd5"),L(N,"target","_blank"),L(N,"rel","noreferrer"),L(N,"title","Группа ВК"),L(N,"href","https://vk.com/memaker_app"),L(N,"class","svelte-17axcd5"),L(h,"class","svelte-17axcd5"),L(e,"class","svelte-17axcd5")},m(he,te){O(he,e,te),U(t,e,null),H(e,r),U(s,e,null),H(e,a),H(e,l),H(l,u),H(l,f),H(e,c),H(e,h),H(h,m),U(d,m,null),H(h,p),H(h,_),U(g,_,null),H(h,$),H(h,E),U(y,E,null),H(h,R),H(h,I),U(B,I,null),H(h,j),H(h,N),U(P,N,null),oe=!0,C||(T=[Re(m,"click",i[6]),Re(_,"click",i[7]),Re(E,"click",i[8])],C=!0)},p(he,[te]){const Ee={};te&513&&(Ee.$$scope={dirty:te,ctx:he}),!n&&te&2&&(n=!0,Ee.open=he[1],Te(()=>n=!1)),t.$set(Ee);const W={};te&512&&(W.$$scope={dirty:te,ctx:he}),!o&&te&4&&(o=!0,W.open=he[2],Te(()=>o=!1)),s.$set(W),(!oe||te&1)&&st(f,he[0])},i(he){oe||(w(t.$$.fragment,he),w(s.$$.fragment,he),w(d.$$.fragment,he),w(g.$$.fragment,he),w(y.$$.fragment,he),w(B.$$.fragment,he),w(P.$$.fragment,he),oe=!0)},o(he){k(t.$$.fragment,he),k(s.$$.fragment,he),k(d.$$.fragment,he),k(g.$$.fragment,he),k(y.$$.fragment,he),k(B.$$.fragment,he),k(P.$$.fragment,he),oe=!1},d(he){he&&A(e),D(t),D(s),D(d),D(g),D(y),D(B),D(P),C=!1,lt(T)}}}let gn=24;function rd(i,e,t){let{version:n}=e;const r=vt();let s=!1,o=!1;function a(h){s=h,t(1,s)}function l(h){o=h,t(2,o)}const u=()=>r("openExample"),f=()=>t(2,o=!0),c=()=>t(1,s=!0);return i.$$set=h=>{"version"in h&&t(0,n=h.version)},[n,s,o,r,a,l,u,f,c]}class id extends we{constructor(e){super(),ye(this,e,rd,nd,ve,{version:0})}}var Dr=(i=>(i[i.RADIAN=0]="RADIAN",i[i.DEGREE=1]="DEGREE",i))(Dr||{}),gt=(i=>(i[i.NUMBER=0]="NUMBER",i[i.RANGE=1]="RANGE",i))(gt||{});function Ki(i){let e,t;return{c(){e=J("div"),this.h()},l(n){e=Q(n,"DIV",{style:!0,class:!0}),re(e).forEach(A),this.h()},h(){L(e,"style",t=`width:10px;height:10px;background-color:${i[1].input.color};`),L(e,"class","svelte-1712msg")},m(n,r){O(n,e,r)},p(n,r){r&2&&t!==(t=`width:10px;height:10px;background-color:${n[1].input.color};`)&&L(e,"style",t)},d(n){n&&A(e)}}}function sd(i){let e,t,n;function r(o){i[7](o)}let s={};return i[0][i[2]]!==void 0&&(s.value=i[0][i[2]]),e=new In({props:s}),ke.push(()=>Se(e,"value",r)),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){const l={};!t&&a&5&&(t=!0,l.value=o[0][o[2]],Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function od(i){let e,t,n;return{c(){e=J("input"),this.h()},l(r){e=Q(r,"INPUT",{type:!0}),this.h()},h(){L(e,"type","color")},m(r,s){O(r,e,s),it(e,i[0][i[2]]),t||(n=Re(e,"input",i[6]),t=!0)},p(r,s){s&5&&it(e,r[0][r[2]])},i:qe,o:qe,d(r){r&&A(e),t=!1,n()}}}function ad(i){let e,t,n;function r(o){i[5](o)}let s={min:i[1].input.min??-1/0,max:i[1].input.max??1/0,step:i[1].input.step??.5};return i[0][i[2]]!==void 0&&(s.value=i[0][i[2]]),e=new ct({props:s}),ke.push(()=>Se(e,"value",r)),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){const l={};a&2&&(l.min=o[1].input.min??-1/0),a&2&&(l.max=o[1].input.max??1/0),a&2&&(l.step=o[1].input.step??.5),!t&&a&5&&(t=!0,l.value=o[0][o[2]],Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function ld(i){let e,t,n;function r(o){i[4](o)}let s={min:i[1].input.min??Number.MIN_SAFE_INTEGER,max:i[1].input.max??Number.MAX_SAFE_INTEGER,step:i[1].input.step??1,withRange:i[1].input.layout==gt.RANGE};return i[0][i[2]]!==void 0&&(s.value=i[0][i[2]]),e=new ct({props:s}),ke.push(()=>Se(e,"value",r)),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){const l={};a&2&&(l.min=o[1].input.min??Number.MIN_SAFE_INTEGER),a&2&&(l.max=o[1].input.max??Number.MAX_SAFE_INTEGER),a&2&&(l.step=o[1].input.step??1),a&2&&(l.withRange=o[1].input.layout==gt.RANGE),!t&&a&5&&(t=!0,l.value=o[0][o[2]],Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function ud(i){let e,t,n;function r(o){i[3](o)}let s={min:i[1].input.min??-1/0,max:i[1].input.max??1/0,step:i[1].input.step??.1,withRange:i[1].input.layout==gt.RANGE};return i[0][i[2]]!==void 0&&(s.value=i[0][i[2]]),e=new ct({props:s}),ke.push(()=>Se(e,"value",r)),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){const l={};a&2&&(l.min=o[1].input.min??-1/0),a&2&&(l.max=o[1].input.max??1/0),a&2&&(l.step=o[1].input.step??.1),a&2&&(l.withRange=o[1].input.layout==gt.RANGE),!t&&a&5&&(t=!0,l.value=o[0][o[2]],Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function fd(i){let e,t,n=i[1].title+"",r,s,o,a,l,u,f,c=i[1].input.type=="point"&&Ki(i);const h=[ud,ld,ad,od,sd],m=[];function d(p,_){return p[1].input.type=="float"?0:p[1].input.type=="int"?1:p[1].input.type=="angle"?2:p[1].input.type=="color"?3:p[1].input.type=="point"?4:-1}return~(a=d(i))&&(l=m[a]=h[a](i)),{c(){e=J("span"),c&&c.c(),t=le(),r=de(n),o=le(),l&&l.c(),u=Oe(),this.h()},l(p){e=Q(p,"SPAN",{title:!0,class:!0});var _=re(e);c&&c.l(_),t=ue(_),r=pe(_,n),_.forEach(A),o=ue(p),l&&l.l(p),u=Oe(),this.h()},h(){L(e,"title",s=i[1].description),L(e,"class","svelte-1712msg")},m(p,_){O(p,e,_),c&&c.m(e,null),H(e,t),H(e,r),O(p,o,_),~a&&m[a].m(p,_),O(p,u,_),f=!0},p(p,_){p[1].input.type=="point"?c?c.p(p,_):(c=Ki(p),c.c(),c.m(e,t)):c&&(c.d(1),c=null),(!f||_&2)&&n!==(n=p[1].title+"")&&st(r,n),(!f||_&2&&s!==(s=p[1].description))&&L(e,"title",s);let g=a;a=d(p),a===g?~a&&m[a].p(p,_):(l&&(je(),k(m[g],1,1,()=>{m[g]=null}),We()),~a?(l=m[a],l?l.p(p,_):(l=m[a]=h[a](p),l.c()),w(l,1),l.m(u.parentNode,u)):l=null)},i(p){f||(w(l),f=!0)},o(p){k(l),f=!1},d(p){p&&A(e),c&&c.d(),p&&A(o),~a&&m[a].d(p),p&&A(u)}}}function cd(i){let e,t;return e=new Ye({props:{$$slots:{default:[fd]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,[r]){const s={};r&263&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function hd(i,e,t){let{desc:n}=e,{value:r}=e,{name:s}=e;function o(c){i.$$.not_equal(r[s],c)&&(r[s]=c,t(0,r),t(2,s),t(1,n))}function a(c){i.$$.not_equal(r[s],c)&&(r[s]=c,t(0,r),t(2,s),t(1,n))}function l(c){i.$$.not_equal(r[s],c)&&(r[s]=c,t(0,r),t(2,s),t(1,n))}function u(){r[s]=this.value,t(0,r),t(2,s),t(1,n)}function f(c){i.$$.not_equal(r[s],c)&&(r[s]=c,t(0,r),t(2,s),t(1,n))}return i.$$set=c=>{"desc"in c&&t(1,n=c.desc),"value"in c&&t(0,r=c.value),"name"in c&&t(2,s=c.name)},i.$$.update=()=>{i.$$.dirty&7&&r[s]===void 0&&t(0,r[s]=structuredClone(n.default),r)},[r,n,s,o,a,l,u,f]}class md extends we{constructor(e){super(),ye(this,e,hd,cd,ve,{desc:1,value:0,name:2})}}function Yi(i,e,t){const n=i.slice();return n[17]=e[t],n}function pr(i){const e=i.slice(),t=e[2].value.type;e[15]=t;const n=e[1][e[15]];return e[16]=n,e}function dd(i){var n;let e=(((n=i[1][i[14]])==null?void 0:n.title)||"Добавить эффект")+"",t;return{c(){t=de(e)},l(r){t=pe(r,e)},m(r,s){O(r,t,s)},p(r,s){var o;s&16386&&e!==(e=(((o=r[1][r[14]])==null?void 0:o.title)||"Добавить эффект")+"")&&st(t,e)},d(r){r&&A(t)}}}function Ji(i){let e,t,n;function r(o){i[12](o)}let s={reverse:!0,items:i[0].map(ns),$$slots:{default:[_d,({item:o})=>({14:o}),({item:o})=>o?16384:0]},$$scope:{ctx:i}};return i[2]!==void 0&&(s.active=i[2]),e=new Sr({props:s}),ke.push(()=>Se(e,"active",r)),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){const l={};a&1&&(l.items=o[0].map(ns)),a&1064966&&(l.$$scope={dirty:a,ctx:o}),!t&&a&4&&(t=!0,l.active=o[2],Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function Qi(i){let e,t,n=i[16].inputs&&es(i);return{c(){n&&n.c(),e=Oe()},l(r){n&&n.l(r),e=Oe()},m(r,s){n&&n.m(r,s),O(r,e,s),t=!0},p(r,s){r[16].inputs?n?(n.p(r,s),s&6&&w(n,1)):(n=es(r),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(je(),k(n,1,1,()=>{n=null}),We())},i(r){t||(w(n),t=!0)},o(r){k(n),t=!1},d(r){n&&n.d(r),r&&A(e)}}}function es(i){let e,t,n,r;return t=new Tt({props:{$$slots:{default:[pd]},$$scope:{ctx:i}}}),{c(){e=J("div"),M(t.$$.fragment),this.h()},l(s){e=Q(s,"DIV",{class:!0});var o=re(e);z(t.$$.fragment,o),o.forEach(A),this.h()},h(){L(e,"class","svelte-19bln0u")},m(s,o){O(s,e,o),U(t,e,null),r=!0},p(s,o){const a={};o&1048582&&(a.$$scope={dirty:o,ctx:s}),t.$set(a)},i(s){r||(w(t.$$.fragment,s),xt(()=>{n||(n=ft(e,ht,{},!0)),n.run(1)}),r=!0)},o(s){k(t.$$.fragment,s),n||(n=ft(e,ht,{},!1)),n.run(0),r=!1},d(s){s&&A(e),D(t),s&&n&&n.end()}}}function ts(i,e){let t,n,r,s;function o(l){e[11](l)}let a={desc:e[17],name:e[17].name};return e[2].value.settings!==void 0&&(a.value=e[2].value.settings),n=new md({props:a}),ke.push(()=>Se(n,"value",o)),{key:i,first:null,c(){t=Oe(),M(n.$$.fragment),this.h()},l(l){t=Oe(),z(n.$$.fragment,l),this.h()},h(){this.first=t},m(l,u){O(l,t,u),U(n,l,u),s=!0},p(l,u){e=l;const f={};u&6&&(f.desc=e[17]),u&6&&(f.name=e[17].name),!r&&u&4&&(r=!0,f.value=e[2].value.settings,Te(()=>r=!1)),n.$set(f)},i(l){s||(w(n.$$.fragment,l),s=!0)},o(l){k(n.$$.fragment,l),s=!1},d(l){l&&A(t),D(n,l)}}}function pd(i){let e=[],t=new Map,n,r,s=i[16].inputs;const o=a=>a[17];for(let a=0;a<s.length;a+=1){let l=Yi(i,s,a),u=o(l);t.set(u,e[a]=ts(u,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=Oe()},l(a){for(let l=0;l<e.length;l+=1)e[l].l(a);n=Oe()},m(a,l){for(let u=0;u<e.length;u+=1)e[u].m(a,l);O(a,n,l),r=!0},p(a,l){l&6&&(s=a[16].inputs,je(),e=Is(e,l,o,1,a,s,t,n.parentNode,Cs,ts,n,Yi),We())},i(a){if(!r){for(let l=0;l<s.length;l+=1)w(e[l]);r=!0}},o(a){for(let l=0;l<e.length;l+=1)k(e[l]);r=!1},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&A(n)}}}function _d(i){let e,t=i[1][i[14].value.type].title+"",n,r,s,o,a,l,u;s=new Ur({props:{value:i[14].value,up:!0,down:!0,remove:!0}}),s.$on("up",i[6]),s.$on("down",i[7]),s.$on("remove",i[5]);let f=i[14].id===i[2].id&&Qi(pr(i));return{c(){e=J("section"),n=de(t),r=le(),M(s.$$.fragment),a=le(),f&&f.c(),l=Oe(),this.h()},l(c){e=Q(c,"SECTION",{class:!0});var h=re(e);n=pe(h,t),r=ue(h),z(s.$$.fragment,h),h.forEach(A),a=ue(c),f&&f.l(c),l=Oe(),this.h()},h(){L(e,"class","preview svelte-19bln0u")},m(c,h){O(c,e,h),H(e,n),H(e,r),U(s,e,null),O(c,a,h),f&&f.m(c,h),O(c,l,h),u=!0},p(c,h){(!u||h&16386)&&t!==(t=c[1][c[14].value.type].title+"")&&st(n,t);const m={};h&16384&&(m.value=c[14].value),s.$set(m),c[14].id===c[2].id?f?(f.p(pr(c),h),h&16388&&w(f,1)):(f=Qi(pr(c)),f.c(),w(f,1),f.m(l.parentNode,l)):f&&(je(),k(f,1,1,()=>{f=null}),We())},i(c){u||(w(s.$$.fragment,c),c&&xt(()=>{o||(o=ft(e,ht,{},!0)),o.run(1)}),w(f),u=!0)},o(c){k(s.$$.fragment,c),c&&(o||(o=ft(e,ht,{},!1)),o.run(0)),k(f),u=!1},d(c){c&&A(e),D(s),c&&o&&o.end(),c&&A(a),f&&f.d(c),c&&A(l)}}}function gd(i){let e,t,n,r,s,o;function a(f){i[9](f)}let l={type:"primary",hideOnClick:!0,items:i[8],placeholder:wn,$$slots:{default:[dd,({item:f})=>({14:f}),({item:f})=>f?16384:0]},$$scope:{ctx:i}};i[3]!==void 0&&(l.value=i[3]),n=new St({props:l}),ke.push(()=>Se(n,"value",a)),n.$on("change",i[4]),n.$on("change",i[10]);let u=i[0].length&&Ji(i);return{c(){e=J("article"),t=J("header"),M(n.$$.fragment),s=le(),u&&u.c(),this.h()},l(f){e=Q(f,"ARTICLE",{class:!0});var c=re(e);t=Q(c,"HEADER",{});var h=re(t);z(n.$$.fragment,h),h.forEach(A),s=ue(c),u&&u.l(c),c.forEach(A),this.h()},h(){L(e,"class","svelte-19bln0u")},m(f,c){O(f,e,c),H(e,t),U(n,t,null),H(e,s),u&&u.m(e,null),o=!0},p(f,[c]){const h={};c&1064962&&(h.$$scope={dirty:c,ctx:f}),!r&&c&8&&(r=!0,h.value=f[3],Te(()=>r=!1)),n.$set(h),f[0].length?u?(u.p(f,c),c&1&&w(u,1)):(u=Ji(f),u.c(),w(u,1),u.m(e,null)):u&&(je(),k(u,1,1,()=>{u=null}),We())},i(f){o||(w(n.$$.fragment,f),w(u),o=!0)},o(f){k(n.$$.fragment,f),k(u),o=!1},d(f){f&&A(e),D(n),u&&u.d()}}}const wn="__add__",ns=i=>({id:i,value:i});function bd(i,e,t){let{value:n}=e,{shaders:r}=e;function s(g){if(t(3,h=wn),g.detail.value===wn)return;const $=r[g.detail.value];if(!$)return;const E={};for(const R of $.inputs||[])E[R.name]=structuredClone(R.default);const y=n.push({type:g.detail.value,settings:E})-1;t(0,n),t(2,c={id:n[y],value:n[y]})}function o(g){return $=>{const E=$.detail,y=n.indexOf(E);if(y===-1){console.warn(`Not found effect in list ${E.settings.type}`);return}const R=y+g;R<0||n.length<=R||(t(0,n[y]=n[R],n),t(0,n[R]=E,n))}}function a(g){const $=g.detail,E=n.indexOf($);if(E===-1){console.warn(`Not found effect in list ${$.settings.type}`);return}if(n.splice(E,1),t(0,n),c.id===$&&n.length){const y=Math.max(0,E-1);t(2,c={id:n[y],value:n[y]})}}const l=o(1),u=o(-1),f=[...Object.keys(r),wn];let c={id:n[0],value:n[0]},h=wn;function m(g){h=g,t(3,h)}function d(g){Ce.call(this,i,g)}function p(g){i.$$.not_equal(c.value.settings,g)&&(c.value.settings=g,t(2,c),t(0,n))}function _(g){c=g,t(2,c),t(0,n)}return i.$$set=g=>{"value"in g&&t(0,n=g.value),"shaders"in g&&t(1,r=g.shaders)},i.$$.update=()=>{i.$$.dirty&5&&!c.value&&n.length&&(t(2,c.value=n[n.length-1],c),t(2,c.id=c.value,c))},[n,r,c,h,s,a,l,u,f,m,d,p,_]}class vd extends we{constructor(e){super(),ye(this,e,bd,gd,ve,{value:0,shaders:1})}}function $d(i){let e,t,n,r,s;return e=new Fs({}),{c(){M(e.$$.fragment),t=le(),n=J("span"),r=de("Новый фрейм"),this.h()},l(o){z(e.$$.fragment,o),t=ue(o),n=Q(o,"SPAN",{class:!0});var a=re(n);r=pe(a,"Новый фрейм"),a.forEach(A),this.h()},h(){L(n,"class","svelte-b3d010")},m(o,a){U(e,o,a),O(o,t,a),O(o,n,a),H(n,r),s=!0},p:qe,i(o){s||(w(e.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),s=!1},d(o){D(e,o),o&&A(t),o&&A(n)}}}function wd(i){let e,t;function n(){return i[12](i[42])}function r(){return i[13](i[42])}function s(){return i[14](i[42])}function o(){return i[15](i[42])}return e=new Ur({props:{up:!0,down:!0,remove:!0,copy:!0,value:i[42]}}),e.$on("up",n),e.$on("down",r),e.$on("remove",s),e.$on("copy",o),{c(){M(e.$$.fragment)},l(a){z(e.$$.fragment,a)},m(a,l){U(e,a,l),t=!0},p(a,l){i=a;const u={};l[1]&2048&&(u.value=i[42]),e.$set(u)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){k(e.$$.fragment,a),t=!1},d(a){D(e,a)}}}function yd(i){let e,t,n;function r(o){i[16](o,i[42])}let s={index:i[43],$$slots:{default:[wd]},$$scope:{ctx:i}};return i[2][i[42].id]!==void 0&&(s.updatePreview=i[2][i[42].id]),e=new km({props:s}),ke.push(()=>Se(e,"updatePreview",r)),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){i=o;const l={};a[1]&4096&&(l.index=i[43]),a[1]&10240&&(l.$$scope={dirty:a,ctx:i}),!t&&a[0]&4|a[1]&2048&&(t=!0,l.updatePreview=i[2][i[42].id],Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function Ed(i){let e,t,n,r,s;return e=new bu({props:{size:24}}),{c(){M(e.$$.fragment),t=le(),n=J("span"),r=de("Скачать мем"),this.h()},l(o){z(e.$$.fragment,o),t=ue(o),n=Q(o,"SPAN",{class:!0});var a=re(n);r=pe(a,"Скачать мем"),a.forEach(A),this.h()},h(){L(n,"class","svelte-b3d010")},m(o,a){U(e,o,a),O(o,t,a),O(o,n,a),H(n,r),s=!0},p:qe,i(o){s||(w(e.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),s=!1},d(o){D(e,o),o&&A(t),o&&A(n)}}}function kd(i){let e,t,n,r,s;return e=new Pl({props:{size:24}}),{c(){M(e.$$.fragment),t=le(),n=J("span"),r=de("Сохранить проект мема"),this.h()},l(o){z(e.$$.fragment,o),t=ue(o),n=Q(o,"SPAN",{class:!0});var a=re(n);r=pe(a,"Сохранить проект мема"),a.forEach(A),this.h()},h(){L(n,"class","svelte-b3d010")},m(o,a){U(e,o,a),O(o,t,a),O(o,n,a),H(n,r),s=!0},p:qe,i(o){s||(w(e.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),s=!1},d(o){D(e,o),o&&A(t),o&&A(n)}}}function Ad(i){let e,t,n,r;return e=new Ju({props:{size:24}}),{c(){M(e.$$.fragment),t=J("span"),n=de("Открыть проект мема"),this.h()},l(s){z(e.$$.fragment,s),t=Q(s,"SPAN",{class:!0});var o=re(t);n=pe(o,"Открыть проект мема"),o.forEach(A),this.h()},h(){L(t,"class","svelte-b3d010")},m(s,o){U(e,s,o),O(s,t,o),H(t,n),r=!0},p:qe,i(s){r||(w(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){D(e,s),s&&A(t)}}}function Sd(i){let e,t;return e=new rt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[Ad]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Td(i){let e,t,n,r;return e=new Eu({props:{size:24}}),{c(){M(e.$$.fragment),t=J("span"),n=de("Сменить фон"),this.h()},l(s){z(e.$$.fragment,s),t=Q(s,"SPAN",{class:!0});var o=re(t);n=pe(o,"Сменить фон"),o.forEach(A),this.h()},h(){L(t,"class","svelte-b3d010")},m(s,o){U(e,s,o),O(s,t,o),H(t,n),r=!0},p:qe,i(s){r||(w(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){D(e,s),s&&A(t)}}}function Id(i){let e,t;return e=new rt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[Td]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Cd(i){let e,t,n,r;return e=new Rs({}),{c(){M(e.$$.fragment),t=J("span"),n=de("Копировать"),this.h()},l(s){z(e.$$.fragment,s),t=Q(s,"SPAN",{class:!0});var o=re(t);n=pe(o,"Копировать"),o.forEach(A),this.h()},h(){L(t,"class","svelte-b3d010")},m(s,o){U(e,s,o),O(s,t,o),H(t,n),r=!0},p:qe,i(s){r||(w(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){D(e,s),s&&A(t)}}}function Rd(i){let e,t,n,r,s;return e=new Fs({}),{c(){M(e.$$.fragment),t=le(),n=J("span"),r=de("Новый блок"),this.h()},l(o){z(e.$$.fragment,o),t=ue(o),n=Q(o,"SPAN",{class:!0});var a=re(n);r=pe(a,"Новый блок"),a.forEach(A),this.h()},h(){L(n,"class","svelte-b3d010")},m(o,a){U(e,o,a),O(o,t,a),O(o,n,a),H(n,r),s=!0},p:qe,i(o){s||(w(e.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),s=!1},d(o){D(e,o),o&&A(t),o&&A(n)}}}function Fd(i){let e,t,n,r,s,o;return t=new Iu({}),{c(){e=J("div"),M(t.$$.fragment),n=le(),r=J("span"),s=de("Фон"),this.h()},l(a){e=Q(a,"DIV",{class:!0});var l=re(e);z(t.$$.fragment,l),n=ue(l),r=Q(l,"SPAN",{class:!0});var u=re(r);s=pe(u,"Фон"),u.forEach(A),l.forEach(A),this.h()},h(){L(r,"class","svelte-b3d010"),L(e,"class","image-preview svelte-b3d010")},m(a,l){O(a,e,l),U(t,e,null),H(e,n),H(e,r),H(r,s),o=!0},p:qe,i(a){o||(w(t.$$.fragment,a),o=!0)},o(a){k(t.$$.fragment,a),o=!1},d(a){a&&A(e),D(t)}}}function Nd(i){let e,t,n,r;const s=[Bd,Pd],o=[];function a(l,u){return l[42].id==l[1].id&&l[1].content.type=="text"?0:1}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),n=Oe()},l(l){t.l(l),n=Oe()},m(l,u){o[e].m(l,u),O(l,n,u),r=!0},p(l,u){let f=e;e=a(l),e===f?o[e].p(l,u):(je(),k(o[f],1,1,()=>{o[f]=null}),We(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),w(t,1),t.m(n.parentNode,n))},i(l){r||(w(t),r=!0)},o(l){k(t),r=!1},d(l){o[e].d(l),l&&A(n)}}}function Pd(i){let e,t;return e=new Us({props:{content:i[42].content.value}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r[1]&2048&&(s.content=n[42].content.value),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Bd(i){let e,t;return e=new Us({props:{content:i[1].content.value,$$slots:{default:[zd]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.content=n[1].content.value),r[0]&3|r[1]&10240&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}function Md(i){let e,t,n,r;function s(l){i[29](l)}function o(l){i[30](l)}let a={frame:i[0],iconSize:20};return i[1].content.value.style!==void 0&&(a.style=i[1].content.value.style),i[1].container!==void 0&&(a.container=i[1].container),e=new Ym({props:a}),ke.push(()=>Se(e,"style",s)),ke.push(()=>Se(e,"container",o)),{c(){M(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,u){U(e,l,u),r=!0},p(l,u){const f={};u[0]&1&&(f.frame=l[0]),!t&&u[0]&2&&(t=!0,f.style=l[1].content.value.style,Te(()=>t=!1)),!n&&u[0]&2&&(n=!0,f.container=l[1].container,Te(()=>n=!1)),e.$set(f)},i(l){r||(w(e.$$.fragment,l),r=!0)},o(l){k(e.$$.fragment,l),r=!1},d(l){D(e,l)}}}function zd(i){let e,t;function n(){return i[31](i[42])}function r(){return i[32](i[42])}function s(){return i[33](i[42])}return e=new Ur({props:{up:!0,down:!0,remove:!0,value:i[42],iconSize:20,$$slots:{default:[Md]},$$scope:{ctx:i}}}),e.$on("up",n),e.$on("down",r),e.$on("remove",s),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),t=!0},p(o,a){i=o;const l={};a[1]&2048&&(l.value=i[42]),a[0]&3|a[1]&8192&&(l.$$scope={dirty:a,ctx:i}),e.$set(l)},i(o){t||(w(e.$$.fragment,o),t=!0)},o(o){k(e.$$.fragment,o),t=!1},d(o){D(e,o)}}}function Ud(i){let e,t,n,r;const s=[Nd,Fd],o=[];function a(l,u){return l[42].content.type=="text"?0:1}return e=a(i),t=o[e]=s[e](i),{c(){t.c(),n=Oe()},l(l){t.l(l),n=Oe()},m(l,u){o[e].m(l,u),O(l,n,u),r=!0},p(l,u){let f=e;e=a(l),e===f?o[e].p(l,u):(je(),k(o[f],1,1,()=>{o[f]=null}),We(),t=o[e],t?t.p(l,u):(t=o[e]=s[e](l),t.c()),w(t,1),t.m(n.parentNode,n))},i(l){r||(w(t),r=!0)},o(l){k(t),r=!1},d(l){o[e].d(l),l&&A(n)}}}function Dd(i){let e,t=i[41]+"",n;return{c(){e=J("span"),n=de(t),this.h()},l(r){e=Q(r,"SPAN",{class:!0});var s=re(e);n=pe(s,t),s.forEach(A),this.h()},h(){L(e,"class","svelte-b3d010")},m(r,s){O(r,e,s),H(e,n)},p(r,s){s[1]&1024&&t!==(t=r[41]+"")&&st(n,t)},d(r){r&&A(e)}}}function Ld(i){let e,t,n;function r(o){i[39](o)}let s={shaders:i[8]};return i[1].effects!==void 0&&(s.value=i[1].effects),e=new vd({props:s}),ke.push(()=>Se(e,"value",r)),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){const l={};a[0]&256&&(l.shaders=o[8]),!t&&a[0]&2&&(t=!0,l.value=o[1].effects,Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function xd(i){let e,t,n;function r(o){i[38](o)}let s={frameHeight:i[0].height,frameWidth:i[0].width};return i[1].container!==void 0&&(s.container=i[1].container),e=new Gm({props:s}),ke.push(()=>Se(e,"container",r)),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){const l={};a[0]&1&&(l.frameHeight=o[0].height),a[0]&1&&(l.frameWidth=o[0].width),!t&&a[0]&2&&(t=!0,l.container=o[1].container,Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function Od(i){let e,t,n;function r(o){i[35](o)}let s={};return i[1].content.value!==void 0&&(s.content=i[1].content.value),e=new mm({props:s}),ke.push(()=>Se(e,"content",r)),e.$on("change",i[36]),e.$on("addPattern",i[37]),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){const l={};!t&&a[0]&2&&(t=!0,l.content=o[1].content.value,Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function Gd(i){let e,t,n,r;const s=[Od,xd,Ld],o=[];function a(l,u){return l[41]==="Текст"&&l[1].content.type=="text"?0:l[41]==="Контейнер"?1:l[41]==="Эффекты"?2:-1}return~(t=a(i))&&(n=o[t]=s[t](i)),{c(){e=J("div"),n&&n.c(),this.h()},l(l){e=Q(l,"DIV",{slot:!0});var u=re(e);n&&n.l(u),u.forEach(A),this.h()},h(){L(e,"slot","content")},m(l,u){O(l,e,u),~t&&o[t].m(e,null),r=!0},p(l,u){let f=t;t=a(l),t===f?~t&&o[t].p(l,u):(n&&(je(),k(o[f],1,1,()=>{o[f]=null}),We()),~t?(n=o[t],n?n.p(l,u):(n=o[t]=s[t](l),n.c()),w(n,1),n.m(e,null)):n=null)},i(l){r||(w(n),r=!0)},o(l){k(n),r=!1},d(l){l&&A(e),~t&&o[t].d()}}}function Hd(i){let e,t,n,r,s,o,a,l,u,f,c,h,m,d,p,_,g,$,E,y,R,I,B,j,N,P,oe,C,T,b,X,be,x,he;n=new rt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[$d]},$$scope:{ctx:i}}}),n.$on("click",i[11]);function te(se){i[17](se)}let Ee={height:"50%",items:i[5].frames,$$slots:{default:[yd,({item:se,index:$e})=>({42:se,43:$e}),({item:se,index:$e})=>[0,(se?2048:0)|($e?4096:0)]]},$$scope:{ctx:i}};i[0]!==void 0&&(Ee.active=i[0]),s=new Sr({props:Ee}),ke.push(()=>Se(s,"active",te)),s.$on("drop",rs(i[18])),l=new rt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[Ed]},$$scope:{ctx:i}}}),l.$on("click",i[19]),f=new rt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[kd]},$$scope:{ctx:i}}}),f.$on("click",i[20]),h=new Tr({props:{accept:".meme",$$slots:{default:[Sd]},$$scope:{ctx:i}}}),h.$on("change",i[21]),d=new id({props:{version:i[6]}}),d.$on("openExample",i[22]),$=new Tr({props:{accept:"image/*",typeFilter:/^image\//,$$slots:{default:[Id]},$$scope:{ctx:i}}}),$.$on("change",i[23]),y=new rt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[Cd]},$$scope:{ctx:i}}}),y.$on("click",i[24]);function W(se){i[25](se)}function V(se){i[26](se)}let K={};i[3]!==void 0&&(K.webgl=i[3]),i[4]!==void 0&&(K.ui=i[4]),B=new Tf({props:K}),ke.push(()=>Se(B,"webgl",W)),ke.push(()=>Se(B,"ui",V)),B.$on("drop",rs(i[27])),C=new rt({props:{type:"primary",justifyContent:"flex-start",$$slots:{default:[Rd]},$$scope:{ctx:i}}}),C.$on("click",i[28]);function ee(se){i[34](se)}let me={height:"25%",reverse:!0,items:i[0].blocks,$$slots:{default:[Ud,({item:se})=>({42:se}),({item:se})=>[0,se?2048:0]]},$$scope:{ctx:i}};return i[1]!==void 0&&(me.active=i[1]),b=new Sr({props:me}),ke.push(()=>Se(b,"active",ee)),x=new Ps({props:{tabs:i[1].content.type==="text"?["Текст","Контейнер","Эффекты"]:["Эффекты"],$$slots:{content:[Gd,({tab:se})=>({41:se}),({tab:se})=>[0,se?1024:0]],default:[Dd,({tab:se})=>({41:se}),({tab:se})=>[0,se?1024:0]]},$$scope:{ctx:i}}}),{c(){e=J("article"),t=J("section"),M(n.$$.fragment),r=le(),M(s.$$.fragment),a=le(),M(l.$$.fragment),u=le(),M(f.$$.fragment),c=le(),M(h.$$.fragment),m=le(),M(d.$$.fragment),p=le(),_=J("section"),g=J("header"),M($.$$.fragment),E=le(),M(y.$$.fragment),R=le(),I=J("header"),M(B.$$.fragment),P=le(),oe=J("section"),M(C.$$.fragment),T=le(),M(b.$$.fragment),be=le(),M(x.$$.fragment),this.h()},l(se){e=Q(se,"ARTICLE",{class:!0});var $e=re(e);t=Q($e,"SECTION",{class:!0});var q=re(t);z(n.$$.fragment,q),r=ue(q),z(s.$$.fragment,q),a=ue(q),z(l.$$.fragment,q),u=ue(q),z(f.$$.fragment,q),c=ue(q),z(h.$$.fragment,q),m=ue(q),z(d.$$.fragment,q),q.forEach(A),p=ue($e),_=Q($e,"SECTION",{class:!0});var Ne=re(_);g=Q(Ne,"HEADER",{class:!0});var Pe=re(g);z($.$$.fragment,Pe),E=ue(Pe),z(y.$$.fragment,Pe),Pe.forEach(A),R=ue(Ne),I=Q(Ne,"HEADER",{class:!0});var xe=re(I);z(B.$$.fragment,xe),xe.forEach(A),Ne.forEach(A),P=ue($e),oe=Q($e,"SECTION",{class:!0});var ie=re(oe);z(C.$$.fragment,ie),T=ue(ie),z(b.$$.fragment,ie),be=ue(ie),z(x.$$.fragment,ie),ie.forEach(A),$e.forEach(A),this.h()},h(){L(t,"class","svelte-b3d010"),L(g,"class","controls svelte-b3d010"),L(I,"class","canvas svelte-b3d010"),L(_,"class","svelte-b3d010"),L(oe,"class","svelte-b3d010"),L(e,"class","svelte-b3d010")},m(se,$e){O(se,e,$e),H(e,t),U(n,t,null),H(t,r),U(s,t,null),H(t,a),U(l,t,null),H(t,u),U(f,t,null),H(t,c),U(h,t,null),H(t,m),U(d,t,null),H(e,p),H(e,_),H(_,g),U($,g,null),H(g,E),U(y,g,null),H(_,R),H(_,I),U(B,I,null),H(e,P),H(e,oe),U(C,oe,null),H(oe,T),U(b,oe,null),H(oe,be),U(x,oe,null),he=!0},p(se,$e){const q={};$e[1]&8192&&(q.$$scope={dirty:$e,ctx:se}),n.$set(q);const Ne={};$e[0]&32&&(Ne.items=se[5].frames),$e[0]&4|$e[1]&14336&&(Ne.$$scope={dirty:$e,ctx:se}),!o&&$e[0]&1&&(o=!0,Ne.active=se[0],Te(()=>o=!1)),s.$set(Ne);const Pe={};$e[1]&8192&&(Pe.$$scope={dirty:$e,ctx:se}),l.$set(Pe);const xe={};$e[1]&8192&&(xe.$$scope={dirty:$e,ctx:se}),f.$set(xe);const ie={};$e[1]&8192&&(ie.$$scope={dirty:$e,ctx:se}),h.$set(ie);const Xe={};$e[0]&64&&(Xe.version=se[6]),d.$set(Xe);const v={};$e[1]&8192&&(v.$$scope={dirty:$e,ctx:se}),$.$set(v);const ne={};$e[1]&8192&&(ne.$$scope={dirty:$e,ctx:se}),y.$set(ne);const Y={};!j&&$e[0]&8&&(j=!0,Y.webgl=se[3],Te(()=>j=!1)),!N&&$e[0]&16&&(N=!0,Y.ui=se[4],Te(()=>N=!1)),B.$set(Y);const F={};$e[1]&8192&&(F.$$scope={dirty:$e,ctx:se}),C.$set(F);const S={};$e[0]&1&&(S.items=se[0].blocks),$e[0]&3|$e[1]&10240&&(S.$$scope={dirty:$e,ctx:se}),!X&&$e[0]&2&&(X=!0,S.active=se[1],Te(()=>X=!1)),b.$set(S);const G={};$e[0]&2&&(G.tabs=se[1].content.type==="text"?["Текст","Контейнер","Эффекты"]:["Эффекты"]),$e[0]&259|$e[1]&9216&&(G.$$scope={dirty:$e,ctx:se}),x.$set(G)},i(se){he||(w(n.$$.fragment,se),w(s.$$.fragment,se),w(l.$$.fragment,se),w(f.$$.fragment,se),w(h.$$.fragment,se),w(d.$$.fragment,se),w($.$$.fragment,se),w(y.$$.fragment,se),w(B.$$.fragment,se),w(C.$$.fragment,se),w(b.$$.fragment,se),w(x.$$.fragment,se),he=!0)},o(se){k(n.$$.fragment,se),k(s.$$.fragment,se),k(l.$$.fragment,se),k(f.$$.fragment,se),k(h.$$.fragment,se),k(d.$$.fragment,se),k($.$$.fragment,se),k(y.$$.fragment,se),k(B.$$.fragment,se),k(C.$$.fragment,se),k(b.$$.fragment,se),k(x.$$.fragment,se),he=!1},d(se){se&&A(e),D(n),D(s),D(l),D(f),D(h),D(d),D($),D(y),D(B),D(C),D(b),D(x)}}}function Un(i){i.preventDefault()}function rs(i){return e=>{var r;e.preventDefault();const t=(r=e.dataTransfer)==null?void 0:r.files;if(!t)return;const n=Array.from(t).filter(s=>{var o;return(o=s.type)==null?void 0:o.match(/^image/)});n.length&&i(n)}}function jd(i,e,t){let{meme:n}=e,{frame:r}=e,{block:s}=e,{previews:o={}}=e,{canvasWebgl:a}=e,{canvasUI:l}=e,{version:u}=e,{memeExampleURL:f}=e,{effectsShaders:c}=e;const h=vt();function m(q){h("changeBackground",{file:q})}function d(q){var xe,ie;const Ne=document.activeElement;if(Ne instanceof HTMLInputElement||Ne instanceof HTMLTextAreaElement)return;const Pe=(xe=q.clipboardData)==null?void 0:xe.items;if(Pe)for(let Xe=0;Xe<Pe.length;Xe++){const v=Pe[Xe];if(!((ie=v.type)!=null&&ie.match(/^image/)))continue;const ne=v.getAsFile();ne&&m(ne);return}}hn(()=>(document.addEventListener("paste",d),document.addEventListener("dragover",Un),document.addEventListener("drop",Un),()=>{document.removeEventListener("paste",d),document.removeEventListener("dragover",Un),document.removeEventListener("drop",Un)}));const p=()=>h("createFrame"),_=q=>h("shiftFrame",{frame:q,shift:-1}),g=q=>h("shiftFrame",{frame:q,shift:1}),$=q=>h("deleteFrame",{frame:q}),E=q=>h("createFrame",{origin:q});function y(q,Ne){i.$$.not_equal(o[Ne.id],q)&&(o[Ne.id]=q,t(2,o))}function R(q){r=q,t(0,r)}const I=q=>h("framesFromImages",{files:q}),B=()=>h("renderMeme",{meme:n}),j=()=>h("saveMeme",{meme:n}),N=q=>h("openMeme",{file:q.detail[0]}),P=()=>fetch(f).then(q=>q.blob()).then(q=>h("openMeme",{file:q})),oe=q=>m(q.detail[0]),C=()=>h("frameToClipboard",{frame:r});function T(q){a=q,t(3,a)}function b(q){l=q,t(4,l)}const X=q=>h("changeBackground",{file:q[0]}),be=()=>h("createBlock");function x(q){i.$$.not_equal(s.content.value.style,q)&&(s.content.value.style=q,t(1,s))}function he(q){i.$$.not_equal(s.container,q)&&(s.container=q,t(1,s))}const te=q=>h("shiftBlock",{block:q,shift:1}),Ee=q=>h("shiftBlock",{block:q,shift:-1}),W=q=>h("deleteBlock",{block:q});function V(q){s=q,t(1,s)}function K(q){i.$$.not_equal(s.content.value,q)&&(s.content.value=q,t(1,s))}function ee(q){Ce.call(this,i,q)}function me(q){Ce.call(this,i,q)}function se(q){i.$$.not_equal(s.container,q)&&(s.container=q,t(1,s))}function $e(q){i.$$.not_equal(s.effects,q)&&(s.effects=q,t(1,s))}return i.$$set=q=>{"meme"in q&&t(5,n=q.meme),"frame"in q&&t(0,r=q.frame),"block"in q&&t(1,s=q.block),"previews"in q&&t(2,o=q.previews),"canvasWebgl"in q&&t(3,a=q.canvasWebgl),"canvasUI"in q&&t(4,l=q.canvasUI),"version"in q&&t(6,u=q.version),"memeExampleURL"in q&&t(7,f=q.memeExampleURL),"effectsShaders"in q&&t(8,c=q.effectsShaders)},[r,s,o,a,l,n,u,f,c,h,m,p,_,g,$,E,y,R,I,B,j,N,P,oe,C,T,b,X,be,x,he,te,Ee,W,V,K,ee,me,se,$e]}class Wd extends we{constructor(e){super(),ye(this,e,jd,Hd,ve,{meme:5,frame:0,block:1,previews:2,canvasWebgl:3,canvasUI:4,version:6,memeExampleURL:7,effectsShaders:8},null,[-1,-1])}}function Vd(i){let e,t,n;const r=i[2].default,s=Me(r,i,i[1],null);return{c(){e=J("div"),s&&s.c(),this.h()},l(o){e=Q(o,"DIV",{style:!0,class:!0});var a=re(e);s&&s.l(a),a.forEach(A),this.h()},h(){L(e,"style",t=is(i[0])),L(e,"class","svelte-18sulqr")},m(o,a){O(o,e,a),s&&s.m(e,null),n=!0},p(o,[a]){s&&s.p&&(!n||a&2)&&ze(s,r,o,o[1],n?De(r,o[1],a,null):Ue(o[1]),null),(!n||a&1&&t!==(t=is(o[0])))&&L(e,"style",t)},i(o){n||(w(s,o),n=!0)},o(o){k(s,o),n=!1},d(o){o&&A(e),s&&s.d(o)}}}function is(i){return Object.entries(i).map(([e,t])=>`--${e.split(new RegExp("(?<=[a-z])(?=[A-Z])")).map(r=>r.toLowerCase()).join("-")}: ${t};`).join("")}function Zd(i,e,t){let{$$slots:n={},$$scope:r}=e,{theme:s}=e;return i.$$set=o=>{"theme"in o&&t(0,s=o.theme),"$$scope"in o&&t(1,r=o.$$scope)},[s,r,n]}class Xd extends we{constructor(e){super(),ye(this,e,Zd,Vd,ve,{theme:0})}}const qd={textSecondary:"white",secondary:"#34352F",secondaryHover:"#3E3D32",secondaryActive:"#272822",borderSecondary:"1px solid #111111",borderSecondaryHover:"1px solid #222222",borderSecondaryActive:"1px solid #aaaaaa",border:"none",textError:"#ff0000"},ss=An(qd);class Kd{constructor(e,t,n,r){Fe(this,"position",{x:0,y:0});Fe(this,"moveStart");Fe(this,"ctrl",!1);Fe(this,"shift",!1);this.canvas=e,e.addEventListener("touchmove",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&s.preventDefault(),r()}),e.addEventListener("mousemove",s=>{const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()}),e.addEventListener("touchstart",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.pressed||(this.moveStart={...this.position},t(this.moveStart,this)?s.preventDefault():this.moveStart=void 0),this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()},{passive:!0}),e.addEventListener("mousedown",s=>{if(s.button!==0)return;const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.pressed||(this.moveStart={...this.position},t(this.moveStart,this)),this.ctrl=s.ctrlKey,this.shift=s.shiftKey,r()}),e.addEventListener("touchend",s=>{const o=this.scale,{x:a,y:l}=this.posFromTouchEvent(s);this.position.x=a*o,this.position.y=l*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&(n(this.moveStart,this.position,this)&&s.preventDefault(),this.moveStart=void 0),s.preventDefault(),r()}),e.addEventListener("mouseup",s=>{if(s.button!==0)return;const o=this.scale;this.position.x=s.offsetX*o,this.position.y=s.offsetY*o,this.ctrl=s.ctrlKey,this.shift=s.shiftKey,this.moveStart&&(n(this.moveStart,this.position,this),this.moveStart=void 0),r()})}get pressed(){return this.moveStart!==void 0}get scale(){const e=this.canvas;return e.width/e.clientWidth}get realSize(){return{width:this.canvas.clientWidth,height:this.canvas.clientHeight}}posFromTouchEvent(e){return this.posFromTouch(e.changedTouches[0])}posFromTouch(e){const t=this.canvas.getBoundingClientRect(),n=e.pageX-t.x,r=e.pageY-t.y;return{x:n,y:r}}}function os(i,e){return{x:e.x-i.x,y:e.y-i.y}}function Yd(i,e,t=0){return Math.abs(i.x-e.x)<=t&&Math.abs(i.y-e.y)<=t}class Jd{constructor(e,t,n){Fe(this,"sprites",new Array);Fe(this,"cursor");Fe(this,"dragAndDrop");Fe(this,"hoveredSprite");this.dragDropSystemSource=t,this.onupdate=n,this.cursor=new Kd(e,()=>{if(this.dragAndDrop)return!0;if(!this.hoveredSprite)return!1;const r=this.dragDropSystemSource(this.hoveredSprite);return r?(this.dragAndDrop={sprite:this.hoveredSprite,system:r,lastPosition:{x:NaN,y:NaN}},!0):!1},(r,s)=>{if(!this.dragAndDrop)return!1;const o=this.dragAndDrop.system;return this.dragAndDrop=void 0,o.drop(r,s,this.cursor),!0},()=>this.update())}add(e){return this.sprites.push(e),e}delete(e){const t=this.sprites.indexOf(e);t!==-1&&this.sprites.splice(t,1)}clear(){var e;(e=this.dragAndDrop)==null||e.system.drop(this.cursor.moveStart,this.cursor.position,this.cursor),this.dragAndDrop=void 0,this.hoveredSprite=void 0,this.sprites.length=0}update(){var t,n;if(this.dragAndDrop){Yd(this.cursor.position,this.dragAndDrop.lastPosition,.001)||(this.dragAndDrop.system.move(this.cursor.moveStart,this.cursor.position,this.cursor),this.dragAndDrop.lastPosition.x=this.cursor.position.x,this.dragAndDrop.lastPosition.y=this.cursor.position.y,(t=this.onupdate)==null||t.call(this));return}const e=this.hoveredSprite;this.hoveredSprite=void 0;for(let r=this.sprites.length-1;r>=0;r--){const s=this.sprites[r];if(s.interactive&&s.contains(this.cursor.position)){this.hoveredSprite=s;break}}e!==this.hoveredSprite&&((n=this.onupdate)==null||n.call(this))}draw(e){this.sprites.forEach(t=>{e.save(),t.draw(e,this.spriteState(t)),e.restore()})}spriteState(e){var t;return((t=this.dragAndDrop)==null?void 0:t.sprite)===e?"active":this.hoveredSprite===e?"hover":"default"}}class at{constructor(){Fe(this,"data",[[0,0,0],[0,0,0],[0,0,0]])}static Zero(){return new at}static Ident(){const e=new at;return e.data[0][0]=1,e.data[1][1]=1,e.data[2][2]=1,e}static RotationAround(e,t){return at.Translate({x:-e.x,y:-e.y}).Multiply(this.Rotation(t)).Multiply(at.Translate(e))}static Rotation(e){const t=Math.sin(e),n=Math.cos(e);return this.RotationCosSin(n,t)}static RotationCosSin(e,t){const n=at.Ident();return n.data[0][0]=e,n.data[0][1]=t,n.data[1][0]=-t,n.data[1][1]=e,n}static Translate(e,t){const n=at.Ident();if(typeof e=="number"&&typeof t=="number")n.data[2][0]=e,n.data[2][1]=t;else if(typeof e!="number"){const r=e;n.data[2][0]=r.x,n.data[2][1]=r.y}else throw new Error(`Unexpected type combination in Matrix.Translate: x: ${typeof e}, y: ${typeof t}`);return n}Get(e,t){return this.data[e][t]}Set(e,t,n){this.data[e][t]=n}Multiply(e){const t=at.Zero();for(let n=0;n<3;++n)for(let r=0;r<3;++r)for(let s=0;s<3;++s)t.data[n][r]+=this.data[n][s]*e.data[s][r];return t}Transform(e,t={x:0,y:0}){const n=this.Get(0,0)*e.x+this.Get(1,0)*e.y+this.Get(2,0),r=this.Get(0,1)*e.x+this.Get(1,1)*e.y+this.Get(2,1),s=this.Get(0,2)*e.x+this.Get(1,2)*e.y+this.Get(2,2);return t.x=n/s,t.y=r/s,t}}class Lr{constructor(e,t,n){Fe(this,"normal");Fe(this,"normalization");this.a=e,this.b=t,this.c=n;const r=Math.sqrt(e*e+t*t);this.normal={x:e/r,y:t/r},this.normalization=r}static byTwoPoints({x:e,y:t},{x:n,y:r}){return new Lr(t-r,n-e,e*r-n*t)}onLine(e){return Math.abs(this.rawDistance(e))<1e-15}sign(e){return Math.sign(this.rawDistance(e))}rawDistance({x:e,y:t}){return this.a*e+this.b*t+this.c}distance(e){const t=this.rawDistance(e);return Math.abs(t)/this.normalization}projection(e){const t=this.rawDistance(e)/this.normalization;return{x:e.x-this.normal.x*t,y:e.y-this.normal.y*t}}}class as{constructor(e,t){Fe(this,"line");this.p1=e,this.p2=t,this.line=Lr.byTwoPoints(e,t)}get left(){return Math.min(this.p1.x,this.p2.x)}get right(){return Math.max(this.p1.x,this.p2.x)}}class Cn{constructor(e){Fe(this,"edges");this.points=e,this.edges=new Array(e.length),this.updateEdges()}updateEdges(){const e=this.points;for(let t=0;t<e.length-1;t++)this.edges[t]=new as(e[t],e[t+1]);this.edges[e.length-1]=new as(e[e.length-1],e[0])}transform(e){const t=this.points,n=t.length;for(let r=0;r<n;r++)e.Transform(t[r],t[r]);this.updateEdges()}transformCopy(e){return new Cn(this.points.map(t=>e.Transform(t)))}contains(e){let t=0;const n=this.edges.length;for(let r=0;r<n;r++){const s=this.edges[r];e.x<=s.left||e.x>s.right||(t+=s.line.sign(e))}return t!=0}center(){const e=this.points,t=e.length;let n=0,r=0;for(let s=0;s<t;s++)n+=e[s].x,r+=e[s].y;return{x:n/t,y:r/t}}area(){let e=0;const t=this.points.length-1,n=this.points;for(let r=0;r<t;r++)e+=n[r].x*n[r+1].x-n[r+1].y*n[r].y;return e+=n[t].x*n[0].y-n[0].x*n[t].y,e/2}repair(){this.area()<0&&this.points.reverse()}}class Ds{constructor(e=!1,t){this.interactive=e,this.settings=t}draw(e,t){const n=this.settings.fill[t],r=this.settings.stroke[t];this.makePath(e,t),n&&(e.fillStyle=n,e.fill()),r&&(e.strokeStyle=r,e.stroke())}}class Ls extends Ds{constructor(e=new zt,t=!1,n){super(t,n),this.transform=e}getPolygon(){return this.localPolygon().transformCopy(this.transform.matrix())}makePath(e){tp(e,this.getPolygon())}contains(e){return this.getPolygon().contains(e)}}class jt extends Ls{constructor(e,t=new zt,n=!1,r){super(t,n,r),this.polygon=e}localPolygon(){return this.polygon}}class ls extends Ls{constructor(e,t=new zt,n=!1,r){super(t,n,r),this.localPolygon=e}}function Wt(i,e){const t=i/2,n=e/2;return new Cn([{x:-t,y:-n},{x:t,y:-n},{x:t,y:n},{x:-t,y:n}])}class zt{constructor(e=0,t=0,n=0,r){this.x=e,this.y=t,this.rotate=n,this.parent=r}matrix(){const e=at.Rotation(this.rotate).Multiply(at.Translate(this));return this.parent?e.Multiply(this.parent.matrix()):e}rotation(){const e=this.rotate;return this.parent?e+this.parent.rotation():e}}class bn{constructor(e=()=>0,t=()=>0,n=()=>0,r){this.xSource=e,this.ySource=t,this.rotateSource=n,this.parent=r}get rotate(){return this.rotateSource()}get x(){return this.xSource()}get y(){return this.ySource()}matrix(){const e=at.Rotation(this.rotate).Multiply(at.Translate(this));return this.parent?e.Multiply(this.parent.matrix()):e}rotation(){const e=this.rotate;return this.parent?e+this.parent.rotation():e}}function Qd(i,e){const t=e/3,n=t/2,r=[{x:i-n-2*t,y:n},{x:-n,y:n},{x:-n,y:-n},{x:i-n-2*t,y:-n},{x:i-n-3*t,y:-n-t},{x:i-n,y:0},{x:i-n-3*t,y:+n+t}];return new Cn(r)}function ep(i,e,t){const n=t/3,r=n/2,s=e/(Math.PI/45)|0,o=e/s,a=[],l=[],u=i-r,f=i+r;for(let m=0;m<s;m++){const d=Math.cos(o*m),p=Math.sin(o*m),_=d*u,g=p*u;a.push({x:_,y:g});const $=d*f,E=p*f;l.push({x:$,y:E})}const c=[{x:-t,y:+r+n},{x:t,y:0},{x:-t,y:-r-n}],h=at.Rotation(Math.PI/2).Multiply(at.Translate({x:i,y:0})).Multiply(at.RotationAround({x:0,y:0},e));return new Cn([...a,...c.map(m=>h.Transform(m,m)),...l.reverse()])}function tp(i,e){i.beginPath(),i.moveTo(e.points[0].x,e.points[0].y),e.points.forEach(t=>i.lineTo(t.x,t.y)),i.closePath()}class np extends Ds{constructor(e,t,n=!1,r){super(n,r),this.circle=e,this.width=t}makePath(e,t){const n=t=="hover"?this.width:this.width/2,r=this.circle.radius-n/2,s=r+n,{x:o,y:a}=this.circle.center;r<=0||(e.beginPath(),e.arc(o,a,r,0,2*Math.PI,!1),e.moveTo(o+s,a),e.arc(o,a,s,0,2*Math.PI,!0),e.closePath())}contains(e){const t=e.x-this.circle.center.x,n=e.y-this.circle.center.y,r=Math.sqrt(t*t+n*n);return Math.abs(this.circle.radius-r)<this.width/2}}class rp{constructor(e,t,n,r,s,o){Fe(this,"ctx");Fe(this,"sprites");Fe(this,"handlers",new Map);Fe(this,"selectors",new Map);Fe(this,"activeBlockId","");Fe(this,"activeContainerType","");Fe(this,"draw",_r(()=>{const e=this.ctx.canvas,t=this.cursor.realSize;e.width!==t.width&&(e.width=t.width),e.height!==t.height&&(e.height=t.height),this.ctx.clearRect(0,0,e.width,e.height),this.ctx.save(),this.ctx.scale(1/this.cursor.scale,1/this.cursor.scale),this.sprites.draw(this.ctx),this.ctx.restore()}));Fe(this,"effectsHandlers",new Map);Fe(this,"effectToSprite",new Map);this.effectsShaders=o,this.ctx=e.getContext("2d");let a=!1;this.sprites=new Jd(t,l=>{var m,d;const u=this.selectors.get(l);if(u)return{move(){},drop(){s.set(r.value.blocks.find(({id:p})=>u===p))}};const f=(m=this.effectsHandlers.get(l))==null?void 0:m();if(f)return{move:_r((p,_,g)=>{f(p,_,g),a=!0,s.set(s.value),a=!1}),drop(p,_,g){f(p,_,g),a=!0,s.set(s.value),a=!1}};const c=s.value.container;if(!this.activeBlockId||c.type!=="rectangle")return;const h=(d=this.handlers.get(l))==null?void 0:d(c.value);if(h)return{move:_r((p,_,g)=>{c.value=h(p,_,g),a=!0,s.set(s.value),a=!1}),drop(p,_,g){c.value=h(p,_,g),a=!0,s.set(s.value),a=!1}}},()=>this.draw()),n.subscribe(()=>{this.activeBlockId=""}),r.subscribe(()=>{a||this.draw()}),s.subscribe(l=>{if(a||this.draw(),l.id==this.activeBlockId&&l.container.type==this.activeContainerType){const u=new Map(this.effectToSprite);l.effects.forEach(f=>{if(u.has(f)){u.delete(f);return}this.setupEffect(f)});for(const[f,c]of u)c.forEach(h=>this.effectsHandlers.delete(h)),c.forEach(h=>this.sprites.delete(h)),this.effectToSprite.delete(f);return}this.activeBlockId=l.id,this.activeContainerType=l.container.type,this.setup(r.value.blocks,l),l.effects.forEach(u=>this.setupEffect(u))})}get cursor(){return this.sprites.cursor}setupEffect(e){const t=8*this.cursor.scale,n=this.effectsShaders[e.type];if(!n||!n.inputs)return;let r;const s=[];let o;for(const l of n.inputs)l.input.type=="point"?(s.push(l),l.name=="center"&&(r=l)):l.name=="radius"&&l.input.type=="float"&&(o=l);const a=e.settings;for(const l of s)this.addEffectModifier(new jt(Wt(t*2,t*2),new bn(()=>e.settings[l.name].x,()=>e.settings[l.name].y,()=>Math.PI/4),!0,Pt(l.input.type=="point"?l.input.color:"#000000")),e,()=>(u,f)=>(e.settings[l.name].x=f.x|0,e.settings[l.name].y=f.y|0,!0));r&&o&&this.addEffectModifier(new np(a,t,!0,Pt(r.input.type=="point"?r.input.color:"#000000")),e,()=>(l,u)=>{const f=u.x-e.settings.center.x,c=u.y-e.settings.center.y,h=Math.sqrt(f*f+c*c);return e.settings.radius=h|0,!0})}clear(){this.selectors.clear(),this.handlers.clear(),this.sprites.clear()}setup(e,t){const n=this.ctx.canvas,r=this.cursor.realSize;if(n.width!==r.width&&(n.width=r.width),n.height!==r.height&&(n.height=r.height),this.clear(),e.forEach(m=>{m===t||m.container.type!=="rectangle"||this.addSelector(m.id,m.container.value)}),t.container.type!=="rectangle")return;const s=new ls(()=>Wt(t.container.value.width,t.container.value.height),new bn(()=>t.container.value.position.x,()=>t.container.value.position.y,()=>t.container.value.rotation),!0,{fill:{},stroke:{default:"#aaaa00 "}}),o=this.sprites.add(s),a=18*this.cursor.scale,l=Qd(a*7,a*1.4),u=new bn(()=>0,()=>0,()=>this.cursor.ctrl?-o.transform.rotation():0,o.transform),f=new jt(l,new zt(0,0,0,u),!0,Pt("#0000ff")),c=new jt(l,new zt(0,0,-Math.PI/2,u),!0,Pt("#ff0000"));this.addModifier(f,us(f)),this.addModifier(c,us(c)),this.addModifier(new jt(Wt(a*2,a*2),new zt(0,0,0,o.transform),!0,Pt("#ff00ff")),m=>(d,p)=>{const _=p.x-d.x,g=p.y-d.y,{x:$,y:E}=m.position;return{...m,position:{x:$+_|0,y:E+g|0}}});const h=new jt(ep(4*a,Math.PI*1.5,a*1.5),new zt(0,0,-Math.PI/4,o.transform),!0,Pt("#00ff00"));this.addModifier(h,ip),[{dim:"width",dir:{x:1,y:0}},{dim:"width",dir:{x:-1,y:0}},{dim:"height",dir:{x:0,y:1}},{dim:"height",dir:{x:0,y:-1}}].forEach(({dim:m,dir:d})=>{const p=m==="height"?()=>Wt(t.container.value.width-a,a):()=>Wt(a,t.container.value.height-a);this.addModifier(new ls(p,new bn(()=>d.x*t.container.value.width/2,()=>d.y*t.container.value.height/2,()=>0,o.transform),!0,Pt("#ff9900")),sp(m,d))}),[{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}].forEach(m=>{this.addModifier(new jt(Wt(a,a),new bn(()=>m.x*t.container.value.width/2,()=>m.y*t.container.value.height/2,()=>0,o.transform),!0,Pt("#ff99ff")),op(m))})}addSelector(e,t){const n=this.sprites.add(new jt(Wt(t.width,t.height),new zt(t.position.x,t.position.y,t.rotation),!0,{fill:{hover:"#aaaaaa22",active:"#aaaaaa44"},stroke:{hover:"#aaaaaa99",active:"#aaaaaa"}}));this.selectors.set(n,e)}addModifier(e,t){this.handlers.set(this.sprites.add(e),t)}addEffectModifier(e,t,n){this.effectsHandlers.set(this.sprites.add(e),n),this.effectToSprite.has(t)?this.effectToSprite.get(t).push(e):this.effectToSprite.set(t,[e])}}function ip(i){const{rotation:e}=i,t=i.position;return(n,r,s)=>{const o=os(t,n),a=os(t,r),l=Math.atan2(o.y,o.x),u=Math.atan2(a.y,a.x),f=Math.PI/180*1;let c=Math.round((u-l)/f)*f;const h=Math.PI/4;return s.shift&&(c=(c/h|0)*h),{...i,rotation:s.ctrl?c:e+c}}}function Pt(i){return{fill:{default:`${i}44`,hover:`${i}99`,active:`${i}`},stroke:{default:`${i}44`,hover:`${i}99`,active:`${i}`}}}function sp(i,e){return t=>(n,r,s)=>{const o=r.x-n.x,a=r.y-n.y,l=at.Rotation(t.rotation).Transform(e);let u=o*l.x+a*l.y|0;return s.shift&&(u=(u/10|0)*10),s.ctrl?{...t,position:{x:t.position.x+l.x*u/2,y:t.position.y+l.y*u/2},[i]:t[i]+u}:{...t,[i]:t[i]+2*u}}}function op(i){return e=>(t,n,r)=>{const s=n.x-t.x,o=n.y-t.y,a=at.Rotation(e.rotation).Transform({x:0,y:i.y}),l=at.Rotation(e.rotation).Transform({x:i.x,y:0});let u=s*a.x+o*a.y|0,f=s*l.x+o*l.y|0;return r.shift&&(u=f=Math.max(u,f)),r.ctrl?{...e,position:{x:e.position.x+a.x*u/2+l.x*f/2,y:e.position.y+a.y*u/2+l.y*f/2},height:e.height+u,width:e.width+f}:{...e,height:e.height+2*u,width:e.width+2*f}}}function us(i){return e=>(t,n,r)=>{const s=n.x-t.x,o=n.y-t.y,{x:a,y:l}=e.position,u=at.Rotation(i.transform.rotation()).Transform({x:1,y:0});let f=s*u.x+o*u.y;return r.shift&&(f=(f/10|0)*10),{...e,position:{x:a+u.x*f,y:l+u.y*f}}}}function _r(i){let e=0;return(...t)=>{e||(e=requestAnimationFrame(()=>{e=0,i.apply(void 0,t)}))}}class xs{constructor(e){Fe(this,"i",0);this.prefix=e}generate(){return`${this.prefix}-${this.i++}`}}function yn(i,e){const t=URL.createObjectURL(i);return e(t).finally(()=>URL.revokeObjectURL(t))}function Os(i){return new Promise((e,t)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=function(){return e(n)},n.onerror=function(){return t(new Error(`Can't load image ${i}`))},n.src=i})}function fs(i){return e=>{const t=document.createElement("a");t.download=i,t.href=URL.createObjectURL(e),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href)}}/* @license twgl.js 5.3.0 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */let er=Float32Array;function Ut(i,e,t){const n=new er(3);return i&&(n[0]=i),e&&(n[1]=e),t&&(n[2]=t),n}function ap(i,e,t){return t=t||new er(3),t[0]=i[0]-e[0],t[1]=i[1]-e[1],t[2]=i[2]-e[2],t}function cs(i,e,t){t=t||new er(3);const n=i[2]*e[0]-i[0]*e[2],r=i[0]*e[1]-i[1]*e[0];return t[0]=i[1]*e[2]-i[2]*e[1],t[1]=n,t[2]=r,t}function gr(i,e){e=e||new er(3);const t=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],n=Math.sqrt(t);return n>1e-5?(e[0]=i[0]/n,e[1]=i[1]/n,e[2]=i[2]/n):(e[0]=0,e[1]=0,e[2]=0),e}let Je=Float32Array;function lp(i){const e=Je;return Je=i,e}function up(i,e){return e=e||new Je(16),e[0]=-i[0],e[1]=-i[1],e[2]=-i[2],e[3]=-i[3],e[4]=-i[4],e[5]=-i[5],e[6]=-i[6],e[7]=-i[7],e[8]=-i[8],e[9]=-i[9],e[10]=-i[10],e[11]=-i[11],e[12]=-i[12],e[13]=-i[13],e[14]=-i[14],e[15]=-i[15],e}function fp(){return new Je(16).fill(0)}function Gs(i,e){return e=e||new Je(16),e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],e}function Hs(i){return i=i||new Je(16),i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function cp(i,e){if(e=e||new Je(16),e===i){let $;return $=i[1],i[1]=i[4],i[4]=$,$=i[2],i[2]=i[8],i[8]=$,$=i[3],i[3]=i[12],i[12]=$,$=i[6],i[6]=i[9],i[9]=$,$=i[7],i[7]=i[13],i[13]=$,$=i[11],i[11]=i[14],i[14]=$,e}const t=i[0*4+0],n=i[0*4+1],r=i[0*4+2],s=i[0*4+3],o=i[1*4+0],a=i[1*4+1],l=i[1*4+2],u=i[1*4+3],f=i[2*4+0],c=i[2*4+1],h=i[2*4+2],m=i[2*4+3],d=i[3*4+0],p=i[3*4+1],_=i[3*4+2],g=i[3*4+3];return e[0]=t,e[1]=o,e[2]=f,e[3]=d,e[4]=n,e[5]=a,e[6]=c,e[7]=p,e[8]=r,e[9]=l,e[10]=h,e[11]=_,e[12]=s,e[13]=u,e[14]=m,e[15]=g,e}function js(i,e){e=e||new Je(16);const t=i[0*4+0],n=i[0*4+1],r=i[0*4+2],s=i[0*4+3],o=i[1*4+0],a=i[1*4+1],l=i[1*4+2],u=i[1*4+3],f=i[2*4+0],c=i[2*4+1],h=i[2*4+2],m=i[2*4+3],d=i[3*4+0],p=i[3*4+1],_=i[3*4+2],g=i[3*4+3],$=h*g,E=_*m,y=l*g,R=_*u,I=l*m,B=h*u,j=r*g,N=_*s,P=r*m,oe=h*s,C=r*u,T=l*s,b=f*p,X=d*c,be=o*p,x=d*a,he=o*c,te=f*a,Ee=t*p,W=d*n,V=t*c,K=f*n,ee=t*a,me=o*n,se=$*a+R*c+I*p-(E*a+y*c+B*p),$e=E*n+j*c+oe*p-($*n+N*c+P*p),q=y*n+N*a+C*p-(R*n+j*a+T*p),Ne=B*n+P*a+T*c-(I*n+oe*a+C*c),Pe=1/(t*se+o*$e+f*q+d*Ne);return e[0]=Pe*se,e[1]=Pe*$e,e[2]=Pe*q,e[3]=Pe*Ne,e[4]=Pe*(E*o+y*f+B*d-($*o+R*f+I*d)),e[5]=Pe*($*t+N*f+P*d-(E*t+j*f+oe*d)),e[6]=Pe*(R*t+j*o+T*d-(y*t+N*o+C*d)),e[7]=Pe*(I*t+oe*o+C*f-(B*t+P*o+T*f)),e[8]=Pe*(b*u+x*m+he*g-(X*u+be*m+te*g)),e[9]=Pe*(X*s+Ee*m+K*g-(b*s+W*m+V*g)),e[10]=Pe*(be*s+W*u+ee*g-(x*s+Ee*u+me*g)),e[11]=Pe*(te*s+V*u+me*m-(he*s+K*u+ee*m)),e[12]=Pe*(be*h+te*_+X*l-(he*_+b*l+x*h)),e[13]=Pe*(V*_+b*r+W*h-(Ee*h+K*_+X*r)),e[14]=Pe*(Ee*l+me*_+x*r-(ee*_+be*r+W*l)),e[15]=Pe*(ee*h+he*r+K*l-(V*l+me*h+te*r)),e}function hp(i,e,t){t=t||new Je(16);const n=i[0],r=i[1],s=i[2],o=i[3],a=i[4+0],l=i[4+1],u=i[4+2],f=i[4+3],c=i[8+0],h=i[8+1],m=i[8+2],d=i[8+3],p=i[12+0],_=i[12+1],g=i[12+2],$=i[12+3],E=e[0],y=e[1],R=e[2],I=e[3],B=e[4+0],j=e[4+1],N=e[4+2],P=e[4+3],oe=e[8+0],C=e[8+1],T=e[8+2],b=e[8+3],X=e[12+0],be=e[12+1],x=e[12+2],he=e[12+3];return t[0]=n*E+a*y+c*R+p*I,t[1]=r*E+l*y+h*R+_*I,t[2]=s*E+u*y+m*R+g*I,t[3]=o*E+f*y+d*R+$*I,t[4]=n*B+a*j+c*N+p*P,t[5]=r*B+l*j+h*N+_*P,t[6]=s*B+u*j+m*N+g*P,t[7]=o*B+f*j+d*N+$*P,t[8]=n*oe+a*C+c*T+p*b,t[9]=r*oe+l*C+h*T+_*b,t[10]=s*oe+u*C+m*T+g*b,t[11]=o*oe+f*C+d*T+$*b,t[12]=n*X+a*be+c*x+p*he,t[13]=r*X+l*be+h*x+_*he,t[14]=s*X+u*be+m*x+g*he,t[15]=o*X+f*be+d*x+$*he,t}function mp(i,e,t){return t=t||Hs(),i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11]),t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function dp(i,e){return e=e||Ut(),e[0]=i[12],e[1]=i[13],e[2]=i[14],e}function pp(i,e,t){t=t||Ut();const n=e*4;return t[0]=i[n+0],t[1]=i[n+1],t[2]=i[n+2],t}function _p(i,e,t,n){n!==i&&(n=Gs(i,n));const r=t*4;return n[r+0]=e[0],n[r+1]=e[1],n[r+2]=e[2],n}function gp(i,e,t,n,r){r=r||new Je(16);const s=Math.tan(Math.PI*.5-.5*i),o=1/(t-n);return r[0]=s/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(t+n)*o,r[11]=-1,r[12]=0,r[13]=0,r[14]=t*n*o*2,r[15]=0,r}function bp(i,e,t,n,r,s,o){return o=o||new Je(16),o[0]=2/(e-i),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2/(n-t),o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2/(r-s),o[11]=0,o[12]=(e+i)/(i-e),o[13]=(n+t)/(t-n),o[14]=(s+r)/(r-s),o[15]=1,o}function vp(i,e,t,n,r,s,o){o=o||new Je(16);const a=e-i,l=n-t,u=r-s;return o[0]=2*r/a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*r/l,o[6]=0,o[7]=0,o[8]=(i+e)/a,o[9]=(n+t)/l,o[10]=s/u,o[11]=-1,o[12]=0,o[13]=0,o[14]=r*s/u,o[15]=0,o}let Bt,Vt,Ct;function $p(i,e,t,n){return n=n||new Je(16),Bt=Bt||Ut(),Vt=Vt||Ut(),Ct=Ct||Ut(),gr(ap(i,e,Ct),Ct),gr(cs(t,Ct,Bt),Bt),gr(cs(Ct,Bt,Vt),Vt),n[0]=Bt[0],n[1]=Bt[1],n[2]=Bt[2],n[3]=0,n[4]=Vt[0],n[5]=Vt[1],n[6]=Vt[2],n[7]=0,n[8]=Ct[0],n[9]=Ct[1],n[10]=Ct[2],n[11]=0,n[12]=i[0],n[13]=i[1],n[14]=i[2],n[15]=1,n}function wp(i,e){return e=e||new Je(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function yp(i,e,t){t=t||new Je(16);const n=e[0],r=e[1],s=e[2],o=i[0],a=i[1],l=i[2],u=i[3],f=i[1*4+0],c=i[1*4+1],h=i[1*4+2],m=i[1*4+3],d=i[2*4+0],p=i[2*4+1],_=i[2*4+2],g=i[2*4+3],$=i[3*4+0],E=i[3*4+1],y=i[3*4+2],R=i[3*4+3];return i!==t&&(t[0]=o,t[1]=a,t[2]=l,t[3]=u,t[4]=f,t[5]=c,t[6]=h,t[7]=m,t[8]=d,t[9]=p,t[10]=_,t[11]=g),t[12]=o*n+f*r+d*s+$,t[13]=a*n+c*r+p*s+E,t[14]=l*n+h*r+_*s+y,t[15]=u*n+m*r+g*s+R,t}function Ep(i,e){e=e||new Je(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function kp(i,e,t){t=t||new Je(16);const n=i[4],r=i[5],s=i[6],o=i[7],a=i[8],l=i[9],u=i[10],f=i[11],c=Math.cos(e),h=Math.sin(e);return t[4]=c*n+h*a,t[5]=c*r+h*l,t[6]=c*s+h*u,t[7]=c*o+h*f,t[8]=c*a-h*n,t[9]=c*l-h*r,t[10]=c*u-h*s,t[11]=c*f-h*o,i!==t&&(t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Ap(i,e){e=e||new Je(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=t,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Sp(i,e,t){t=t||new Je(16);const n=i[0*4+0],r=i[0*4+1],s=i[0*4+2],o=i[0*4+3],a=i[2*4+0],l=i[2*4+1],u=i[2*4+2],f=i[2*4+3],c=Math.cos(e),h=Math.sin(e);return t[0]=c*n-h*a,t[1]=c*r-h*l,t[2]=c*s-h*u,t[3]=c*o-h*f,t[8]=c*a+h*n,t[9]=c*l+h*r,t[10]=c*u+h*s,t[11]=c*f+h*o,i!==t&&(t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Tp(i,e){e=e||new Je(16);const t=Math.cos(i),n=Math.sin(i);return e[0]=t,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ip(i,e,t){t=t||new Je(16);const n=i[0*4+0],r=i[0*4+1],s=i[0*4+2],o=i[0*4+3],a=i[1*4+0],l=i[1*4+1],u=i[1*4+2],f=i[1*4+3],c=Math.cos(e),h=Math.sin(e);return t[0]=c*n+h*a,t[1]=c*r+h*l,t[2]=c*s+h*u,t[3]=c*o+h*f,t[4]=c*a-h*n,t[5]=c*l-h*r,t[6]=c*u-h*s,t[7]=c*f-h*o,i!==t&&(t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Cp(i,e,t){t=t||new Je(16);let n=i[0],r=i[1],s=i[2];const o=Math.sqrt(n*n+r*r+s*s);n/=o,r/=o,s/=o;const a=n*n,l=r*r,u=s*s,f=Math.cos(e),c=Math.sin(e),h=1-f;return t[0]=a+(1-a)*f,t[1]=n*r*h+s*c,t[2]=n*s*h-r*c,t[3]=0,t[4]=n*r*h-s*c,t[5]=l+(1-l)*f,t[6]=r*s*h+n*c,t[7]=0,t[8]=n*s*h+r*c,t[9]=r*s*h-n*c,t[10]=u+(1-u)*f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Rp(i,e,t,n){n=n||new Je(16);let r=e[0],s=e[1],o=e[2];const a=Math.sqrt(r*r+s*s+o*o);r/=a,s/=a,o/=a;const l=r*r,u=s*s,f=o*o,c=Math.cos(t),h=Math.sin(t),m=1-c,d=l+(1-l)*c,p=r*s*m+o*h,_=r*o*m-s*h,g=r*s*m-o*h,$=u+(1-u)*c,E=s*o*m+r*h,y=r*o*m+s*h,R=s*o*m-r*h,I=f+(1-f)*c,B=i[0],j=i[1],N=i[2],P=i[3],oe=i[4],C=i[5],T=i[6],b=i[7],X=i[8],be=i[9],x=i[10],he=i[11];return n[0]=d*B+p*oe+_*X,n[1]=d*j+p*C+_*be,n[2]=d*N+p*T+_*x,n[3]=d*P+p*b+_*he,n[4]=g*B+$*oe+E*X,n[5]=g*j+$*C+E*be,n[6]=g*N+$*T+E*x,n[7]=g*P+$*b+E*he,n[8]=y*B+R*oe+I*X,n[9]=y*j+R*C+I*be,n[10]=y*N+R*T+I*x,n[11]=y*P+R*b+I*he,i!==n&&(n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15]),n}function Fp(i,e){return e=e||new Je(16),e[0]=i[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=i[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Np(i,e,t){t=t||new Je(16);const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0*4+0],t[1]=n*i[0*4+1],t[2]=n*i[0*4+2],t[3]=n*i[0*4+3],t[4]=r*i[1*4+0],t[5]=r*i[1*4+1],t[6]=r*i[1*4+2],t[7]=r*i[1*4+3],t[8]=s*i[2*4+0],t[9]=s*i[2*4+1],t[10]=s*i[2*4+2],t[11]=s*i[2*4+3],i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]),t}function Pp(i,e,t){t=t||Ut();const n=e[0],r=e[1],s=e[2],o=n*i[0*4+3]+r*i[1*4+3]+s*i[2*4+3]+i[3*4+3];return t[0]=(n*i[0*4+0]+r*i[1*4+0]+s*i[2*4+0]+i[3*4+0])/o,t[1]=(n*i[0*4+1]+r*i[1*4+1]+s*i[2*4+1]+i[3*4+1])/o,t[2]=(n*i[0*4+2]+r*i[1*4+2]+s*i[2*4+2]+i[3*4+2])/o,t}function Bp(i,e,t){t=t||Ut();const n=e[0],r=e[1],s=e[2];return t[0]=n*i[0*4+0]+r*i[1*4+0]+s*i[2*4+0],t[1]=n*i[0*4+1]+r*i[1*4+1]+s*i[2*4+1],t[2]=n*i[0*4+2]+r*i[1*4+2]+s*i[2*4+2],t}function Mp(i,e,t){t=t||Ut();const n=js(i),r=e[0],s=e[1],o=e[2];return t[0]=r*n[0*4+0]+s*n[0*4+1]+o*n[0*4+2],t[1]=r*n[1*4+0]+s*n[1*4+1]+o*n[1*4+2],t[2]=r*n[2*4+0]+s*n[2*4+1]+o*n[2*4+2],t}var _t=Object.freeze({__proto__:null,axisRotate:Rp,axisRotation:Cp,copy:Gs,create:fp,frustum:vp,getAxis:pp,getTranslation:dp,identity:Hs,inverse:js,lookAt:$p,multiply:hp,negate:up,ortho:bp,perspective:gp,rotateX:kp,rotateY:Sp,rotateZ:Ip,rotationX:Ep,rotationY:Ap,rotationZ:Tp,scale:Np,scaling:Fp,setAxis:_p,setDefaultType:lp,setTranslation:mp,transformDirection:Bp,transformNormal:Mp,transformPoint:Pp,translate:yp,translation:wp,transpose:cp});const xr=5120,Sn=5121,Or=5122,Gr=5123,Hr=5124,jr=5125,Wr=5126,zp=32819,Up=32820,Dp=33635,Lp=5131,xp=33640,Op=35899,Gp=35902,Hp=36269,jp=34042,Ws={};{const i=Ws;i[xr]=Int8Array,i[Sn]=Uint8Array,i[Or]=Int16Array,i[Gr]=Uint16Array,i[Hr]=Int32Array,i[jr]=Uint32Array,i[Wr]=Float32Array,i[zp]=Uint16Array,i[Up]=Uint16Array,i[Dp]=Uint16Array,i[Lp]=Uint16Array,i[xp]=Uint32Array,i[Op]=Uint32Array,i[Gp]=Uint32Array,i[Hp]=Uint32Array,i[jp]=Uint32Array}function Vr(i){if(i instanceof Int8Array)return xr;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)return Sn;if(i instanceof Int16Array)return Or;if(i instanceof Uint16Array)return Gr;if(i instanceof Int32Array)return Hr;if(i instanceof Uint32Array)return jr;if(i instanceof Float32Array)return Wr;throw new Error("unsupported typed array type")}function Vs(i){if(i===Int8Array)return xr;if(i===Uint8Array||i===Uint8ClampedArray)return Sn;if(i===Int16Array)return Or;if(i===Uint16Array)return Gr;if(i===Int32Array)return Hr;if(i===Uint32Array)return jr;if(i===Float32Array)return Wr;throw new Error("unsupported typed array type")}function Zs(i){const e=Ws[i];if(!e)throw new Error("unknown gl type");return e}const Xn=typeof SharedArrayBuffer<"u"?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function Xs(...i){console.error(...i)}const hs=new Map;function tr(i,e){if(!i||typeof i!="object")return!1;let t=hs.get(e);t||(t=new WeakMap,hs.set(e,t));let n=t.get(i);if(n===void 0){const r=Object.prototype.toString.call(i);n=r.substring(8,r.length-1)===e,t.set(i,n)}return n}function Wp(i,e){return typeof WebGLBuffer<"u"&&tr(e,"WebGLBuffer")}function qs(i,e){return typeof WebGLRenderbuffer<"u"&&tr(e,"WebGLRenderbuffer")}function nr(i,e){return typeof WebGLTexture<"u"&&tr(e,"WebGLTexture")}function Vp(i,e){return typeof WebGLSampler<"u"&&tr(e,"WebGLSampler")}const Ks=35044,Yt=34962,Zp=34963,Xp=34660,qp=5120,Kp=5121,Yp=5122,Jp=5123,Qp=5124,e0=5125,Ys=5126,Js={attribPrefix:""};function t0(i,e,t,n,r){i.bindBuffer(e,t),i.bufferData(e,n,r||Ks)}function Qs(i,e,t,n){if(Wp(i,e))return e;t=t||Yt;const r=i.createBuffer();return t0(i,t,r,e,n),r}function eo(i){return i==="indices"}function n0(i){return i===Int8Array||i===Uint8Array}function r0(i){return i.length?i:i.data}const i0=/coord|texture/i,s0=/color|colour/i;function o0(i,e){let t;if(i0.test(i)?t=2:s0.test(i)?t=4:t=3,e%t>0)throw new Error(`Can not guess numComponents for attribute '${i}'. Tried ${t} but ${e} values is not evenly divisible by ${t}. You should specify it.`);return t}function a0(i,e,t){return i.numComponents||i.size||o0(e,t||r0(i).length)}function to(i,e){if(Xn(i))return i;if(Xn(i.data))return i.data;Array.isArray(i)&&(i={data:i});let t=i.type?Zr(i.type):void 0;return t||(eo(e)?t=Uint16Array:t=Float32Array),new t(i.data)}function l0(i){return typeof i=="number"?i:i?Vs(i):Ys}function Zr(i){return typeof i=="number"?Zs(i):i||Float32Array}function u0(i,e){return{buffer:e.buffer,numValues:2*3*4,type:l0(e.type),arrayType:Zr(e.type)}}function f0(i,e){const t=e.data||e,n=Zr(e.type),r=t*n.BYTES_PER_ELEMENT,s=i.createBuffer();return i.bindBuffer(Yt,s),i.bufferData(Yt,r,e.drawType||Ks),{buffer:s,numValues:t,type:Vs(n),arrayType:n}}function c0(i,e,t){const n=to(e,t);return{arrayType:n.constructor,buffer:Qs(i,n,void 0,e.drawType),type:Vr(n),numValues:0}}function h0(i,e){const t={};return Object.keys(e).forEach(function(n){if(!eo(n)){const r=e[n],s=r.attrib||r.name||r.attribName||Js.attribPrefix+n;if(r.value){if(!Array.isArray(r.value)&&!Xn(r.value))throw new Error("array.value is not array or typedarray");t[s]={value:r.value}}else{let o;r.buffer&&r.buffer instanceof WebGLBuffer?o=u0:typeof r=="number"||typeof r.data=="number"?o=f0:o=c0;const{buffer:a,type:l,numValues:u,arrayType:f}=o(i,r,n),c=r.normalize!==void 0?r.normalize:n0(f),h=a0(r,n,u);t[s]={buffer:a,numComponents:h,type:l,normalize:c,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),i.bindBuffer(Yt,null),t}function m0(i,e){return e===qp||e===Kp?1:e===Yp||e===Jp?2:e===Qp||e===e0||e===Ys?4:0}const br=["position","positions","a_position"];function d0(i,e){let t,n;for(n=0;n<br.length&&(t=br[n],!(t in e||(t=Js.attribPrefix+t,t in e)));++n);n===br.length&&(t=Object.keys(e)[0]);const r=e[t];if(!r.buffer)return 1;i.bindBuffer(Yt,r.buffer);const s=i.getBufferParameter(Yt,Xp);i.bindBuffer(Yt,null);const o=m0(i,r.type),a=s/o,l=r.numComponents||r.size,u=a/l;if(u%1!==0)throw new Error(`numComponents ${l} not correct for length ${length}`);return u}function p0(i,e,t){const n=h0(i,e),r=Object.assign({},t||{});r.attribs=Object.assign({},t?t.attribs:{},n);const s=e.indices;if(s){const o=to(s,"indices");r.indices=Qs(i,o,Zp),r.numElements=o.length,r.elementType=Vr(o)}else r.numElements||(r.numElements=d0(i,r.attribs));return r}function Rn(i){return!!i.texStorage2D}const no=function(){const i={},e={};function t(n){const r=n.constructor.name;if(!i[r]){for(const s in n)if(typeof n[s]=="number"){const o=e[n[s]];e[n[s]]=o?`${o} | ${s}`:s}i[r]=!0}}return function(r,s){return t(r),e[s]||(typeof s=="number"?`0x${s.toString(16)}`:s)}}(),Ot={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},fn=Xn,ro=function(){let i;return function(){return i=i||(typeof document<"u"&&document.createElement?document.createElement("canvas").getContext("2d"):null),i}}(),ms=6406,kt=6407,et=6408,ds=6409,ps=6410,vn=6402,_s=34041,qn=33071,_0=9728,g0=9729,Nt=3553,Ft=34067,Dt=32879,Lt=35866,rr=34069,b0=34070,v0=34071,$0=34072,w0=34073,y0=34074,Ir=10241,Cr=10240,Kn=10242,Yn=10243,gs=32882,E0=33082,k0=33083,A0=33084,S0=33085,Xr=3317,io=3314,so=32878,oo=3316,ao=3315,lo=32877,T0=37443,I0=37441,C0=37440,R0=33321,F0=36756,N0=33325,P0=33326,B0=33330,M0=33329,z0=33338,U0=33337,D0=33340,L0=33339,x0=33323,O0=36757,G0=33327,H0=33328,j0=33336,W0=33335,V0=33332,Z0=33331,X0=33334,q0=33333,K0=32849,Y0=35905,J0=36194,Q0=36758,e1=35898,t1=35901,n1=34843,r1=34837,i1=36221,s1=36239,o1=36215,a1=36233,l1=36209,u1=36227,f1=32856,c1=35907,h1=36759,m1=32855,d1=32854,p1=32857,_1=34842,g1=34836,b1=36220,v1=36238,$1=36975,w1=36214,y1=36232,E1=36226,k1=36208,A1=33189,S1=33190,T1=36012,I1=36013,C1=35056,Mt=5120,Qe=5121,Dn=5122,Qt=5123,Ln=5124,Zt=5125,ut=5126,bs=32819,vs=32820,$s=33635,$t=5131,$n=36193,vr=33640,R1=35899,F1=35902,N1=36269,P1=34042,xn=33319,en=33320,On=6403,tn=36244,nn=36248,Xt=36249;let $r;function ir(i){if(!$r){const e={};e[ms]={textureFormat:ms,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Qe,$t,$n,ut]},e[ds]={textureFormat:ds,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Qe,$t,$n,ut]},e[ps]={textureFormat:ps,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Qe,$t,$n,ut]},e[kt]={textureFormat:kt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Qe,$t,$n,ut,$s]},e[et]={textureFormat:et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Qe,$t,$n,ut,bs,vs]},e[vn]={textureFormat:vn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Zt,Qt]},e[R0]={textureFormat:On,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Qe]},e[F0]={textureFormat:On,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[Mt]},e[N0]={textureFormat:On,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[ut,$t]},e[P0]={textureFormat:On,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[ut]},e[B0]={textureFormat:tn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Qe]},e[M0]={textureFormat:tn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Mt]},e[V0]={textureFormat:tn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Qt]},e[Z0]={textureFormat:tn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Dn]},e[X0]={textureFormat:tn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Zt]},e[q0]={textureFormat:tn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ln]},e[x0]={textureFormat:xn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Qe]},e[O0]={textureFormat:xn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[Mt]},e[G0]={textureFormat:xn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[ut,$t]},e[H0]={textureFormat:xn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[ut]},e[j0]={textureFormat:en,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Qe]},e[W0]={textureFormat:en,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Mt]},e[z0]={textureFormat:en,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Qt]},e[U0]={textureFormat:en,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Dn]},e[D0]={textureFormat:en,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Zt]},e[L0]={textureFormat:en,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Ln]},e[K0]={textureFormat:kt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Qe]},e[Y0]={textureFormat:kt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Qe]},e[J0]={textureFormat:kt,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Qe,$s]},e[Q0]={textureFormat:kt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Mt]},e[e1]={textureFormat:kt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[ut,$t,R1]},e[t1]={textureFormat:kt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[ut,$t,F1]},e[n1]={textureFormat:kt,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[ut,$t]},e[r1]={textureFormat:kt,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[ut]},e[i1]={textureFormat:nn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Qe]},e[s1]={textureFormat:nn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Mt]},e[o1]={textureFormat:nn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Qt]},e[a1]={textureFormat:nn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Dn]},e[l1]={textureFormat:nn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Zt]},e[u1]={textureFormat:nn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Ln]},e[f1]={textureFormat:et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Qe]},e[c1]={textureFormat:et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Qe]},e[h1]={textureFormat:et,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[Mt]},e[m1]={textureFormat:et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Qe,vs,vr]},e[d1]={textureFormat:et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Qe,bs]},e[p1]={textureFormat:et,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[vr]},e[_1]={textureFormat:et,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[ut,$t]},e[g1]={textureFormat:et,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[ut]},e[b1]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Qe]},e[v1]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Mt]},e[$1]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[vr]},e[w1]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Qt]},e[y1]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Dn]},e[E1]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Ln]},e[k1]={textureFormat:Xt,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Zt]},e[A1]={textureFormat:vn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Qt,Zt]},e[S1]={textureFormat:vn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Zt]},e[T1]={textureFormat:vn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[ut]},e[C1]={textureFormat:_s,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[P1]},e[I1]={textureFormat:_s,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[N1]},Object.keys(e).forEach(function(t){const n=e[t];n.bytesPerElementMap={},n.bytesPerElement.forEach(function(r,s){const o=n.type[s];n.bytesPerElementMap[o]=r})}),$r=e}return $r[i]}function B1(i,e){const t=ir(i);if(!t)throw"unknown internal format";const n=t.bytesPerElementMap[e];if(n===void 0)throw"unknown internal format";return n}function mn(i){const e=ir(i);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function ws(i){return(i&i-1)===0}function M1(i,e,t,n){if(!Rn(i))return ws(e)&&ws(t);const r=ir(n);if(!r)throw"unknown internal format";return r.colorRenderable&&r.textureFilterable}function z1(i){const e=ir(i);if(!e)throw"unknown internal format";return e.textureFilterable}function uo(i,e,t){return fn(e)?Vr(e):t||Qe}function Gn(i,e,t,n,r){if(r%1!==0)throw"can't guess dimensions";if(!t&&!n){const s=Math.sqrt(r/(e===Ft?6:1));s%1===0?(t=s,n=s):(t=r,n=1)}else if(n){if(!t&&(t=r/n,t%1))throw"can't guess dimensions"}else if(n=r/t,n%1)throw"can't guess dimensions";return{width:t,height:n}}function cn(i,e){e.colorspaceConversion!==void 0&&i.pixelStorei(T0,e.colorspaceConversion),e.premultiplyAlpha!==void 0&&i.pixelStorei(I0,e.premultiplyAlpha),e.flipY!==void 0&&i.pixelStorei(C0,e.flipY)}function fo(i){i.pixelStorei(Xr,4),Rn(i)&&(i.pixelStorei(io,0),i.pixelStorei(so,0),i.pixelStorei(oo,0),i.pixelStorei(ao,0),i.pixelStorei(lo,0))}function U1(i,e,t,n){n.minMag&&(t.call(i,e,Ir,n.minMag),t.call(i,e,Cr,n.minMag)),n.min&&t.call(i,e,Ir,n.min),n.mag&&t.call(i,e,Cr,n.mag),n.wrap&&(t.call(i,e,Kn,n.wrap),t.call(i,e,Yn,n.wrap),(e===Dt||Vp(i,e))&&t.call(i,e,gs,n.wrap)),n.wrapR&&t.call(i,e,gs,n.wrapR),n.wrapS&&t.call(i,e,Kn,n.wrapS),n.wrapT&&t.call(i,e,Yn,n.wrapT),n.minLod&&t.call(i,e,E0,n.minLod),n.maxLod&&t.call(i,e,k0,n.maxLod),n.baseLevel&&t.call(i,e,A0,n.baseLevel),n.maxLevel&&t.call(i,e,S0,n.maxLevel)}function co(i,e,t){const n=t.target||Nt;i.bindTexture(n,e),U1(i,n,i.texParameteri,t)}function D1(i){return i=i||Ot.textureColor,fn(i)?i:new Uint8Array([i[0]*255,i[1]*255,i[2]*255,i[3]*255])}function Rr(i,e,t,n,r,s){t=t||Ot.textureOptions,s=s||et;const o=t.target||Nt;if(n=n||t.width,r=r||t.height,i.bindTexture(o,e),M1(i,n,r,s))i.generateMipmap(o);else{const a=z1(s)?g0:_0;i.texParameteri(o,Ir,a),i.texParameteri(o,Cr,a),i.texParameteri(o,Kn,qn),i.texParameteri(o,Yn,qn)}}function Tn(i){return i.auto===!0||i.auto===void 0&&i.level===void 0}function Fr(i,e){return e=e||{},e.cubeFaceOrder||[rr,b0,v0,$0,w0,y0]}function Nr(i,e){const n=Fr(i,e).map(function(r,s){return{face:r,ndx:s}});return n.sort(function(r,s){return r.face-s.face}),n}function qr(i,e,t,n){n=n||Ot.textureOptions;const r=n.target||Nt,s=n.level||0;let o=t.width,a=t.height;const l=n.internalFormat||n.format||et,u=mn(l),f=n.format||u.format,c=n.type||u.type;if(cn(i,n),i.bindTexture(r,e),r===Ft){const h=t.width,m=t.height;let d,p;if(h/6===m)d=m,p=[0,0,1,0,2,0,3,0,4,0,5,0];else if(m/6===h)d=h,p=[0,0,0,1,0,2,0,3,0,4,0,5];else if(h/3===m/2)d=h/3,p=[0,0,1,0,2,0,0,1,1,1,2,1];else if(h/2===m/3)d=h/2,p=[0,0,1,0,0,1,1,1,0,2,1,2];else throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);const _=ro();_?(_.canvas.width=d,_.canvas.height=d,o=d,a=d,Nr(i,n).forEach(function(g){const $=p[g.ndx*2+0]*d,E=p[g.ndx*2+1]*d;_.drawImage(t,$,E,d,d,0,0,d,d),i.texImage2D(g.face,s,l,f,c,_.canvas)}),_.canvas.width=1,_.canvas.height=1):typeof createImageBitmap<"u"&&(o=d,a=d,Nr(i,n).forEach(function(g){const $=p[g.ndx*2+0]*d,E=p[g.ndx*2+1]*d;i.texImage2D(g.face,s,l,d,d,0,f,c,null),createImageBitmap(t,$,E,d,d,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(y){cn(i,n),i.bindTexture(r,e),i.texImage2D(g.face,s,l,f,c,y),Tn(n)&&Rr(i,e,n,o,a,l)})}))}else if(r===Dt||r===Lt){const h=Math.min(t.width,t.height),m=Math.max(t.width,t.height),d=m/h;if(d%1!==0)throw"can not compute 3D dimensions of element";const p=t.width===m?1:0,_=t.height===m?1:0;i.pixelStorei(Xr,1),i.pixelStorei(io,t.width),i.pixelStorei(so,0),i.pixelStorei(lo,0),i.texImage3D(r,s,l,h,h,h,0,f,c,null);for(let g=0;g<d;++g){const $=g*h*p,E=g*h*_;i.pixelStorei(oo,$),i.pixelStorei(ao,E),i.texSubImage3D(r,s,0,0,g,h,h,1,f,c,t)}fo(i)}else i.texImage2D(r,s,l,f,c,t);Tn(n)&&Rr(i,e,n,o,a,l),co(i,e,n)}function Fn(){}function L1(i){if(typeof document<"u"){const e=document.createElement("a");return e.href=i,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}else{const e=new URL(location.href).origin;return new URL(i,location.href).origin===e}}function x1(i,e){return e===void 0&&!L1(i)?"anonymous":e}function O1(i,e,t){t=t||Fn;let n;if(e=e!==void 0?e:Ot.crossOrigin,e=x1(i,e),typeof Image<"u"){n=new Image,e!==void 0&&(n.crossOrigin=e);const r=function(){n.removeEventListener("error",s),n.removeEventListener("load",o),n=null},s=function(){const l="couldn't load image: "+i;Xs(l),t(l,n),r()},o=function(){t(null,n),r()};return n.addEventListener("error",s),n.addEventListener("load",o),n.src=i,n}else if(typeof ImageBitmap<"u"){let r,s;const o=function(){t(r,s)},a={};e&&(a.mode="cors"),fetch(i,a).then(function(l){if(!l.ok)throw l;return l.blob()}).then(function(l){return createImageBitmap(l,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(l){s=l,setTimeout(o)}).catch(function(l){r=l,setTimeout(o)}),n=null}return n}function ho(i){return typeof ImageBitmap<"u"&&i instanceof ImageBitmap||typeof ImageData<"u"&&i instanceof ImageData||typeof HTMLElement<"u"&&i instanceof HTMLElement}function Kr(i,e,t){return ho(i)?(setTimeout(function(){t(null,i)}),i):O1(i,e,t)}function Yr(i,e,t){t=t||Ot.textureOptions;const n=t.target||Nt;if(i.bindTexture(n,e),t.color===!1)return;const r=D1(t.color);if(n===Ft)for(let s=0;s<6;++s)i.texImage2D(rr+s,0,et,1,1,0,et,Qe,r);else n===Dt||n===Lt?i.texImage3D(n,0,et,1,1,1,0,et,Qe,r):i.texImage2D(n,0,et,1,1,0,et,Qe,r)}function G1(i,e,t,n){return n=n||Fn,t=t||Ot.textureOptions,Yr(i,e,t),t=Object.assign({},t),Kr(t.src,t.crossOrigin,function(s,o){s?n(s,e,o):(qr(i,e,o,t),n(null,e,o))})}function H1(i,e,t,n){n=n||Fn;const r=t.src;if(r.length!==6)throw"there must be 6 urls for a cubemap";const s=t.level||0,o=t.internalFormat||t.format||et,a=mn(o),l=t.format||a.format,u=t.type||Qe,f=t.target||Nt;if(f!==Ft)throw"target must be TEXTURE_CUBE_MAP";Yr(i,e,t),t=Object.assign({},t);let c=6;const h=[],m=Fr(i,t);let d;function p(_){return function(g,$){--c,g?h.push(g):$.width!==$.height?h.push("cubemap face img is not a square: "+$.src):(cn(i,t),i.bindTexture(f,e),c===5?Fr().forEach(function(E){i.texImage2D(E,s,o,l,u,$)}):i.texImage2D(_,s,o,l,u,$),Tn(t)&&i.generateMipmap(f)),c===0&&n(h.length?h:void 0,e,d)}}d=r.map(function(_,g){return Kr(_,t.crossOrigin,p(m[g]))})}function j1(i,e,t,n){n=n||Fn;const r=t.src,s=t.internalFormat||t.format||et,o=mn(s),a=t.format||o.format,l=t.type||Qe,u=t.target||Lt;if(u!==Dt&&u!==Lt)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Yr(i,e,t),t=Object.assign({},t);let f=r.length;const c=[];let h;const m=t.level||0;let d=t.width,p=t.height;const _=r.length;let g=!0;function $(E){return function(y,R){if(--f,y)c.push(y);else{if(cn(i,t),i.bindTexture(u,e),g){g=!1,d=t.width||R.width,p=t.height||R.height,i.texImage3D(u,m,s,d,p,_,0,a,l,null);for(let I=0;I<_;++I)i.texSubImage3D(u,m,0,0,I,d,p,1,a,l,R)}else{let I=R,B;(R.width!==d||R.height!==p)&&(B=ro(),I=B.canvas,B.canvas.width=d,B.canvas.height=p,B.drawImage(R,0,0,d,p)),i.texSubImage3D(u,m,0,0,E,d,p,1,a,l,I),B&&I===B.canvas&&(B.canvas.width=0,B.canvas.height=0)}Tn(t)&&i.generateMipmap(u)}f===0&&n(c.length?c:void 0,e,h)}}h=r.map(function(E,y){return Kr(E,t.crossOrigin,$(y))})}function W1(i,e,t,n){n=n||Ot.textureOptions;const r=n.target||Nt;i.bindTexture(r,e);let s=n.width,o=n.height,a=n.depth;const l=n.level||0,u=n.internalFormat||n.format||et,f=mn(u),c=n.format||f.format,h=n.type||uo(i,t,f.type);if(fn(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{const _=Zs(h);t=new _(t)}const m=B1(u,h),d=t.byteLength/m;if(d%1)throw"length wrong size for format: "+no(i,c);let p;if(r===Dt||r===Lt)if(!s&&!o&&!a){const _=Math.cbrt(d);if(_%1!==0)throw"can't guess cube size of array of numElements: "+d;s=_,o=_,a=_}else s&&(!o||!a)?(p=Gn(i,r,o,a,d/s),o=p.width,a=p.height):o&&(!s||!a)?(p=Gn(i,r,s,a,d/o),s=p.width,a=p.height):(p=Gn(i,r,s,o,d/a),s=p.width,o=p.height);else p=Gn(i,r,s,o,d),s=p.width,o=p.height;if(fo(i),i.pixelStorei(Xr,n.unpackAlignment||1),cn(i,n),r===Ft){const _=m/t.BYTES_PER_ELEMENT,g=d/6*_;Nr(i,n).forEach($=>{const E=g*$.ndx,y=t.subarray(E,E+g);i.texImage2D($.face,l,u,s,o,0,c,h,y)})}else r===Dt||r===Lt?i.texImage3D(r,l,u,s,o,a,0,c,h,t):i.texImage2D(r,l,u,s,o,0,c,h,t);return{width:s,height:o,depth:a,type:h}}function V1(i,e,t){const n=t.target||Nt;i.bindTexture(n,e);const r=t.level||0,s=t.internalFormat||t.format||et,o=mn(s),a=t.format||o.format,l=t.type||o.type;if(cn(i,t),n===Ft)for(let u=0;u<6;++u)i.texImage2D(rr+u,r,s,t.width,t.height,0,a,l,null);else n===Dt||n===Lt?i.texImage3D(n,r,s,t.width,t.height,t.depth,0,a,l,null):i.texImage2D(n,r,s,t.width,t.height,0,a,l,null)}function mo(i,e,t){t=t||Fn,e=e||Ot.textureOptions;const n=i.createTexture(),r=e.target||Nt;let s=e.width||1,o=e.height||1;const a=e.internalFormat||et;i.bindTexture(r,n),r===Ft&&(i.texParameteri(r,Kn,qn),i.texParameteri(r,Yn,qn));let l=e.src;if(l)if(typeof l=="function"&&(l=l(i,e)),typeof l=="string")G1(i,n,e,t);else if(fn(l)||Array.isArray(l)&&(typeof l[0]=="number"||Array.isArray(l[0])||fn(l[0]))){const u=W1(i,n,l,e);s=u.width,o=u.height}else Array.isArray(l)&&(typeof l[0]=="string"||ho(l[0]))?r===Ft?H1(i,n,e,t):j1(i,n,e,t):(qr(i,n,l,e),s=l.width,o=l.height);else V1(i,n,e);return Tn(e)&&Rr(i,n,e,s,o,a),co(i,n,e),n}function Z1(i,e,t,n,r,s){n=n||t.width,r=r||t.height,s=s||t.depth;const o=t.target||Nt;i.bindTexture(o,e);const a=t.level||0,l=t.internalFormat||t.format||et,u=mn(l),f=t.format||u.format;let c;const h=t.src;if(h&&(fn(h)||Array.isArray(h)&&typeof h[0]=="number")?c=t.type||uo(i,h,u.type):c=t.type||u.type,o===Ft)for(let m=0;m<6;++m)i.texImage2D(rr+m,a,l,n,r,0,f,c,null);else o===Dt||o===Lt?i.texImage3D(o,a,l,n,r,s,0,f,c,null):i.texImage2D(o,a,l,n,r,0,f,c,null)}const Jr=Xs;function X1(i){return typeof document<"u"&&document.getElementById?document.getElementById(i):null}const Jn=33984,sr=34962,q1=34963,K1=35713,Y1=35714,J1=35632,Q1=35633,e_=35981,po=35718,t_=35721,n_=35971,r_=35382,i_=35396,s_=35398,o_=35392,a_=35395,or=5126,_o=35664,go=35665,bo=35666,Qr=5124,vo=35667,$o=35668,wo=35669,yo=35670,Eo=35671,ko=35672,Ao=35673,So=35674,To=35675,Io=35676,l_=35678,u_=35680,f_=35679,c_=35682,h_=35685,m_=35686,d_=35687,p_=35688,__=35689,g_=35690,b_=36289,v_=36292,$_=36293,ei=5125,Co=36294,Ro=36295,Fo=36296,w_=36298,y_=36299,E_=36300,k_=36303,A_=36306,S_=36307,T_=36308,I_=36311,ar=3553,lr=34067,ti=32879,ur=35866,Le={};function No(i,e){return Le[e].bindPoint}function C_(i,e){return function(t){i.uniform1f(e,t)}}function R_(i,e){return function(t){i.uniform1fv(e,t)}}function F_(i,e){return function(t){i.uniform2fv(e,t)}}function N_(i,e){return function(t){i.uniform3fv(e,t)}}function P_(i,e){return function(t){i.uniform4fv(e,t)}}function Po(i,e){return function(t){i.uniform1i(e,t)}}function Bo(i,e){return function(t){i.uniform1iv(e,t)}}function Mo(i,e){return function(t){i.uniform2iv(e,t)}}function zo(i,e){return function(t){i.uniform3iv(e,t)}}function Uo(i,e){return function(t){i.uniform4iv(e,t)}}function B_(i,e){return function(t){i.uniform1ui(e,t)}}function M_(i,e){return function(t){i.uniform1uiv(e,t)}}function z_(i,e){return function(t){i.uniform2uiv(e,t)}}function U_(i,e){return function(t){i.uniform3uiv(e,t)}}function D_(i,e){return function(t){i.uniform4uiv(e,t)}}function L_(i,e){return function(t){i.uniformMatrix2fv(e,!1,t)}}function x_(i,e){return function(t){i.uniformMatrix3fv(e,!1,t)}}function O_(i,e){return function(t){i.uniformMatrix4fv(e,!1,t)}}function G_(i,e){return function(t){i.uniformMatrix2x3fv(e,!1,t)}}function H_(i,e){return function(t){i.uniformMatrix3x2fv(e,!1,t)}}function j_(i,e){return function(t){i.uniformMatrix2x4fv(e,!1,t)}}function W_(i,e){return function(t){i.uniformMatrix4x2fv(e,!1,t)}}function V_(i,e){return function(t){i.uniformMatrix3x4fv(e,!1,t)}}function Z_(i,e){return function(t){i.uniformMatrix4x3fv(e,!1,t)}}function mt(i,e,t,n){const r=No(i,e);return Rn(i)?function(s){let o,a;!s||nr(i,s)?(o=s,a=null):(o=s.texture,a=s.sampler),i.uniform1i(n,t),i.activeTexture(Jn+t),i.bindTexture(r,o),i.bindSampler(t,a)}:function(s){i.uniform1i(n,t),i.activeTexture(Jn+t),i.bindTexture(r,s)}}function dt(i,e,t,n,r){const s=No(i,e),o=new Int32Array(r);for(let a=0;a<r;++a)o[a]=t+a;return Rn(i)?function(a){i.uniform1iv(n,o),a.forEach(function(l,u){i.activeTexture(Jn+o[u]);let f,c;nr(i,l)?(f=l,c=null):(f=l.texture,c=l.sampler),i.bindSampler(t,c),i.bindTexture(s,f)})}:function(a){i.uniform1iv(n,o),a.forEach(function(l,u){i.activeTexture(Jn+o[u]),i.bindTexture(s,l)})}}Le[or]={Type:Float32Array,size:4,setter:C_,arraySetter:R_};Le[_o]={Type:Float32Array,size:8,setter:F_,cols:2};Le[go]={Type:Float32Array,size:12,setter:N_,cols:3};Le[bo]={Type:Float32Array,size:16,setter:P_,cols:4};Le[Qr]={Type:Int32Array,size:4,setter:Po,arraySetter:Bo};Le[vo]={Type:Int32Array,size:8,setter:Mo,cols:2};Le[$o]={Type:Int32Array,size:12,setter:zo,cols:3};Le[wo]={Type:Int32Array,size:16,setter:Uo,cols:4};Le[ei]={Type:Uint32Array,size:4,setter:B_,arraySetter:M_};Le[Co]={Type:Uint32Array,size:8,setter:z_,cols:2};Le[Ro]={Type:Uint32Array,size:12,setter:U_,cols:3};Le[Fo]={Type:Uint32Array,size:16,setter:D_,cols:4};Le[yo]={Type:Uint32Array,size:4,setter:Po,arraySetter:Bo};Le[Eo]={Type:Uint32Array,size:8,setter:Mo,cols:2};Le[ko]={Type:Uint32Array,size:12,setter:zo,cols:3};Le[Ao]={Type:Uint32Array,size:16,setter:Uo,cols:4};Le[So]={Type:Float32Array,size:32,setter:L_,rows:2,cols:2};Le[To]={Type:Float32Array,size:48,setter:x_,rows:3,cols:3};Le[Io]={Type:Float32Array,size:64,setter:O_,rows:4,cols:4};Le[h_]={Type:Float32Array,size:32,setter:G_,rows:2,cols:3};Le[m_]={Type:Float32Array,size:32,setter:j_,rows:2,cols:4};Le[d_]={Type:Float32Array,size:48,setter:H_,rows:3,cols:2};Le[p_]={Type:Float32Array,size:48,setter:V_,rows:3,cols:4};Le[__]={Type:Float32Array,size:64,setter:W_,rows:4,cols:2};Le[g_]={Type:Float32Array,size:64,setter:Z_,rows:4,cols:3};Le[l_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:ar};Le[u_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:lr};Le[f_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:ti};Le[c_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:ar};Le[b_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:ur};Le[v_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:ur};Le[$_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:lr};Le[w_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:ar};Le[y_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:ti};Le[E_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:lr};Le[k_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:ur};Le[A_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:ar};Le[S_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:ti};Le[T_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:lr};Le[I_]={Type:null,size:0,setter:mt,arraySetter:dt,bindPoint:ur};function fr(i,e){return function(t){if(t.value)switch(i.disableVertexAttribArray(e),t.value.length){case 4:i.vertexAttrib4fv(e,t.value);break;case 3:i.vertexAttrib3fv(e,t.value);break;case 2:i.vertexAttrib2fv(e,t.value);break;case 1:i.vertexAttrib1fv(e,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else i.bindBuffer(sr,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribPointer(e,t.numComponents||t.size,t.type||or,t.normalize||!1,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function Gt(i,e){return function(t){if(t.value)if(i.disableVertexAttribArray(e),t.value.length===4)i.vertexAttrib4iv(e,t.value);else throw new Error("The length of an integer constant value must be 4!");else i.bindBuffer(sr,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribIPointer(e,t.numComponents||t.size,t.type||Qr,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function cr(i,e){return function(t){if(t.value)if(i.disableVertexAttribArray(e),t.value.length===4)i.vertexAttrib4uiv(e,t.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else i.bindBuffer(sr,t.buffer),i.enableVertexAttribArray(e),i.vertexAttribIPointer(e,t.numComponents||t.size,t.type||ei,t.stride||0,t.offset||0),i.vertexAttribDivisor&&i.vertexAttribDivisor(e,t.divisor||0)}}function ni(i,e,t){const n=t.size,r=t.count;return function(s){i.bindBuffer(sr,s.buffer);const o=s.size||s.numComponents||n,a=o/r,l=s.type||or,f=Le[l].size*o,c=s.normalize||!1,h=s.offset||0,m=f/r;for(let d=0;d<r;++d)i.enableVertexAttribArray(e+d),i.vertexAttribPointer(e+d,a,l,c,f,h+m*d),i.vertexAttribDivisor&&i.vertexAttribDivisor(e+d,s.divisor||0)}}const ot={};ot[or]={size:4,setter:fr};ot[_o]={size:8,setter:fr};ot[go]={size:12,setter:fr};ot[bo]={size:16,setter:fr};ot[Qr]={size:4,setter:Gt};ot[vo]={size:8,setter:Gt};ot[$o]={size:12,setter:Gt};ot[wo]={size:16,setter:Gt};ot[ei]={size:4,setter:cr};ot[Co]={size:8,setter:cr};ot[Ro]={size:12,setter:cr};ot[Fo]={size:16,setter:cr};ot[yo]={size:4,setter:Gt};ot[Eo]={size:8,setter:Gt};ot[ko]={size:12,setter:Gt};ot[Ao]={size:16,setter:Gt};ot[So]={size:4,setter:ni,count:2};ot[To]={size:9,setter:ni,count:3};ot[Io]={size:16,setter:ni,count:4};const X_=/ERROR:\s*\d+:(\d+)/gi;function q_(i,e="",t=0){const n=[...e.matchAll(X_)],r=new Map(n.map((s,o)=>{const a=parseInt(s[1]),l=n[o+1],u=l?l.index:e.length,f=e.substring(s.index,u);return[a-1,f]}));return i.split(`
`).map((s,o)=>{const a=r.get(o);return`${o+1+t}: ${s}${a?`

^^^ ${a}`:""}`}).join(`
`)}const ys=/^[ \t]*\n/;function Do(i){let e=0;return ys.test(i)&&(e=1,i=i.replace(ys,"")),{lineOffset:e,shaderSource:i}}function K_(i,e,t,n){if(n=n||Jr,!i.getShaderParameter(t,K1)){const s=i.getShaderInfoLog(t),{lineOffset:o,shaderSource:a}=Do(i.getShaderSource(t)),l=`${q_(a,s,o)}
Error compiling ${no(i,e)}: ${s}`;return n(l),l}return""}function Lo(i,e,t){let n,r,s;if(typeof e=="function"&&(t=e,e=void 0),typeof i=="function")t=i,i=void 0;else if(i&&!Array.isArray(i)){const u=i;t=u.errorCallback,i=u.attribLocations,n=u.transformFeedbackVaryings,r=u.transformFeedbackMode,s=u.callback}const o=t||Jr,a=[],l={errorCallback(u,...f){a.push(u),o(u,...f)},transformFeedbackVaryings:n,transformFeedbackMode:r,callback:s,errors:a};{let u={};Array.isArray(i)?i.forEach(function(f,c){u[f]=e?e[c]:c}):u=i||{},l.attribLocations=u}return l}const Y_=["VERTEX_SHADER","FRAGMENT_SHADER"];function J_(i,e){if(e.indexOf("frag")>=0)return J1;if(e.indexOf("vert")>=0)return Q1}const Q_=(i=0)=>new Promise(e=>setTimeout(e,i));function eg(i,e,t){const n=i.createProgram(),{attribLocations:r,transformFeedbackVaryings:s,transformFeedbackMode:o}=Lo(t);for(let a=0;a<e.length;++a){let l=e[a];if(typeof l=="string"){const u=X1(l),f=u?u.text:l;let c=i[Y_[a]];u&&u.type&&(c=J_(i,u.type)||c),l=i.createShader(c),i.shaderSource(l,Do(f).shaderSource),i.compileShader(l),i.attachShader(n,l)}}Object.entries(r).forEach(([a,l])=>i.bindAttribLocation(n,l,a));{let a=s;a&&(a.attribs&&(a=a.attribs),Array.isArray(a)||(a=Object.keys(a)),i.transformFeedbackVaryings(n,a,o||e_))}return i.linkProgram(n),n}async function tg(i,e){const t=i.getExtension("KHR_parallel_shader_compile"),n=t?(s,o)=>s.getProgramParameter(o,t.COMPLETION_STATUS_KHR):()=>!0;let r=0;do await Q_(r),r=1e3/60;while(!n(i,e))}async function ng(i,e){for(const t of Object.values(e))await tg(i,t)}function rg(i,e,t){if(t=t||Jr,!i.getProgramParameter(e,Y1)){const r=i.getProgramInfoLog(e);t(`Error in program linking: ${r}`);const o=i.getAttachedShaders(e).map(a=>K_(i,i.getShaderParameter(a,i.SHADER_TYPE),a,t));return`${r}
${o.filter(a=>a).join(`
`)}`}}function xo(i){const e=i.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const ig=/(\.|\[|]|\w+)/g,sg=i=>i>="0"&&i<="9";function og(i,e,t,n){const r=i.split(ig).filter(a=>a!=="");let s=0,o="";for(;;){const a=r[s++];o+=a;const l=sg(a[0]),u=l?parseInt(a):a;if(l&&(o+=r[s++]),s===r.length){t[u]=e;break}else{const c=r[s++],h=c==="[",m=t[u]||(h?[]:{});t[u]=m,t=m,n[o]=n[o]||function(d){return function(p){Oo(d,p)}}(m),o+=c}}}function ag(i,e){let t=0;function n(a,l,u){const f=l.name.endsWith("[0]"),c=l.type,h=Le[c];if(!h)throw new Error(`unknown type: 0x${c.toString(16)}`);let m;if(h.bindPoint){const d=t;t+=l.size,f?m=h.arraySetter(i,c,d,u,l.size):m=h.setter(i,c,d,u,l.size)}else h.arraySetter&&f?m=h.arraySetter(i,u):m=h.setter(i,u);return m.location=u,m}const r={},s={},o=i.getProgramParameter(e,po);for(let a=0;a<o;++a){const l=i.getActiveUniform(e,a);if(xo(l))continue;let u=l.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));const f=i.getUniformLocation(e,l.name);if(f){const c=n(e,l,f);r[u]=c,og(u,c,s,r)}}return r}function lg(i,e){const t={},n=i.getProgramParameter(e,n_);for(let r=0;r<n;++r){const s=i.getTransformFeedbackVarying(e,r);t[s.name]={index:r,type:s.type,size:s.size}}return t}function ug(i,e){const t=i.getProgramParameter(e,po),n=[],r=[];for(let a=0;a<t;++a){r.push(a),n.push({});const l=i.getActiveUniform(e,a);n[a].name=l.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(a){const l=a[0],u=a[1];i.getActiveUniforms(e,r,i[l]).forEach(function(f,c){n[c][u]=f})});const s={},o=i.getProgramParameter(e,r_);for(let a=0;a<o;++a){const l=i.getActiveUniformBlockName(e,a),u={index:i.getUniformBlockIndex(e,l),usedByVertexShader:i.getActiveUniformBlockParameter(e,a,i_),usedByFragmentShader:i.getActiveUniformBlockParameter(e,a,s_),size:i.getActiveUniformBlockParameter(e,a,o_),uniformIndices:i.getActiveUniformBlockParameter(e,a,a_)};u.used=u.usedByVertexShader||u.usedByFragmentShader,s[l]=u}return{blockSpecs:s,uniformData:n}}function Oo(i,e){for(const t in e){const n=i[t];typeof n=="function"?n(e[t]):Oo(i[t],e[t])}}function rn(i,...e){const t=i.uniformSetters||i,n=e.length;for(let r=0;r<n;++r){const s=e[r];if(Array.isArray(s)){const o=s.length;for(let a=0;a<o;++a)rn(t,s[a])}else for(const o in s){const a=t[o];a&&a(s[o])}}}function fg(i,e){const t={},n=i.getProgramParameter(e,t_);for(let r=0;r<n;++r){const s=i.getActiveAttrib(e,r);if(xo(s))continue;const o=i.getAttribLocation(e,s.name),a=ot[s.type],l=a.setter(i,o,a);l.location=o,t[s.name]=l}return t}function cg(i,e){for(const t in e){const n=i[t];n&&n(e[t])}}function wr(i,e,t){t.vertexArrayObject?i.bindVertexArray(t.vertexArrayObject):(cg(e.attribSetters||e,t.attribs),t.indices&&i.bindBuffer(q1,t.indices))}function hg(i,e){const t=ag(i,e),n=fg(i,e),r={program:e,uniformSetters:t,attribSetters:n};return Rn(i)&&(r.uniformBlockSpec=ug(i,e),r.transformFeedbackInfo=lg(i,e)),r}function Es(i,e,t,n,r){for(const[s,o]of Object.entries(e)){const a={...r},l=t[s];Array.isArray(l)||Object.assign(a,l);const u=rg(i,o,a.errorCallback);if(u){for(const f of Object.values(e)){const c=i.getAttachedShaders(f);i.deleteProgram(f);for(const h of c)n.has(h)||i.deleteShader(h)}return u}}}function mg(i,e,t={}){const n=new Set,r=Object.fromEntries(Object.entries(e).map(([o,a])=>{const l={...t},u=Array.isArray(a)?a:a.shaders;return Array.isArray(a)||Object.assign(l,a),u.forEach(n.add,n),[o,eg(i,u,l)]}));if(t.callback){ng(i,r).then(()=>{const o=Es(i,r,e,n,t);t.callback(o,o?void 0:r)});return}return Es(i,r,e,n,t)?void 0:r}function dg(i,e,t){t=Lo(t);function n(o,a){return Object.fromEntries(Object.entries(a).map(([l,u])=>[l,hg(o,u)]))}const r=t.callback;r&&(t.callback=(o,a)=>{r(o,o?void 0:n(i,a))});const s=mg(i,e,t);if(!(r||!s))return n(i,s)}const pg=36160,qt=36161,_g=3553,gg=5121,bg=6402,vg=6408,$g=33190,wg=36012,yg=35056,Eg=36013,kg=32854,Ag=32855,Sg=36194,Go=33189,Ho=6401,jo=36168,ri=34041,Pr=36064,hr=36096,Wo=36128,ii=33306,Br=33071,Mr=9729,Vo=[{format:vg,type:gg,min:Mr,wrap:Br},{format:ri}],yt={};yt[ri]=ii;yt[Ho]=Wo;yt[jo]=Wo;yt[bg]=hr;yt[Go]=hr;yt[$g]=hr;yt[wg]=hr;yt[yg]=ii;yt[Eg]=ii;function Tg(i,e){return yt[i]||yt[e]}const Ht={};Ht[kg]=!0;Ht[Ag]=!0;Ht[Sg]=!0;Ht[ri]=!0;Ht[Go]=!0;Ht[Ho]=!0;Ht[jo]=!0;function Ig(i){return Ht[i]}const Cg=32;function Rg(i){return i>=Pr&&i<Pr+Cg}function Fg(i,e,t,n){const r=pg,s=i.createFramebuffer();i.bindFramebuffer(r,s),t=t||i.drawingBufferWidth,n=n||i.drawingBufferHeight,e=e||Vo;const o=[],a={framebuffer:s,attachments:[],width:t,height:n};return e.forEach(function(l,u){let f=l.attachment;const c=l.samples,h=l.format;let m=l.attachmentPoint||Tg(h,l.internalFormat);if(m||(m=Pr+u),Rg(m)&&o.push(m),!f)if(c!==void 0||Ig(h))f=i.createRenderbuffer(),i.bindRenderbuffer(qt,f),c>1?i.renderbufferStorageMultisample(qt,c,h,t,n):i.renderbufferStorage(qt,h,t,n);else{const d=Object.assign({},l);d.width=t,d.height=n,d.auto===void 0&&(d.auto=!1,d.min=d.min||d.minMag||Mr,d.mag=d.mag||d.minMag||Mr,d.wrapS=d.wrapS||d.wrap||Br,d.wrapT=d.wrapT||d.wrap||Br),f=mo(i,d)}if(qs(i,f))i.framebufferRenderbuffer(r,m,qt,f);else if(nr(i,f))l.layer!==void 0?i.framebufferTextureLayer(r,m,f,l.level||0,l.layer):i.framebufferTexture2D(r,m,l.target||_g,f,l.level||0);else throw new Error("unknown attachment type");a.attachments.push(f)}),i.drawBuffers&&i.drawBuffers(o),a}function Ng(i,e,t,n,r){n=n||i.drawingBufferWidth,r=r||i.drawingBufferHeight,e.width=n,e.height=r,t=t||Vo,t.forEach(function(s,o){const a=e.attachments[o],l=s.format,u=s.samples;if(u!==void 0||qs(i,a))i.bindRenderbuffer(qt,a),u>1?i.renderbufferStorageMultisample(qt,u,l,n,r):i.renderbufferStorage(qt,l,n,r);else if(nr(i,a))Z1(i,a,s,n,r);else throw new Error("unknown attachment type")})}class Pg{constructor(e,t,n,r){this.id=e,this.original=t,this.texture=n,this.meta=r}get width(){return this.original.width}get height(){return this.original.height}}class Bg{constructor(e,t=new xs("textures")){Fe(this,"textures",new Map);this.gl=e,this.idGenerator=t}addImage(e,t){let n=t==null?void 0:t.id;if(n&&this.textures.has(n))throw new Error(`Texture with id ${n} already exists`);if(!n){for(let o=0;o<this.textures.size+5&&(n=this.idGenerator.generate(),!!this.textures.has(n));o++)n=void 0;if(!n)throw new Error("Textures overflow!")}const r=mo(this.gl,{src:e}),s=new Pg(n,e,r,t.meta);return this.textures.set(n,s),s}downloadImage(e,t){return Os(e).then(n=>this.addImage(n,t))}delete(e){const t=this.textures.get(e);if(!t)throw new Error(`Texture with id ${e} already deleted`);return this.gl.deleteTexture(t.texture),this.textures.delete(e),t.original}get(e){const t=this.textures.get(e);if(!t)throw new Error(`Texture with id ${e} not found`);return t}has(e){return this.textures.has(e)}clear(){this.textures.forEach(e=>this.gl.deleteTexture(e.texture)),this.textures.clear()}}class Mg{constructor(e,t,n=document.createElement("canvas").getContext("2d")){Fe(this,"stencilTexture");Fe(this,"ctx");if(this.gl=e,this.textManager=t,!n)throw new Error("TextStencilService require not null ctx: CanvasRenderingContext2D.");this.ctx=n;const r=e.createTexture();if(!r)throw new Error("Failed to create WebGL texture in TextStencilService.");this.stencilTexture=r}getTextStencil(e,t,n,r){const s=Math.ceil(Math.abs(n)),o=Math.ceil(Math.abs(r)),a=this.textManager.drawTextInfo(e,t,s,o),l=this.ctx.canvas;l.height!=o&&(l.height=o),l.width!=s&&(l.width=s),this.ctx.clearRect(0,0,s,o),this.draw(this.ctx,a);const u=this.gl;return qr(u,this.stencilTexture,l,{wrap:u.CLAMP_TO_EDGE,min:u.LINEAR}),{stencil:this.stencilTexture,info:a}}draw(e,t,n=!1){e.lineJoin="round",e.miterLimit=2,e.textAlign=t.align,e.textBaseline=t.baseline,e.lineWidth=t.lineWidth,e.font=Jt(t.font,t.fontSize),e.strokeStyle="#ff0000",e.fillStyle="#00ff00";const r=t.lines;for(let s=0;s<r.length;s++){const o=r[s];e.strokeText(o.text,o.x,o.y)}for(let s=0;s<r.length;s++){const o=r[s];e.fillText(o.text,o.x,o.y)}if(n){e.lineWidth=3,e.strokeStyle="#aaaaaa",e.strokeRect(0,0,e.canvas.width,e.canvas.height),e.beginPath(),e.moveTo(e.canvas.width/2,0),e.lineTo(e.canvas.width/2,e.canvas.height),e.stroke(),e.beginPath(),e.moveTo(0,e.canvas.height/2),e.lineTo(e.canvas.width,e.canvas.height/2),e.stroke(),e.strokeStyle="#ffffff",e.lineWidth=1;for(let s=0;s<r.length;s++){const o=r[s],a=o.y,l=o.x,u=e.measureText(o.text);console.debug(o),console.debug(u),e.beginPath(),e.moveTo(0,a),e.lineTo(e.canvas.width,a),e.strokeStyle="#ff0000",e.stroke(),e.beginPath(),e.moveTo(l,a-u.actualBoundingBoxAscent),e.lineTo(l,a+u.actualBoundingBoxDescent),e.strokeStyle="#00ff00",e.stroke(),e.strokeStyle="#0000ff",e.strokeRect(l-u.actualBoundingBoxLeft,a-u.actualBoundingBoxAscent,u.actualBoundingBoxLeft+u.actualBoundingBoxRight,u.actualBoundingBoxAscent+u.actualBoundingBoxDescent)}}}}class zg{constructor(e,t,n,r){Fe(this,"textService");this.gl=e,this.textures=t,this.graphics=r,this.textService=new Mg(e,n)}clear(){this.graphics.clear()}drawFrame(e){this.graphics.resize(e.width,e.height);const t=this.graphics.buffersPull.get(e.width,e.height),n=this.gl;n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT),e.blocks.forEach(r=>{this.drawBlock(e,r,t)}),this.graphics.buffersPull.free(t)}drawBlock(e,t,n){const{graphics:r,textures:s}=this,o=this.blockSize(e,t),{container:a,content:l}=t;let u=r.canvasRenderBuffer;t.effects.length&&(u=n,this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,n.framebuffer),this.gl.clear(this.gl.COLOR_BUFFER_BIT));let f;switch(l.type){case"image":{const c=s.get(l.value.id);switch(a.type){case"global":{const h=r.size;r.drawRectImage(c.texture,f={...o,position:{x:h.width/2,y:h.height/2},rotation:0},u);break}case"rectangle":{r.drawRectImage(c.texture,f=a.value,u);break}}break}case"text":{const{text:c,style:h}=l.value,m=this.textService.getTextStencil(c,h,o.width,o.height);f=this.textRectangle(e,t,o,h.baseline,m.info);const d=h.stroke.settings.type!=="disabled",p=h.fill.settings.type!=="disabled",_=+d*1|+p*2;d&&r.drawStencilLayer(m.stencil,1,_,f,h.stroke,u),p&&r.drawStencilLayer(m.stencil,2,_,f,h.fill,u);break}}t.effects.length!==0&&r.drawModifications(t.effects,f,n,r.canvasRenderBuffer,!0)}blockSize(e,t){const n=t.container,r=t.content;if(n.type=="rectangle")return n.value;if(r.type=="text"){const s=r.value.text.split(`
`),o=s.length,a=Math.max(...s.map(l=>l.length));return{width:e.width*n.value.maxWidth,height:e.height*Math.max(n.value.minHeight,Math.min(n.value.maxHeight,o*(.175+Math.max(-.05,.03*(2.5-a/10)))))}}return{width:e.width*n.value.maxWidth,height:e.height*n.value.maxHeight}}textRectangle(e,t,n,r,s){const o=t.container;if(o.type=="rectangle")return o.value;const a=2/9,l=n.height/2+s.fontSize*a,u=r=="top"?l:r=="middle"?e.height/2:e.height-l;return{...n,rotation:0,position:{x:e.width/2,y:u}}}}function yr(i,e){if(!e)return 1;if(i===e)return 0;const[t,n,r]=i.split(".").map(l=>Number(l)),[s,o,a]=e.split(".").map(l=>Number(l));return t<s?-1:t>s?1:n<o?-1:n>o?1:r<a?-1:r>a?1:0}const on=class{static fromFile(e){return new un().loadAsync(e).then(n=>{const r=n.file("index.json");return r?r.async("string").then(s=>{const o=JSON.parse(s,(l,u)=>(l==="container"&&u.type==="global"&&(u.value.minHeight=.1),u));if(yr(this.FormatVersion,o.formatVersion)==-1)throw new jn(`application version ${this.FormatVersion} lower than file version ${o.formatVersion}`);let a=Promise.all([Promise.all(o.resources.images.map(l=>{const u=n.file(this.imageFilepath(l));if(!u)throw new Error(`Not found image with id ${l}`);return u.async("blob").then(f=>({id:l,blob:f}))})),Promise.all((o.resources.patterns||[]).map(l=>{const u=n.file(this.patternFilepath(l));if(!u)throw new Error(`Not found pattern with id ${l}`);return u.async("blob").then(f=>({name:l,blob:f}))}))]).then(([l,u])=>({meme:o.meme,resources:{images:l,patterns:u}}));return yr(o.formatVersion,"0.2.2")===-1&&(a=a.then(this.fromV0_2_1ToV0_2_2)),yr(o.formatVersion,"0.2.3")===-1&&(a=a.then(this.fromV0_2_2ToV0_2_3)),a}):on.zeroVersion(n).then(on.fromV0_2_0ToV0_2_1).then(on.fromV0_2_1ToV0_2_2).then(on.fromV0_2_2ToV0_2_3)})}static fromV0_2_0ToV0_2_1(e){return{...e,resources:{...e.resources,patterns:[]}}}static fromV0_2_1ToV0_2_2(e){return{...e,meme:{frames:e.meme.frames.map(t=>({...t,blocks:t.blocks.map(n=>({...n,effects:[]}))}))}}}static fromV0_2_2ToV0_2_3(e){return{...e,meme:{frames:e.meme.frames.map(t=>({...t,blocks:t.blocks.map(n=>({...n,effects:n.effects.map(r=>{const s=r.settings,o=s.type;return delete s.type,{type:o,settings:s}})}))}))}}}static toFile(e){const t=new un;e.resources.images.forEach(({id:r,blob:s})=>{t.file(this.imageFilepath(r),s,{binary:!0})}),e.resources.patterns.forEach(({name:r,blob:s})=>{t.file(this.patternFilepath(r),s,{binary:!0})});const n={meme:e.meme,formatVersion:this.FormatVersion,editorVersion:this.EditorVersion,resources:{images:e.resources.images.map(r=>r.id),patterns:e.resources.patterns.map(r=>r.name)}};return t.file("index.json",JSON.stringify(n)),t.generateAsync({type:"blob"})}static imageFilepath(e){return`resources/images/${e}.png`}static patternFilepath(e){return`resources/patterns/${e}.png`}static zeroVersion(e){const t=e.file("text.json");if(!t)throw new jn("Unknown format");const n=t.comment;return t.async("string").then(r=>{const s=JSON.parse(r),o=e.file(/.*\.png/),a=new Array(o.length);return Promise.all(o.map(l=>l.async("blob").then(u=>{const f=+l.name.substring(0,l.name.length-4);return this.imageSizes(u).then(({width:c,height:h})=>{const m={id:`old-frame-${f}`,blocks:[{id:`old-frame-${f}-background`,container:{type:"global",value:{maxHeight:1,maxWidth:1,minHeight:1}},content:{type:"image",value:{id:l.name}}}],height:h,width:c};a[f]=m}).then(()=>({id:l.name,blob:u}))}))).then(l=>{for(let u=0;u<s.length;u++){const f=s[u],c=a[u];if(n)switch(n){case"v0.0.3":c.blocks.push(...f.textContent.map((h,m)=>{const d=h.box,p=Rt.mergePartials(Rt.DefaultStyle(),h.style);return{id:`old-frame-${u}-block-${m}`,container:h.main?{type:"global",value:{maxHeight:.4,maxWidth:.96,minHeight:.1}}:{type:"rectangle",value:{height:d.height,width:d.width,position:{x:d.x,y:d.y},rotation:0}},content:{type:"text",value:{text:h.text,style:Er(p,h.main)}}}}));break;case"v0.0.4":c.blocks.push(...f.textContent.map((h,m)=>{const d=h.box,p=Rt.mergePartials(Rt.DefaultStyle(),h.style);return{id:`old-frame-${u}-block-${m}`,container:h.main?{type:"global",value:{maxHeight:.4,minHeight:.1,maxWidth:.96}}:{type:"rectangle",value:{height:d._height,width:d._width,position:{x:d.transform.x,y:d.transform.y},rotation:d.transform.rotate}},content:{type:"text",value:{text:h.text,style:Er(p,h.main)}}}}));break;default:throw new jn(`Unexpected legacy version ${n}`)}else{const h=typeof f=="string"?f:f.text,m=typeof f=="string"?Rt.DefaultStyle():f.textContent.style,d={text:h,style:Er(Rt.mergePartials(Rt.DefaultStyle(),m),!0)};c.blocks.push({id:`old-frame-${u}-block-0`,container:{type:"global",value:{maxHeight:.4,maxWidth:.96,minHeight:.1}},content:{type:"text",value:d}})}}return{meme:{frames:a},resources:{images:l}}})})}static imageSizes(e){return yn(e,Os)}};let sn=on;Fe(sn,"FormatVersion","0.2.3"),Fe(sn,"EditorVersion","v0.2.4-2-g9248f3b");class jn extends Error{constructor(e,t){super(`Unsupported version: ${e}`,{cause:t})}}function Er(i,e){var n;const t=(n=i.shadow)!=null&&n.enabled?{blur:i.shadow.blur,color:i.shadow.color,offset:i.shadow.offset}:void 0;return{align:"center",baseline:e?"bottom":"middle",case:i.case,experimental:{},fill:{alpha:1,shadow:t,settings:ks(i.fill)},stroke:{alpha:1,shadow:t,settings:ks(i.stroke)},lineSpacing:i.experimental.lineWidthCoefficient*(i.experimental.lineSpacingCoefficient-.5),strokeWidth:i.experimental.lineWidthCoefficient*100,font:i.font}}function ks(i){switch(i.type){case"color":return{type:"color",value:i.name};case"pattern":return{type:"pattern",name:i.name,rotate:i.patternSettings.rotate,scale:i.patternSettings.scale,shift:i.patternSettings.shift};case"none":return{type:"disabled"};default:throw new jn(`Failed convert old brush ${JSON.stringify(i)} to material settings`)}}var Rt;(i=>{function e(){return{case:"UPPER",fill:{name:"#ffffff",type:"color",patternSettings:{rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}},stroke:{name:"#000000",type:"color",patternSettings:{rotate:0,scale:{x:1,y:1},shift:{x:0,y:0}}},name:"custom",font:{bold:!1,family:"Impact",italic:!1,smallCaps:!1},shadow:{enabled:!1,color:"#000000",blur:10,offset:{x:0,y:0}},experimental:{lineSpacingCoefficient:.5,lineWidthCoefficient:.1385,interpolationPoint:100}}}i.DefaultStyle=e;function t(r){return r!==null&&typeof r=="object"}function n(r,s){for(const o in r){const a=s[o],l=r[o];t(l)&&(!a||t(a))?s[o]=n(l,a||{}):a===void 0&&(s[o]=l)}return s}i.mergePartials=n})(Rt||(Rt={}));function Ug(i,e){switch(e){case"As is":return i;case"UPPER":return i.toUpperCase();case"lower":return i.toLowerCase()}throw new Error(`Unsupported text case type: ${e}`)}class Dg{constructor(e=document.createElement("canvas").getContext("2d")){this.ctx=e}set baseline(e){this.ctx.textBaseline=e}get baseline(){return this.ctx.textBaseline}set align(e){this.ctx.textAlign=e}get align(){return this.ctx.textAlign}measureText(e,t,n){this.ctx.font=Jt(t,n);const r=this.ctx.measureText(e);return{advancedWidth:r.width,width:r.actualBoundingBoxLeft+r.actualBoundingBoxRight,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent,boundingBox:{top:r.actualBoundingBoxAscent,bottom:r.actualBoundingBoxDescent,left:r.actualBoundingBoxLeft,right:r.actualBoundingBoxRight}}}}const si=class{constructor(e,t=new Dg){Fe(this,"heightMeasuresCache",new Map);this.statistics=e,this.measurer=t,t.baseline="bottom"}drawTextInfo(e,t,n,r){const s=Ug(e,t.case).split(`
`);return this.drawLinesInfo(s,t.font,t.stroke.settings.type=="disabled"?0:t.strokeWidth/100,t.align,t.baseline,t.lineSpacing,n,r)}fontSize(e,t,n,r,s,o,a=100){if(e<2||t<2)return Math.min(e,t);const l=n.map(g=>{const $=this.measurer.measureText(g,r,a);return{line:g,width:$.width}}).reduce((g,$)=>$.width>g.width?$:g).line,u=s*a,h=(this.measurer.measureText(l,r,a).width+u)/a,m=e/h,d=n.length,p=t/(d+o*(d-1))/(1+s),_=Ch(p,this.statistics.get(r));return Math.min(_,m)}measureReference(e,t){const n=Jt(e,t),r=this.heightMeasuresCache.get(n);if(r)return r;const s=this.measurer.measureText(si.MAX_HEIGHT_TEXT_EXAMPLE,e,t);return this.heightMeasuresCache.set(n,s),s}linesHeight(e,t,n){return e*(t+n*(t-1))}drawLinesInfo(e,t,n,r,s,o,a,l){const u=this.fontSize(a-2,l-2,e,t,n,o),f=n*u,c=f/2,h=r=="left"?c:r=="right"?a-c:a/2|0,m=this.measureReference(t,u),d=m.height+f/2,p=d*(1+o),_=this.linesHeight(d,e.length,o)+f/2,g=s=="top"?0:s=="middle"?(l-_)/2|0:l-_,$=d+g-m.boundingBox.bottom,E=new Array;this.measurer.align=r;for(let y=0;y<e.length;y++){const R=e[y],I=this.measurer.measureText(R,t,u).boundingBox,B=$+y*p;let j=h;switch(r){case"center":j+=(I.left-I.right)/2;break;case"left":j+=I.left;break;case"right":j-=I.right;break}E.push({text:R,x:j,y:B})}return{lines:E,font:t,fontSize:u,lineWidth:f,stringHeight:d,totalHeight:_,baseline:"bottom",align:r}}};let Wn=si;Fe(Wn,"MAX_HEIGHT_TEXT_EXAMPLE","AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZzАаБбВвГгДдЕеЁёЖжЗзИиЙйКкЛлМмНнОоПпРрСсТтУуФфХхЦцЧчШшЩщЪъЫыЬьЭэЮюЯя");const Zo=`#version 300 es
precision highp  float;
precision highp  int;

vec2[6] v;
vec2[6] t;

out vec2 texCoord;
void main() {
    v[0] = vec2(-1, -1);
    v[1] = vec2(1, -1);
    v[2] = vec2(1, 1);
    v[3] = vec2(1, 1);
    v[4] = vec2(-1, 1);
    v[5] = vec2(-1, -1);
    int i = gl_VertexID;
    gl_Position = vec4(v[i], 0, 1);
    t[0] = vec2(0, 0);
    t[1] = vec2(1, 0);
    t[2] = vec2(1, 1);
    t[3] = vec2(1, 1);
    t[4] = vec2(0, 1);
    t[5] = vec2(0, 0);
    texCoord = vec2(t[i].x, t[i].y);
}`,Lg=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform vec3 color;
uniform float alpha;
uniform float blur;
uniform vec2 resolution;
uniform bool dim;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    if(blur <= 0.) {
        vec4 origin = texture(stencilSampler, texCoord);
        FragColor = vec4(color, alpha * origin.a);
        return;
    }

    float sum = 0.0;
    float r = blur * 0.5;
    float scaleX = 1. / resolution.x;
    float scaleY = 1. / resolution.y;
    float from = -2.0 * r;
    float to = 2.0 * r;
    float C1 = 2. * r * r;
    float C2 = sqrt(C1 * PI);
    float channel = float(dim);
    for(float delta = from; delta <= to; delta++) {
        float x = (1. - channel) * delta;
        float y = channel * delta;
        vec2 shift = vec2(x * scaleX, y * scaleY);
        vec4 origin = texture(stencilSampler, texCoord + shift);
        float g = exp(-(x * x + y * y) / C1) / C2;
        sum += origin.a * g;
    }
    FragColor = vec4(color, alpha * sum);
}`,xg=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D textureSampler;

in vec2 texCoord;
out vec4 FragColor;

void main() {
    FragColor = texture(textureSampler, vec2(texCoord.x, texCoord.y));
}`,Qn=`float channelAlpha(int currentChannel, int channels, vec4 o);

float fillAlpha(vec4 o) {
    return o.g * o.a;
}

float strokeFullAlpha(vec4 o) {
    float a = (1. - fillAlpha(o));
    if(a == 0.0)
        return o.a * o.r;
    return o.a * o.r / a;
}

float strokeSimpleAlpha(vec4 o) {
    return o.r * o.a;
}

#define STENCIL_CHANNEL_STROKE 1
#define STENCIL_CHANNEL_FILL 2

float channelAlpha(int currentChannel, int channels, vec4 o) {
    if(currentChannel == STENCIL_CHANNEL_FILL)
        return fillAlpha(o);
    if((channels & STENCIL_CHANNEL_FILL) != 0)
        return strokeFullAlpha(o);
    return strokeSimpleAlpha(o);
}

void main();`,Xo=`#version 300 es
precision highp  float;
precision highp  int;

in vec3 position;
in vec2 textureCoordinate;

uniform mat4 transform;
uniform mat4 camera;

out vec2 texCoord;
void main() {
    gl_Position = camera * transform * vec4(position, 1);

    texCoord = textureCoordinate;
}`,qo=`#version 300 es
precision highp  float;
precision highp  int;

uniform sampler2D stencilSampler;
uniform float alpha;
uniform int channel;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int channel, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    FragColor = vec4(texCoord, 0, channelAlpha(channel, origin) * alpha);
}
`;function Kt(i){const e=parseInt(i.slice(1),16);return[(e>>2*8)/255,(e>>8&255)/255,(e&255)/255]}function Og(i,e,t){const n=i.name;let r=e[i.name];r===void 0&&(r=e[i.name]=structuredClone(i.default));const s=i.input;switch(s.type){case"float":t[n]=r;break;case"int":t[n]=r|0;break;case"color":t[n]=Kt(r);break;case"angle":t[n]=s.mode==Dr.DEGREE?r:r/180*Math.PI;break;case"point":{const{x:o,y:a}=r;t[n]=[o,a];break}}}class Gg{constructor(e,t=[{format:e.RGBA}]){Fe(this,"freeBuffers",[]);Fe(this,"usedBuffers",new Set);this.gl=e,this.options=t}get(e,t){const n=this.freeBuffers.pop();if(n)return(n.height!==t||n.width!==e)&&Ng(this.gl,n,this.options,e,t),this.usedBuffers.add(n),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,n.framebuffer),this.gl.clear(this.gl.COLOR_BUFFER_BIT),n;const r=Fg(this.gl,this.options,e,t);return this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.usedBuffers.add(r),console.log(`Создан новый буфер, всего: ${this.usedBuffers.size}`),r}free(e){this.usedBuffers.delete(e)||console.trace("FrameBuffersPull: free not used buffer!"),this.freeBuffers.push(e)}clear(){this.freeBuffers.forEach(e=>{this.gl.deleteFramebuffer(e.framebuffer),e.attachments.forEach(t=>{this.gl.isTexture(t)?this.gl.deleteTexture(t):this.gl.deleteRenderbuffer(t)})}),console.log("FREEEE"),this.freeBuffers=[],this.usedBuffers.size&&console.trace(`FrameBuffersPull: call clear with ${this.usedBuffers.size} buffers in use!`)}}function Hg({vertex:i,fragment:e}){return[i||Xo,(e||qo)+Qn]}function jg({vertex:i,fragment:e}){return[i||Zo,(e||qo)+Qn]}class Wg{constructor(e,t,n,r){Fe(this,"shaders");Fe(this,"buffersPull");Fe(this,"shadowProgram");Fe(this,"imageProgram");Fe(this,"rectangleBuffer");Fe(this,"_canvasRenderBuffer",{framebuffer:null,width:0,height:0});this.gl=e,this.textures=t,e.clearColor(0,0,0,0),e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);const s=Object.entries(n).map(([a,l])=>[a,Hg(l)]).concat(Object.entries(r).map(([a,l])=>[a,jg(l)]),[["__shadow__",[Zo,Lg+Qn]],["__image__",[Xo,xg+Qn]]]),o=dg(e,Object.fromEntries(s));this.shaders=Object.fromEntries(Object.entries({...n,...r}).map(([a,l])=>[a,{uniforms:(u,f,c)=>{if(l.uniforms)return l.uniforms(u,f,c);if(l.inputs){const h={};for(const m of l.inputs)Og(m,u,h);return h}return{}},info:o[a]}])),this.shadowProgram=o.__shadow__,this.imageProgram=o.__image__,this.rectangleBuffer=p0(e,{position:[[-.5,-.5,0],[.5,-.5,0],[.5,.5,0],[.5,.5,0],[-.5,.5,0],[-.5,-.5,0]].flat(),textureCoordinate:[[0,0],[1,0],[1,1],[1,1],[0,1],[0,0]].flat()}),this.buffersPull=new Gg(this.gl)}get canvasRenderBuffer(){return this._canvasRenderBuffer}get size(){return{width:this.gl.canvas.width,height:this.gl.canvas.height}}clear(){this.buffersPull.clear()}resize(e,t){this.canvasRenderBuffer.width==e&&this.canvasRenderBuffer.height==t||(this.gl.canvas.width=this._canvasRenderBuffer.width=e,this.gl.canvas.height=this._canvasRenderBuffer.height=t,this.gl.viewport(0,0,e,t))}drawImage(e){this.gl.useProgram(this.imageProgram.program),this.imageProgram.uniformSetters.textureSampler(e),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}drawShadow(e,t,n,r,s,o,a){const l=this.gl,u=this.buffersPull.get(a.width,a.height);this.drawStencilLayer(e,t,n,{...r,position:{x:r.position.x+o.offset.x,y:r.position.y+o.offset.y}},s,u,!1);const f={color:Kt(o.color),alpha:1,resolution:[this.size.width,this.size.height],blur:Math.min(o.blur,3600)};l.useProgram(this.shadowProgram.program);const c=this.buffersPull.get(a.width,a.height);l.bindFramebuffer(l.FRAMEBUFFER,c.framebuffer),l.clear(l.COLOR_BUFFER_BIT),rn(this.shadowProgram,{...f,stencilSampler:u.attachments[0],dim:0}),l.drawArrays(l.TRIANGLES,0,6),l.bindFramebuffer(l.FRAMEBUFFER,a.framebuffer),rn(this.shadowProgram,{...f,stencilSampler:c.attachments[0],dim:1}),l.drawArrays(l.TRIANGLES,0,6),this.buffersPull.free(u),this.buffersPull.free(c)}drawStencilLayer(e,t,n,r,s,o=this.canvasRenderBuffer,a=!0){const l=this.gl;if(s.settings.type=="disabled")return;a&&s.shadow&&this.drawShadow(e,t,n,r,s,s.shadow,o);const u=this.shaders[s.settings.type],f={camera:_t.ortho(0,this.size.width,this.size.height,0,-100,100),transform:_t.scale(_t.rotateZ(_t.translation([r.position.x,r.position.y,0]),r.rotation),[r.width,r.height,1]),stencilSampler:e,channel:t,channels:n,alpha:s.alpha,...u.uniforms(s.settings,r,this)};l.useProgram(u.info.program),rn(u.info,f),wr(l,u.info,this.rectangleBuffer),l.bindFramebuffer(l.FRAMEBUFFER,o.framebuffer),l.drawArrays(l.TRIANGLES,0,6)}drawModifications(e,t,n,r,s){const o=this.gl;o.disable(o.BLEND);const a=this.buffersPull.get(r.width,r.height),l=s?n:this.buffersPull.get(r.width,r.height);let u=n,f=a;for(let c=0;c<e.length;c++){const h=c===e.length-1?r:f,m=e[c],d=this.shaders[m.type],p={layer:u.attachments[0],resolution:[this.size.width,this.size.height],...d.uniforms(m.settings,t,this)};o.bindFramebuffer(o.FRAMEBUFFER,h.framebuffer),h!==r?o.clear(o.COLOR_BUFFER_BIT):o.enable(o.BLEND),o.useProgram(d.info.program),rn(d.info,p),wr(o,d.info,this.rectangleBuffer),o.drawArrays(o.TRIANGLES,0,6),h!==r&&(f=u,u=h)}this.buffersPull.free(a),s||this.buffersPull.free(l)}drawRectImage(e,t,n){const r=this.gl,s=this.imageProgram,o={camera:_t.ortho(0,this.size.width,this.size.height,0,-100,100),transform:_t.scale(_t.rotateZ(_t.translation([t.position.x,t.position.y,0]),t.rotation),[t.width,t.height,1]),textureSampler:e};r.useProgram(s.program),rn(s,o),wr(r,s,this.rectangleBuffer),r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer),r.drawArrays(r.TRIANGLES,0,6)}}function Vg(i){const e=new Set(Object.keys(i));return["empty","await"].every(t=>e.has(t))}function Zg(i){return Object.values(i).every(Vg)}class Xg{constructor(e,t,n,r,s,o){Fe(this,"textures");Fe(this,"drawer");Fe(this,"meme",{frames:[]});Fe(this,"activeFrame");Fe(this,"activeBlock");Fe(this,"inUpdate",{meme:!1,frame:!1,block:!1});Fe(this,"gl");Fe(this,"backgroundTasks",new Map);Fe(this,"placeholdersTextures",new Array);Fe(this,"usedImages",new Map);Fe(this,"blockIdGenerator",new xs("v.0.2.0-"+Date.now().toString()+"-"));Fe(this,"setBackground",e=>{const t=new FileReader,n=new Promise((r,s)=>{t.addEventListener("load",()=>r(t.result)),t.addEventListener("error",()=>s(t.error))});t.readAsDataURL(e),this.runTask("Меняем фон",n.then(r=>this.textures.downloadImage(r,{meta:{source:"user",type:"image"}}).then(s=>{this.removeImageUsage(this.activeFrame.blocks[0]),this.activeFrame.blocks[0].content={type:"image",value:{id:s.id}},this.activeFrame.width=s.width,this.activeFrame.height=s.height,this.addImageUsage(this.activeFrame.blocks[0]),this.frameUpdated()})))});Fe(this,"drawPreviewAsync",Kg(e=>{this.drawer.drawFrame(e),this.drawPreview(e)},250));Fe(this,"zipCanvas",document.createElement("canvas"));Fe(this,"zipCtx",this.zipCanvas.getContext("2d"));this.stores=e;const a=t.getContext("webgl2",{premultipliedAlpha:!1});if(!a)throw new Error("Failed to create WebGL2 context!");this.gl=a,this.textures=new Bg(a);const l=Ph(),u=new Wg(a,this.textures,o.materials,o.effects);this.drawer=new zg(a,this.textures,new Wn(l.store),u),this.runTask("Загрузка ресурсов",Promise.all(n.map(({name:c,url:h})=>this.textures.downloadImage(h,{id:c,wrap:a.REPEAT,meta:{source:"default",type:"pattern"}}).then(m=>[c,m]))).then(c=>c.map(([h,m])=>({name:h,textureId:m.id}))).then(c=>wt.addPattern(...c))),this.runTask("Загрузка шрифтов",Mh()),this.runTask("Загрузка метрик шрифтов",l.then),this.runTask("Загрузка плейсхолдеров",Promise.all(Object.entries(r).map(([c,{empty:h}])=>Promise.all(h.map(({name:m,url:d})=>this.textures.downloadImage(d,{id:`placeholder-${c}-${m}`,meta:{source:"default",type:"image"}}))).then(m=>[c,m]))).then(Object.fromEntries).then(c=>this.placeholdersTextures=c[s]??c.default).then(()=>this.deleteFrame(this.activeFrame)).then(()=>this.draw(this.activeFrame,!0)));const f=qg(()=>this.draw());e.meme.subscribe(c=>{this.inUpdate.meme||(this.meme=c)}),e.frame.subscribe(c=>{f(),!this.inUpdate.frame&&(this.activeFrame=c)}),e.block.subscribe(c=>{f(),!this.inUpdate.block&&(this.activeBlock=c)})}get busy(){return this.backgroundTasks.size!=0}get currentTask(){return this.busy?this.backgroundTasks.values().next().value:""}runTask(e,t){return this.backgroundTasks.set(t,e),this.stores.busy.set(this.currentTask),t.catch(n=>{throw this.stores.error.set(n),n}),t.finally(()=>{this.backgroundTasks.delete(t),this.stores.busy.set(this.currentTask)}),t}addImageUsage(e){if(e.content.type!="image")return;const t=e.content.value.id;if(this.textures.get(t).meta.source=="default")return;let r=this.usedImages.get(t);r||this.usedImages.set(t,r=new Set),r.add(e)}removeImageUsage(e){if(e.content.type!="image")return;const t=e.content.value.id;if(this.textures.get(t).meta.source=="default")return;const r=this.usedImages.get(t);r&&(r.delete(e),r.size==0&&this.textures.delete(t))}memeUpdated(){this.inUpdate.meme=!0,this.stores.meme.set(this.meme),this.inUpdate.meme=!1}frameUpdated(){this.inUpdate.frame=!0,this.stores.frame.set(this.activeFrame),this.inUpdate.frame=!1}blockUpdated(){this.inUpdate.block=!0,this.stores.block.set(this.activeBlock),this.inUpdate.block=!1}shiftBlock(e,t){const n=this.activeFrame.blocks,r=n.indexOf(e);let s=-1;const o=n.length;for(let a=r+t;a>0&&a<o;a+=t)if(n[a].content.type=="text"){s=a;break}s!=-1&&(n[r]=n[s],n[s]=e,this.frameUpdated())}shiftFrame(e,t){const n=this.meme.frames,r=n.indexOf(e),s=r+t;s<0||s>=n.length||(n[r]=n[s],n[s]=e,this.memeUpdated())}addBlock(e=this.activeBlock){e.content.type!=="text"&&(e=this.activeFrame.blocks.find(n=>n.content.type==="text")),e=an(e),e.id=this.blockIdGenerator.generate(),e.content.type==="text"&&(e.content.value.text="Текст",e.container.type==="global"&&(e.content.value.style.baseline="middle",e.content.value.style.align="center"));const t=this.activeFrame;e.container={type:"rectangle",value:{width:t.width*.5|0,height:t.height*.5|0,position:{x:t.width*.5|0,y:t.height*.5|0},rotation:0}},this.activeFrame.blocks.push(e),this.frameUpdated(),this.activeBlock=e,this.blockUpdated()}newFrame(e){var n,r;const t={...an(((r=(n=this.activeBlock)==null?void 0:n.content)==null?void 0:r.type)==="text"?this.activeBlock.content.value.style:zs),baseline:"bottom"};return{id:this.blockIdGenerator.generate(),blocks:[{id:this.blockIdGenerator.generate(),container:{type:"global",value:{maxHeight:1,maxWidth:1,minHeight:1}},content:{type:"image",value:{id:e.id}},effects:[]},{id:this.blockIdGenerator.generate(),container:{type:"global",value:{maxWidth:.96,maxHeight:.4,minHeight:0}},content:{type:"text",value:{text:"",style:t}},effects:[]}],height:e.height,width:e.width}}copyFrame(e){const t=an(e);return t.id=this.blockIdGenerator.generate(),e.blocks.forEach(n=>n.id=this.blockIdGenerator.generate()),t}addFrame(e){const t=e?this.copyFrame(e):this.newFrame(this.placeholdersTextures[Math.floor(Math.random()*this.placeholdersTextures.length)]);return this.meme.frames.push(t),this.activeFrame=t,t.blocks.forEach(n=>this.addImageUsage(n)),this.memeUpdated(),this.frameUpdated(),t}deleteBlock(e){if(e.id==this.activeBlock.id){const t=this.activeFrame.blocks.find(n=>n.id!=e.id&&n.content.type==="text");t?(this.activeBlock=t,this.blockUpdated()):this.addBlock()}this.removeImageUsage(e),this.activeFrame.blocks.splice(this.activeFrame.blocks.indexOf(e),1),this.frameUpdated()}deleteFrame(e){if(e.id==this.activeFrame.id){const t=this.meme.frames.find(n=>n.id!=e.id);t?(this.activeFrame=t,this.frameUpdated()):this.addFrame()}this.meme.frames.splice(this.meme.frames.indexOf(e),1),e.blocks.forEach(t=>this.removeImageUsage(t)),this.memeUpdated()}copyFrameToClipboard(){return this.runTask("Копируем",this.frameBlob(this.activeFrame).then(e=>Yg(e)))}frameBlob(e){return this.drawer.drawFrame(e),kr(this.gl.canvas)}drawPreview(e){var t,n;(n=(t=this.stores.previews.value)[e.id])==null||n.call(t,this.gl.canvas)}draw(e=this.activeFrame,t=!1){this.busy&&!t||(this.drawer.drawFrame(e),t?this.drawPreview(e):this.drawPreviewAsync(e))}renderMeme(){return this.runTask("Пакуем мем",Promise.all(this.meme.frames.map(e=>this.frameBlob(e))).then(e=>{if(this.drawer.drawFrame(this.activeFrame),e.length==1)return{ext:"png",blob:e[0]};const t=new un,n=e.length.toString().length;return e.forEach((r,s)=>{t.file(`${(s+1).toString().padStart(n,"0")}.png`,r,{binary:!0})}),t.generateAsync({type:"blob"}).then(r=>({ext:"zip",blob:r}))}))}getImagesList(e=this.meme){return Array.from(new Set(e.frames.flatMap(t=>t.blocks.map(n=>n.content).map(n=>n.type=="image"?this.textures.get(n.value.id):"").filter(n=>n&&n.meta.source=="user"&&n.meta.type=="image"))))}getPatternsList(e=this.meme){return Array.from(new Set(e.frames.flatMap(t=>t.blocks.map(n=>n.content).flatMap(n=>{if(n.type!="text")return[];const r=[],s=n.value.style;return s.fill.settings.type=="pattern"&&r.push(s.fill.settings.name),s.stroke.settings.type=="pattern"&&r.push(s.stroke.settings.name),r}).filter(n=>n)))).map(t=>({name:t,texture:this.textures.get(wt.getTexture(t))})).filter(({texture:t})=>t.meta.source=="user")}exportMeme(){const e=this.getImagesList(),t=this.getPatternsList();return this.runTask("Пакуем мем",Promise.all([Promise.all(e.map(n=>(this.zipCanvas.width=n.width,this.zipCanvas.height=n.height,this.zipCtx.drawImage(n.original,0,0),kr(this.zipCanvas).then(r=>({id:n.id,blob:r}))))),Promise.all(t.map(({name:n,texture:r})=>(this.zipCanvas.width=r.width,this.zipCanvas.height=r.height,this.zipCtx.drawImage(r.original,0,0),kr(this.zipCanvas).then(s=>({name:n,blob:s})))))]).then(([n,r])=>sn.toFile({meme:this.meme,resources:{images:n,patterns:r}})))}openMeme(e){return this.runTask("Распаковываем мем",sn.fromFile(e).then(t=>(this.getImagesList().forEach(n=>this.textures.delete(n.id)),this.usedImages.clear(),Promise.all(t.resources.images.map(({id:n,blob:r})=>yn(r,s=>this.textures.downloadImage(s,{id:n,meta:{source:"user",type:"image"}}))).concat(t.resources.patterns.map(({name:n,blob:r})=>yn(r,s=>(wt.has(n)&&(this.textures.delete(wt.getTexture(n)),wt.delete(n)),this.textures.downloadImage(s,{meta:{source:"user",type:"pattern"}}).then(o=>wt.addPattern({name:n,textureId:o.id}))))))).then(()=>(this.meme=t.meme,this.meme.frames.flatMap(n=>n.blocks).forEach(n=>this.addImageUsage(n)),this.activeFrame=this.meme.frames[0],this.memeUpdated(),this.frameUpdated(),Ar())).then(()=>{this.meme.frames.forEach(n=>this.draw(n,!0)),this.draw()}))))}framesFromImages(e){return this.runTask("Загружаем картинки",Promise.all(e.map(t=>yn(t,n=>this.textures.downloadImage(n,{meta:{source:"user",type:"image"}})))).then(t=>t.map(n=>this.addFrame(this.newFrame(n)))).then(t=>Ar().then(()=>t)).then(t=>{t.forEach(n=>this.draw(n,!0))}))}addPattern(e,t){return this.runTask("Добавляем паттерн",yn(t,n=>this.textures.downloadImage(n,{meta:{source:"user",type:"pattern"}})).then(n=>{const r={name:e,textureId:n.id};return wt.addPattern(r),r})).then(()=>this.draw(this.activeFrame))}clear(){wt.clear(),this.textures.clear(),this.usedImages.clear(),this.drawer.clear()}}function qg(i){let e=0;return(...t)=>{e||(e=requestAnimationFrame(()=>{e=0,i.apply(void 0,t)}))}}function Kg(i,e){let t=0;return(...n)=>{t&&clearTimeout(t),t=setTimeout(()=>{t=0,i.apply(void 0,n)},e)}}function kr(i){return new Promise((e,t)=>i.toBlob(n=>{if(!n){t(new Error("Failed to get blob from canvas"));return}e(n)}))}class Ko extends Error{constructor(e,t){super(e),this.blob=t}}function Yg(i){return window.ClipboardItem?window.navigator.clipboard.write([new ClipboardItem({[i.type]:i})]):Promise.reject(new Ko("Ваш браузер не поддерживает копирование изображений из скриптов.",i))}const Jg=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D layer;
uniform float brightness;
uniform float contrast;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    vec4 color = texture(layer, texCoord);
    color.rgb += brightness - 0.5;
    if(contrast > 0.0)
        color.rgb /= (1.0 - contrast);
    else
        color.rgb *= (1.0 + contrast);
    color.rgb += 0.5;

    FragColor = color;
}
`,Qg={title:"Яркость и контраст",fragment:Jg,inputs:[{name:"brightness",title:"Яркость",default:0,input:{type:"float",min:-1,max:1,step:.05,layout:gt.RANGE}},{name:"contrast",title:"Контраст",default:0,input:{type:"float",min:-1,max:1,step:.05,layout:gt.RANGE}}]},e2=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D layer;
uniform vec2 resolution;
uniform float radius;
uniform float strength;
uniform vec2 center;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    vec2 coord = gl_FragCoord.xy;
    vec2 center = vec2(center.x, resolution.y - center.y);
    coord -= center;
    float distance = length(coord);
    float percent = distance / radius;
    coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
    coord += center;
    FragColor = texture(layer, coord / resolution);
}
`,t2={title:"Выпуклость",fragment:e2,inputs:[{name:"strength",default:.5,title:"Сила",input:{type:"float",min:0,max:1.5,step:.05,layout:gt.RANGE}},{name:"radius",default:50,title:"Радиус",input:{type:"float",min:0,step:1}},{name:"center",default:{x:100,y:100},title:"Центр",input:{type:"point",color:"#0fff00"}}]},n2=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D layer;
in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    vec4 color = texture(layer, texCoord);
    float value = 0.2126 * color.r + 0.7152 * color.g + 0.0722 * color.b;
    FragColor = vec4(value, value, value, color.a);
}
`,r2=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D layer;
uniform vec2 resolution;
uniform float radius;
uniform float minAlpha;
uniform float maxAlpha;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

float rand(vec2 co, float step) {
    return fract(cos(dot(co * step, vec2(15.2851, 18.435))) * 74687.84583);
}

void main() {
    // texCoord 0..1
    float sx = (rand(texCoord, 1.));
    float sy = (rand(texCoord, 2.));
    vec2 shift = vec2(sx, sy) * 2. - vec2(1);
    shift *= vec2(radius / resolution);
    vec4 origin = texture(layer, texCoord);
    origin += texture(layer, texCoord + shift);
    origin /= 2.;
    float rnd = rand(texCoord, 3.);
    FragColor = vec4(origin.rgb, origin.a * clamp(rnd, minAlpha, maxAlpha));
}
`,i2=[{name:"radius",title:"Радиус",description:"Радиус разброса пикселей",default:10,input:{type:"float",min:0,step:1}},{name:"minAlpha",title:"Минимальный альфа-канал",default:.5,input:{type:"float",min:0,max:1,step:.05,layout:gt.RANGE}},{name:"maxAlpha",title:"Максимальный альфа-канал",default:1,input:{type:"float",min:0,max:1,step:.05,layout:gt.RANGE}}],s2={title:"Шум",fragment:r2,inputs:i2},o2=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D layer;
uniform vec2 resolution;
uniform float radius;
uniform float strength;
uniform vec2 center;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    vec2 coord = gl_FragCoord.xy;
    vec2 center = vec2(center.x, resolution.y - center.y);
    coord -= center;
    float distance = length(coord);
    float percent = distance / radius;
    if(percent <= 1.0)
        coord *= mix(1.0, pow(percent, 1.0 - strength * 0.75) * radius / distance, 1.0 - percent);
    coord += center;
    FragColor = texture(layer, coord / resolution);
}
`,a2=[{name:"strength",default:.5,title:"Сила",input:{type:"float",min:0,max:1.5,step:.05,layout:gt.RANGE}},{name:"radius",default:50,title:"Радиус",input:{type:"float",min:0,step:1}},{name:"center",default:{x:100,y:100},title:"Центр",input:{type:"point",color:"#ff00ff"}}],l2={title:"Вогнутость",fragment:o2,inputs:a2},u2=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D layer;
uniform vec2 resolution;
uniform float radius;
uniform float angle;
uniform vec2 center;

in vec2 texCoord;
out vec4 FragColor;

#define PI 3.1415926

void main() {
    vec2 coord = gl_FragCoord.xy;
    vec2 center = vec2(center.x, resolution.y - center.y);
    coord -= center;
    float distance = length(coord);
    if(distance < radius) {
        float percent = (radius - distance) / radius;
        float theta = percent * percent * angle;
        float s = sin(theta);
        float c = cos(theta);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }
    coord += center;
    FragColor = texture(layer, coord / resolution);
}
`,f2={title:"Закрученность",fragment:u2,inputs:[{name:"angle",title:"Угол",default:180,input:{type:"angle",mode:Dr.RADIAN,step:.5}},{name:"radius",title:"Радиус",default:50,input:{type:"float",min:0,step:1}},{name:"center",title:"Центр",default:{x:100,y:100},input:{type:"point",color:"#0aaaa0"}}]},c2=`#version 300 es

precision mediump float;
precision mediump int;

uniform sampler2D layer;
uniform float temperature;
uniform float strength;

in vec2 texCoord;
out vec4 FragColor;

const float LuminancePreservationFactor = 1.0;

// Source: https://www.shadertoy.com/view/4sc3D7 
// Copyright (C) 2014 by Benjamin 'BeRo' Rosseaux
// http://creativecommons.org/publicdomain/zero/1.0/
// Valid from 1000 to 40000 K (and additionally 0 for pure full white)
vec3 colorTemperatureToRGB(const in float temperature) {
  // Values from: http://blenderartists.org/forum/showthread.php?270332-OSL-Goodness&p=2268693&viewfull=1#post2268693   
    mat3 m = (temperature <= 6500.0) ? mat3(vec3(0.0, -2902.1955373783176, -8257.7997278925690), vec3(0.0, 1669.5803561666639, 2575.2827530017594), vec3(1.0, 1.3302673723350029, 1.8993753891711275)) : mat3(vec3(1745.0425298314172, 1216.6168361476490, -8257.7997278925690), vec3(-2666.3474220535695, -2173.1012343082230, 2575.2827530017594), vec3(0.55995389139931482, 0.70381203140554553, 1.8993753891711275));
    return mix(clamp(vec3(m[0] / (vec3(clamp(temperature, 1000.0, 40000.0)) + m[1]) + m[2]), vec3(0.0), vec3(1.0)), vec3(1.0), smoothstep(1000.0, 0.0, temperature));
}

void main() {
    vec4 inColor = texture(layer, texCoord);
    vec3 outColor = mix(inColor.rgb, inColor.rgb * colorTemperatureToRGB(temperature), strength);
    outColor *= mix(1.0, dot(inColor.rgb, vec3(0.2126, 0.7152, 0.0722)) / max(dot(outColor, vec3(0.2126, 0.7152, 0.0722)), 1e-5), LuminancePreservationFactor);
    FragColor = vec4(outColor, inColor.a);
}`,h2={title:"Температура",fragment:c2,inputs:[{name:"temperature",title:"Температура",default:6550,input:{type:"float",min:1e3,max:2e4,step:100,layout:gt.RANGE}},{name:"strength",default:1,title:"Сила",input:{type:"float",min:-1,max:1,step:.05,layout:gt.RANGE}}]},m2=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D layer;
uniform vec2 resolution;
uniform float radius;

in vec2 texCoord;
out vec4 FragColor;

void main() {
    vec2 center = round(texCoord * resolution / radius);
    vec2 coords = center * vec2(radius) / resolution;
    vec4 origin = texture(layer, coords);
    FragColor = origin;
}
`,d2=[{name:"radius",title:"Радиус",description:"Размер пикселя",default:10,input:{type:"float",min:1,step:1}}],p2={title:"Пиксели",fragment:m2,inputs:d2};function _2(){return{noise:s2,bugle:t2,pinch:l2,swirl:f2,grayscale:{title:"Оттенки серого",fragment:n2},brightness_contrast:Qg,temperature:h2,pixelation:p2}}const g2=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform vec3 color;
uniform float alpha;
uniform int channel;
uniform int channels;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec2 tcoords = texCoord;
    vec4 origin = texture(stencilSampler, tcoords);
    float originAlpha = channelAlpha(channel, channels, origin);
    FragColor = vec4(color, originAlpha * alpha);
}
`,b2={fragment:g2,uniforms(i){return{color:Kt(i.value)}}},v2=`#version 300 es
precision mediump float;
precision mediump int;

uniform sampler2D stencilSampler;
uniform vec3 colors[4];
uniform float alpha;
uniform int channel;
uniform int channels;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    vec3 color = (1.0 - texCoord.x) * colors[0];
    color += (texCoord.x) * colors[1];
    color += (1.0 - texCoord.y) * colors[2];
    color += (texCoord.y) * colors[3];
    FragColor = vec4(color, channelAlpha(channel, channels, origin) * alpha);
}
`,$2={fragment:v2,uniforms(i){return{colors:[Kt(i.color1),Kt(i.color2),Kt(i.color3),Kt(i.color4)].flat()}}},w2=`#version 300 es
precision highp float;
precision highp int;

uniform sampler2D stencilSampler;
uniform sampler2D patternSampler;
uniform float alpha;
uniform int channel;
uniform int channels;
uniform mat4 patternTransform;

in vec2 texCoord;
out vec4 FragColor;

float channelAlpha(int currentChannel, int channels, vec4 o);

void main() {
    vec4 origin = texture(stencilSampler, texCoord);
    vec4 patternCoord = patternTransform * vec4(texCoord, 0, 1);
    FragColor = texture(patternSampler, patternCoord.xy / patternCoord.w);
    FragColor.a *= channelAlpha(channel, channels, origin) * alpha;
}
`;function y2(i){return{fragment:w2,uniforms(e,t,n){const r=n.textures.get(i.getTexture(e.name)),s=e.scale=="font"?_t.identity():_t.scaling([t.width/(r.width*e.scale.x),t.height/(r.height*e.scale.y),1]);return{patternSampler:r.texture,patternTransform:_t.multiply(_t.rotateZ(_t.translation([e.shift.x/r.width,e.shift.y/r.height,0]),e.rotate/180*Math.PI),s)}}}}function E2(i){return{color:b2,pattern:y2(i),gradient4:$2}}function k2(i){let e,t;return{c(){e=J("article"),t=de(i[7]),this.h()},l(n){e=Q(n,"ARTICLE",{class:!0});var r=re(e);t=pe(r,i[7]),r.forEach(A),this.h()},h(){L(e,"class","svelte-1ow4yee")},m(n,r){O(n,e,r),H(e,t)},p(n,r){r[0]&128&&st(t,n[7])},d(n){n&&A(e)}}}function A2(i){let e,t,n,r;return{c(){e=J("article"),t=de("Произошла ошибка: "),n=de(i[5]),r=de("."),this.h()},l(s){e=Q(s,"ARTICLE",{class:!0});var o=re(e);t=pe(o,"Произошла ошибка: "),n=pe(o,i[5]),r=pe(o,"."),o.forEach(A),this.h()},h(){L(e,"class","svelte-1ow4yee")},m(s,o){O(s,e,o),H(e,t),H(e,n),H(e,r)},p(s,o){o[0]&32&&st(n,s[5])},d(s){s&&A(e)}}}function S2(i){let e;return{c(){e=de("У нас проблемы")},l(t){e=pe(t,"У нас проблемы")},m(t,n){O(t,e,n)},d(t){t&&A(e)}}}function T2(i){let e,t,n,r,s,o,a,l,u,f,c,h,m,d,p;e=new ln({props:{open:i[7]!=="",closable:!1,$$slots:{default:[k2]},$$scope:{ctx:i}}}),n=new ln({props:{open:i[5]!==void 0,$$slots:{title:[S2],default:[A2]},$$scope:{ctx:i}}});function _(N){i[23](N)}let g={};i[4]!==void 0&&(g.fallbackBlob=i[4]),s=new gf({props:g}),ke.push(()=>Se(s,"fallbackBlob",_));function $(N){i[24](N)}function E(N){i[25](N)}function y(N){i[26](N)}function R(N){i[27](N)}function I(N){i[28](N)}function B(N){i[29](N)}let j={effectsShaders:i[18].effects,version:"v0.2.4-2-g9248f3b",memeExampleURL:i[0]};return i[8]!==void 0&&(j.meme=i[8]),i[9]!==void 0&&(j.frame=i[9]),i[10]!==void 0&&(j.block=i[10]),i[3]!==void 0&&(j.canvasUI=i[3]),i[2]!==void 0&&(j.canvasWebgl=i[2]),i[11]!==void 0&&(j.previews=i[11]),l=new Wd({props:j}),ke.push(()=>Se(l,"meme",$)),ke.push(()=>Se(l,"frame",E)),ke.push(()=>Se(l,"block",y)),ke.push(()=>Se(l,"canvasUI",R)),ke.push(()=>Se(l,"canvasWebgl",I)),ke.push(()=>Se(l,"previews",B)),l.$on("openMeme",i[30]),l.$on("saveMeme",i[31]),l.$on("renderMeme",i[32]),l.$on("changeBackground",i[33]),l.$on("frameToClipboard",i[19]),l.$on("createBlock",i[34]),l.$on("shiftBlock",i[35]),l.$on("deleteBlock",i[36]),l.$on("createFrame",i[37]),l.$on("shiftFrame",i[38]),l.$on("deleteFrame",i[39]),l.$on("framesFromImages",i[40]),l.$on("addPattern",i[41]),{c(){M(e.$$.fragment),t=le(),M(n.$$.fragment),r=le(),M(s.$$.fragment),a=le(),M(l.$$.fragment)},l(N){z(e.$$.fragment,N),t=ue(N),z(n.$$.fragment,N),r=ue(N),z(s.$$.fragment,N),a=ue(N),z(l.$$.fragment,N)},m(N,P){U(e,N,P),O(N,t,P),U(n,N,P),O(N,r,P),U(s,N,P),O(N,a,P),U(l,N,P),p=!0},p(N,P){const oe={};P[0]&128&&(oe.open=N[7]!==""),P[0]&128|P[1]&16384&&(oe.$$scope={dirty:P,ctx:N}),e.$set(oe);const C={};P[0]&32&&(C.open=N[5]!==void 0),P[0]&32|P[1]&16384&&(C.$$scope={dirty:P,ctx:N}),n.$set(C);const T={};!o&&P[0]&16&&(o=!0,T.fallbackBlob=N[4],Te(()=>o=!1)),s.$set(T);const b={};P[0]&1&&(b.memeExampleURL=N[0]),!u&&P[0]&256&&(u=!0,b.meme=N[8],Te(()=>u=!1)),!f&&P[0]&512&&(f=!0,b.frame=N[9],Te(()=>f=!1)),!c&&P[0]&1024&&(c=!0,b.block=N[10],Te(()=>c=!1)),!h&&P[0]&8&&(h=!0,b.canvasUI=N[3],Te(()=>h=!1)),!m&&P[0]&4&&(m=!0,b.canvasWebgl=N[2],Te(()=>m=!1)),!d&&P[0]&2048&&(d=!0,b.previews=N[11],Te(()=>d=!1)),l.$set(b)},i(N){p||(w(e.$$.fragment,N),w(n.$$.fragment,N),w(s.$$.fragment,N),w(l.$$.fragment,N),p=!0)},o(N){k(e.$$.fragment,N),k(n.$$.fragment,N),k(s.$$.fragment,N),k(l.$$.fragment,N),p=!1},d(N){D(e,N),N&&A(t),D(n,N),N&&A(r),D(s,N),N&&A(a),D(l,N)}}}function I2(i){let e,t,n;function r(o){i[42](o)}let s={$$slots:{default:[T2]},$$scope:{ctx:i}};return i[6]!==void 0&&(s.theme=i[6]),e=new Xd({props:s}),ke.push(()=>Se(e,"theme",r)),{c(){M(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,a){U(e,o,a),n=!0},p(o,a){const l={};a[0]&4031|a[1]&16384&&(l.$$scope={dirty:a,ctx:o}),!t&&a[0]&64&&(t=!0,l.theme=o[6],Te(()=>t=!1)),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){D(e,o)}}}function C2(i,e,t){let n,r,s,o,a,l,u;At(i,ss,ie=>t(6,r=ie));let{patternUrls:f}=e,{placeholdersUrls:c}=e,{memeURL:h=null}=e,{memeExampleURL:m}=e;const d=new Bn({frames:[{height:300,width:600,id:"loading-placeholder",blocks:[{id:"loading-block-placeholder",container:{type:"global",value:{maxHeight:.9,maxWidth:.9,minHeight:0}},content:{type:"text",value:{text:"Loading...",style:zs}},effects:[]}]}]});At(i,d,ie=>t(8,o=ie));const p=new Bn(d.value.frames[0]);At(i,p,ie=>t(9,a=ie));const _=new Bn(p.value.blocks.find(ie=>ie.content.type=="text"));At(i,_,ie=>t(10,l=ie));let g=p.value.id;d.subscribe(()=>{g=""}),p.subscribe(ie=>{g!=ie.id&&(g=ie.id,_.set(ie.blocks.find(Xe=>Xe.content.type=="text")))});let $,E,y,R=new Bn({});At(i,R,ie=>t(11,u=ie));let I=An("Собираем интерфейс...");At(i,I,ie=>t(7,s=ie));let B=An(void 0);At(i,B,ie=>t(5,n=ie));let j="default";const N={materials:E2(wt),effects:_2()};hn(()=>{try{j=new URL(location.href).searchParams.get("skin")??j,t(1,$=new Xg({block:_,frame:p,meme:d,busy:I,previews:R,error:B},E,f,c,j,N)),new rp(y,E,d,p,_,N.effects),h&&Ar().then(()=>fetch(h)).then(ie=>ie.blob()).then(ie=>$.openMeme(ie))}catch(ie){sa(B,n=ie,n)}return()=>$.clear()});let P=null;function oe(){$&&$.copyFrameToClipboard().catch(ie=>{if(ie instanceof Ko)t(4,P=ie.blob);else throw ie})}function C(ie){P=ie,t(4,P)}function T(ie){o=ie,d.set(o)}function b(ie){a=ie,p.set(a)}function X(ie){l=ie,_.set(l)}function be(ie){y=ie,t(3,y)}function x(ie){E=ie,t(2,E)}function he(ie){u=ie,R.set(u)}const te=ie=>$==null?void 0:$.openMeme(ie.detail.file),Ee=()=>{var ie;return(ie=$==null?void 0:$.exportMeme())==null?void 0:ie.then(fs("meme.meme"))},W=()=>{var ie;return(ie=$==null?void 0:$.renderMeme())==null?void 0:ie.then(({ext:Xe,blob:v})=>fs(`meme.${Xe}`)(v))},V=ie=>$==null?void 0:$.setBackground(ie.detail.file),K=ie=>{var Xe;return $==null?void 0:$.addBlock((Xe=ie.detail)==null?void 0:Xe.origin)},ee=ie=>$==null?void 0:$.shiftBlock(ie.detail.block,ie.detail.shift),me=ie=>$==null?void 0:$.deleteBlock(ie.detail.block),se=ie=>{var Xe;return $==null?void 0:$.addFrame((Xe=ie.detail)==null?void 0:Xe.origin)},$e=ie=>$==null?void 0:$.shiftFrame(ie.detail.frame,ie.detail.shift),q=ie=>$==null?void 0:$.deleteFrame(ie.detail.frame),Ne=ie=>$==null?void 0:$.framesFromImages(ie.detail.files),Pe=ie=>$==null?void 0:$.addPattern(ie.detail.name,ie.detail.image);function xe(ie){r=ie,ss.set(r)}return i.$$set=ie=>{"patternUrls"in ie&&t(20,f=ie.patternUrls),"placeholdersUrls"in ie&&t(21,c=ie.placeholdersUrls),"memeURL"in ie&&t(22,h=ie.memeURL),"memeExampleURL"in ie&&t(0,m=ie.memeExampleURL)},[m,$,E,y,P,n,r,s,o,a,l,u,d,p,_,R,I,B,N,oe,f,c,h,C,T,b,X,be,x,he,te,Ee,W,V,K,ee,me,se,$e,q,Ne,Pe,xe]}class R2 extends we{constructor(e){super(),ye(this,e,C2,I2,ve,{patternUrls:20,placeholdersUrls:21,memeURL:22,memeExampleURL:0},null,[-1,-1])}}const F2=""+new URL("../assets/docs.382a62e4.meme",import.meta.url).href,N2=""+new URL("../assets/checkered.07b41575.webp",import.meta.url).href,P2=""+new URL("../assets/debug.ca573084.webp",import.meta.url).href,B2=""+new URL("../assets/fire.f2d0e917.webp",import.meta.url).href,M2=""+new URL("../assets/glitter-gold.b5c4520e.webp",import.meta.url).href,z2=""+new URL("../assets/rainbow.3197970b.webp",import.meta.url).href,U2=""+new URL("../assets/stars.049cd9a5.webp",import.meta.url).href,D2=""+new URL("../assets/1.fc1781c3.webp",import.meta.url).href,L2=""+new URL("../assets/1.474db116.webp",import.meta.url).href,x2=""+new URL("../assets/2.4b45e6c9.webp",import.meta.url).href,O2=""+new URL("../assets/3.c55e7f6b.webp",import.meta.url).href,G2=""+new URL("../assets/4.730aa954.webp",import.meta.url).href,H2=""+new URL("../assets/5.dff970cb.webp",import.meta.url).href,j2=""+new URL("../assets/6.3c784f8d.webp",import.meta.url).href,W2=""+new URL("../assets/7.8ab2f8dc.webp",import.meta.url).href,V2=""+new URL("../assets/1.949784d4.webp",import.meta.url).href,Z2=""+new URL("../assets/1.11d6ce27.webp",import.meta.url).href,X2=""+new URL("../assets/2.97d5dc7d.webp",import.meta.url).href,q2=""+new URL("../assets/3.e8249041.webp",import.meta.url).href,K2=""+new URL("../assets/4.94ed153e.webp",import.meta.url).href,Y2=""+new URL("../assets/5.843b6f84.webp",import.meta.url).href,J2=""+new URL("../assets/6.056d0cf4.webp",import.meta.url).href,Q2=""+new URL("../assets/7.6fc2d0f6.webp",import.meta.url).href;function eb([i,e]){const t=i.split("/");let n=t[t.length-1];return n=n.slice(0,n.lastIndexOf(".")),{name:n,url:e}}function tb(i){return Object.entries(i).map(eb)}const nb=tb(Object.assign({"/src/lib/resources/patterns/checkered.png":N2,"/src/lib/resources/patterns/debug.png":P2,"/src/lib/resources/patterns/fire.png":B2,"/src/lib/resources/patterns/glitter-gold.jpg":M2,"/src/lib/resources/patterns/rainbow.png":z2,"/src/lib/resources/patterns/stars.png":U2})),zr=Object.entries(Object.assign({"/src/lib/resources/placeholders/default/await/1.png":D2,"/src/lib/resources/placeholders/default/empty/1.png":L2,"/src/lib/resources/placeholders/default/empty/2.png":x2,"/src/lib/resources/placeholders/default/empty/3.png":O2,"/src/lib/resources/placeholders/default/empty/4.png":G2,"/src/lib/resources/placeholders/default/empty/5.png":H2,"/src/lib/resources/placeholders/default/empty/6.png":j2,"/src/lib/resources/placeholders/default/empty/7.png":W2,"/src/lib/resources/placeholders/inside/await/1.png":V2,"/src/lib/resources/placeholders/inside/empty/1.png":Z2,"/src/lib/resources/placeholders/inside/empty/2.png":X2,"/src/lib/resources/placeholders/inside/empty/3.png":q2,"/src/lib/resources/placeholders/inside/empty/4.png":K2,"/src/lib/resources/placeholders/inside/empty/5.png":Y2,"/src/lib/resources/placeholders/inside/empty/6.png":J2,"/src/lib/resources/placeholders/inside/empty/7.png":Q2})).map(([i,e])=>{const t=/placeholders\//.exec(i);if(!t)throw Error(`Not found prefix 'placeholder' in '${i}''`);const n=t.index+t[0].length,r=i.substring(n),[s,o,a]=r.split("/"),l=a.slice(0,a.lastIndexOf("."));return{skin:s,category:o,name:l,url:e}}).reduce((i,e)=>(i[e.skin]=i[e.skin]??{},i[e.skin][e.category]=i[e.skin][e.category]??[],i[e.skin][e.category].push(e),i),{});if(!Zg(zr))throw Error(`Incorrect configuration: this is not skins map: ${JSON.stringify(zr)}`);const As={patternUrls:nb,placeholdersUrls:zr};function rb(i){let e,t;return e=new R2({props:{patternUrls:As.patternUrls,placeholdersUrls:As.placeholdersUrls,memeExampleURL:F2}}),{c(){M(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,r){U(e,n,r),t=!0},p:qe,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){D(e,n)}}}class ab extends we{constructor(e){super(),ye(this,e,null,rb,ve,{})}}export{ab as default};
